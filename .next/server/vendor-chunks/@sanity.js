"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@sanity";
exports.ids = ["vendor-chunks/@sanity"];
exports.modules = {

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js":
/*!************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/builder.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __assign = (void 0) && (void 0).__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (void 0) && (void 0).__createBinding || (Object.create ? function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, {\n        enumerable: true,\n        get: function() {\n            return m[k];\n        }\n    });\n} : function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n});\nvar __setModuleDefault = (void 0) && (void 0).__setModuleDefault || (Object.create ? function(o, v) {\n    Object.defineProperty(o, \"default\", {\n        enumerable: true,\n        value: v\n    });\n} : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (void 0) && (void 0).__importStar || function(mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) {\n        for(var k in mod)if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    }\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.ImageUrlBuilder = void 0;\nvar urlForImage_1 = __importStar(__webpack_require__(/*! ./urlForImage */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\"));\nvar validFits = [\n    \"clip\",\n    \"crop\",\n    \"fill\",\n    \"fillmax\",\n    \"max\",\n    \"scale\",\n    \"min\"\n];\nvar validCrops = [\n    \"top\",\n    \"bottom\",\n    \"left\",\n    \"right\",\n    \"center\",\n    \"focalpoint\",\n    \"entropy\"\n];\nvar validAutoModes = [\n    \"format\"\n];\nfunction isSanityModernClientLike(client) {\n    return client && \"config\" in client ? typeof client.config === \"function\" : false;\n}\nfunction isSanityClientLike(client) {\n    return client && \"clientConfig\" in client ? typeof client.clientConfig === \"object\" : false;\n}\nfunction rewriteSpecName(key) {\n    var specs = urlForImage_1.SPEC_NAME_TO_URL_NAME_MAPPINGS;\n    for(var _i = 0, specs_1 = specs; _i < specs_1.length; _i++){\n        var entry = specs_1[_i];\n        var specName = entry[0], param = entry[1];\n        if (key === specName || key === param) {\n            return specName;\n        }\n    }\n    return key;\n}\nfunction urlBuilder(options) {\n    // Did we get a modernish client?\n    if (isSanityModernClientLike(options)) {\n        // Inherit config from client\n        var _a = options.config(), apiUrl = _a.apiHost, projectId = _a.projectId, dataset = _a.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Did we get a SanityClient?\n    var client = options;\n    if (isSanityClientLike(client)) {\n        // Inherit config from client\n        var _b = client.clientConfig, apiUrl = _b.apiHost, projectId = _b.projectId, dataset = _b.dataset;\n        var apiHost = apiUrl || \"https://api.sanity.io\";\n        return new ImageUrlBuilder(null, {\n            baseUrl: apiHost.replace(/^https:\\/\\/api\\./, \"https://cdn.\"),\n            projectId: projectId,\n            dataset: dataset\n        });\n    }\n    // Or just accept the options as given\n    return new ImageUrlBuilder(null, options);\n}\nexports[\"default\"] = urlBuilder;\nvar ImageUrlBuilder = /** @class */ function() {\n    function ImageUrlBuilder(parent, options) {\n        this.options = parent ? __assign(__assign({}, parent.options || {}), options || {}) : __assign({}, options || {}); // Copy options\n    }\n    ImageUrlBuilder.prototype.withOptions = function(options) {\n        var baseUrl = options.baseUrl || this.options.baseUrl;\n        var newOptions = {\n            baseUrl: baseUrl\n        };\n        for(var key in options){\n            if (options.hasOwnProperty(key)) {\n                var specKey = rewriteSpecName(key);\n                newOptions[specKey] = options[key];\n            }\n        }\n        return new ImageUrlBuilder(this, __assign({\n            baseUrl: baseUrl\n        }, newOptions));\n    };\n    // The image to be represented. Accepts a Sanity 'image'-document, 'asset'-document or\n    // _id of asset. To get the benefit of automatic hot-spot/crop integration with the content\n    // studio, the 'image'-document must be provided.\n    ImageUrlBuilder.prototype.image = function(source) {\n        return this.withOptions({\n            source: source\n        });\n    };\n    // Specify the dataset\n    ImageUrlBuilder.prototype.dataset = function(dataset) {\n        return this.withOptions({\n            dataset: dataset\n        });\n    };\n    // Specify the projectId\n    ImageUrlBuilder.prototype.projectId = function(projectId) {\n        return this.withOptions({\n            projectId: projectId\n        });\n    };\n    // Specify background color\n    ImageUrlBuilder.prototype.bg = function(bg) {\n        return this.withOptions({\n            bg: bg\n        });\n    };\n    // Set DPR scaling factor\n    ImageUrlBuilder.prototype.dpr = function(dpr) {\n        // A DPR of 1 is the default - so only include it if we have a different value\n        return this.withOptions(dpr && dpr !== 1 ? {\n            dpr: dpr\n        } : {});\n    };\n    // Specify the width of the image in pixels\n    ImageUrlBuilder.prototype.width = function(width) {\n        return this.withOptions({\n            width: width\n        });\n    };\n    // Specify the height of the image in pixels\n    ImageUrlBuilder.prototype.height = function(height) {\n        return this.withOptions({\n            height: height\n        });\n    };\n    // Specify focal point in fraction of image dimensions. Each component 0.0-1.0\n    ImageUrlBuilder.prototype.focalPoint = function(x, y) {\n        return this.withOptions({\n            focalPoint: {\n                x: x,\n                y: y\n            }\n        });\n    };\n    ImageUrlBuilder.prototype.maxWidth = function(maxWidth) {\n        return this.withOptions({\n            maxWidth: maxWidth\n        });\n    };\n    ImageUrlBuilder.prototype.minWidth = function(minWidth) {\n        return this.withOptions({\n            minWidth: minWidth\n        });\n    };\n    ImageUrlBuilder.prototype.maxHeight = function(maxHeight) {\n        return this.withOptions({\n            maxHeight: maxHeight\n        });\n    };\n    ImageUrlBuilder.prototype.minHeight = function(minHeight) {\n        return this.withOptions({\n            minHeight: minHeight\n        });\n    };\n    // Specify width and height in pixels\n    ImageUrlBuilder.prototype.size = function(width, height) {\n        return this.withOptions({\n            width: width,\n            height: height\n        });\n    };\n    // Specify blur between 0 and 100\n    ImageUrlBuilder.prototype.blur = function(blur) {\n        return this.withOptions({\n            blur: blur\n        });\n    };\n    ImageUrlBuilder.prototype.sharpen = function(sharpen) {\n        return this.withOptions({\n            sharpen: sharpen\n        });\n    };\n    // Specify the desired rectangle of the image\n    ImageUrlBuilder.prototype.rect = function(left, top, width, height) {\n        return this.withOptions({\n            rect: {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            }\n        });\n    };\n    // Specify the image format of the image. 'jpg', 'pjpg', 'png', 'webp'\n    ImageUrlBuilder.prototype.format = function(format) {\n        return this.withOptions({\n            format: format\n        });\n    };\n    ImageUrlBuilder.prototype.invert = function(invert) {\n        return this.withOptions({\n            invert: invert\n        });\n    };\n    // Rotation in degrees 0, 90, 180, 270\n    ImageUrlBuilder.prototype.orientation = function(orientation) {\n        return this.withOptions({\n            orientation: orientation\n        });\n    };\n    // Compression quality 0-100\n    ImageUrlBuilder.prototype.quality = function(quality) {\n        return this.withOptions({\n            quality: quality\n        });\n    };\n    // Make it a download link. Parameter is default filename.\n    ImageUrlBuilder.prototype.forceDownload = function(download) {\n        return this.withOptions({\n            download: download\n        });\n    };\n    // Flip image horizontally\n    ImageUrlBuilder.prototype.flipHorizontal = function() {\n        return this.withOptions({\n            flipHorizontal: true\n        });\n    };\n    // Flip image vertically\n    ImageUrlBuilder.prototype.flipVertical = function() {\n        return this.withOptions({\n            flipVertical: true\n        });\n    };\n    // Ignore crop/hotspot from image record, even when present\n    ImageUrlBuilder.prototype.ignoreImageParams = function() {\n        return this.withOptions({\n            ignoreImageParams: true\n        });\n    };\n    ImageUrlBuilder.prototype.fit = function(value) {\n        if (validFits.indexOf(value) === -1) {\n            throw new Error('Invalid fit mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            fit: value\n        });\n    };\n    ImageUrlBuilder.prototype.crop = function(value) {\n        if (validCrops.indexOf(value) === -1) {\n            throw new Error('Invalid crop mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            crop: value\n        });\n    };\n    // Saturation\n    ImageUrlBuilder.prototype.saturation = function(saturation) {\n        return this.withOptions({\n            saturation: saturation\n        });\n    };\n    ImageUrlBuilder.prototype.auto = function(value) {\n        if (validAutoModes.indexOf(value) === -1) {\n            throw new Error('Invalid auto mode \"'.concat(value, '\"'));\n        }\n        return this.withOptions({\n            auto: value\n        });\n    };\n    // Specify the number of pixels to pad the image\n    ImageUrlBuilder.prototype.pad = function(pad) {\n        return this.withOptions({\n            pad: pad\n        });\n    };\n    // Gets the url based on the submitted parameters\n    ImageUrlBuilder.prototype.url = function() {\n        return (0, urlForImage_1.default)(this.options);\n    };\n    // Alias for url()\n    ImageUrlBuilder.prototype.toString = function() {\n        return this.url();\n    };\n    return ImageUrlBuilder;\n}();\nexports.ImageUrlBuilder = ImageUrlBuilder; //# sourceMappingURL=builder.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLElBQUlBLFdBQVcsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxRQUFRLElBQUs7SUFDdENBLFdBQVdDLE9BQU9DLE1BQU0sSUFBSSxTQUFTQyxDQUFDO1FBQ2xDLElBQUssSUFBSUMsR0FBR0MsSUFBSSxHQUFHQyxJQUFJQyxVQUFVQyxNQUFNLEVBQUVILElBQUlDLEdBQUdELElBQUs7WUFDakRELElBQUlHLFNBQVMsQ0FBQ0YsRUFBRTtZQUNoQixJQUFLLElBQUlJLEtBQUtMLEVBQUcsSUFBSUgsT0FBT1MsU0FBUyxDQUFDQyxjQUFjLENBQUNDLElBQUksQ0FBQ1IsR0FBR0ssSUFDekROLENBQUMsQ0FBQ00sRUFBRSxHQUFHTCxDQUFDLENBQUNLLEVBQUU7UUFDbkI7UUFDQSxPQUFPTjtJQUNYO0lBQ0EsT0FBT0gsU0FBU2EsS0FBSyxDQUFDLElBQUksRUFBRU47QUFDaEM7QUFDQSxJQUFJTyxrQkFBa0IsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxlQUFlLElBQU1iLENBQUFBLE9BQU9jLE1BQU0sR0FBSSxTQUFTQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsQ0FBQyxFQUFFQyxFQUFFO0lBQzFGLElBQUlBLE9BQU9DLFdBQVdELEtBQUtEO0lBQzNCakIsT0FBT29CLGNBQWMsQ0FBQ0wsR0FBR0csSUFBSTtRQUFFRyxZQUFZO1FBQU1DLEtBQUs7WUFBYSxPQUFPTixDQUFDLENBQUNDLEVBQUU7UUFBRTtJQUFFO0FBQ3RGLElBQU0sU0FBU0YsQ0FBQyxFQUFFQyxDQUFDLEVBQUVDLENBQUMsRUFBRUMsRUFBRTtJQUN0QixJQUFJQSxPQUFPQyxXQUFXRCxLQUFLRDtJQUMzQkYsQ0FBQyxDQUFDRyxHQUFHLEdBQUdGLENBQUMsQ0FBQ0MsRUFBRTtBQUNoQixDQUFDO0FBQ0QsSUFBSU0scUJBQXFCLENBQUMsTUFBRyxL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RyxHQUFHO1FBQzVCLE9BQU8sQ0FBQyxHQUFHdEUsY0FBYzZCLE9BQU8sRUFBRSxJQUFJLENBQUNULE9BQU87SUFDbEQ7SUFDQSxrQkFBa0I7SUFDbEJyQixnQkFBZ0J0QixTQUFTLENBQUM4RixRQUFRLEdBQUc7UUFDakMsT0FBTyxJQUFJLENBQUNELEdBQUc7SUFDbkI7SUFDQSxPQUFPdkU7QUFDWDtBQUNBRCx1QkFBdUIsR0FBR0MsaUJBQzFCLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL2pvaG4vLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvYnVpbGRlci5qcz83YTk2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbWFnZVVybEJ1aWxkZXIgPSB2b2lkIDA7XG52YXIgdXJsRm9ySW1hZ2VfMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiLi91cmxGb3JJbWFnZVwiKSk7XG52YXIgdmFsaWRGaXRzID0gWydjbGlwJywgJ2Nyb3AnLCAnZmlsbCcsICdmaWxsbWF4JywgJ21heCcsICdzY2FsZScsICdtaW4nXTtcbnZhciB2YWxpZENyb3BzID0gWyd0b3AnLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnLCAnY2VudGVyJywgJ2ZvY2FscG9pbnQnLCAnZW50cm9weSddO1xudmFyIHZhbGlkQXV0b01vZGVzID0gWydmb3JtYXQnXTtcbmZ1bmN0aW9uIGlzU2FuaXR5TW9kZXJuQ2xpZW50TGlrZShjbGllbnQpIHtcbiAgICByZXR1cm4gY2xpZW50ICYmICdjb25maWcnIGluIGNsaWVudCA/IHR5cGVvZiBjbGllbnQuY29uZmlnID09PSAnZnVuY3Rpb24nIDogZmFsc2U7XG59XG5mdW5jdGlvbiBpc1Nhbml0eUNsaWVudExpa2UoY2xpZW50KSB7XG4gICAgcmV0dXJuIGNsaWVudCAmJiAnY2xpZW50Q29uZmlnJyBpbiBjbGllbnQgPyB0eXBlb2YgY2xpZW50LmNsaWVudENvbmZpZyA9PT0gJ29iamVjdCcgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIHJld3JpdGVTcGVjTmFtZShrZXkpIHtcbiAgICB2YXIgc3BlY3MgPSB1cmxGb3JJbWFnZV8xLlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUztcbiAgICBmb3IgKHZhciBfaSA9IDAsIHNwZWNzXzEgPSBzcGVjczsgX2kgPCBzcGVjc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgZW50cnkgPSBzcGVjc18xW19pXTtcbiAgICAgICAgdmFyIHNwZWNOYW1lID0gZW50cnlbMF0sIHBhcmFtID0gZW50cnlbMV07XG4gICAgICAgIGlmIChrZXkgPT09IHNwZWNOYW1lIHx8IGtleSA9PT0gcGFyYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBzcGVjTmFtZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5O1xufVxuZnVuY3Rpb24gdXJsQnVpbGRlcihvcHRpb25zKSB7XG4gICAgLy8gRGlkIHdlIGdldCBhIG1vZGVybmlzaCBjbGllbnQ/XG4gICAgaWYgKGlzU2FuaXR5TW9kZXJuQ2xpZW50TGlrZShvcHRpb25zKSkge1xuICAgICAgICAvLyBJbmhlcml0IGNvbmZpZyBmcm9tIGNsaWVudFxuICAgICAgICB2YXIgX2EgPSBvcHRpb25zLmNvbmZpZygpLCBhcGlVcmwgPSBfYS5hcGlIb3N0LCBwcm9qZWN0SWQgPSBfYS5wcm9qZWN0SWQsIGRhdGFzZXQgPSBfYS5kYXRhc2V0O1xuICAgICAgICB2YXIgYXBpSG9zdCA9IGFwaVVybCB8fCAnaHR0cHM6Ly9hcGkuc2FuaXR5LmlvJztcbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIobnVsbCwge1xuICAgICAgICAgICAgYmFzZVVybDogYXBpSG9zdC5yZXBsYWNlKC9eaHR0cHM6XFwvXFwvYXBpXFwuLywgJ2h0dHBzOi8vY2RuLicpLFxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9qZWN0SWQsXG4gICAgICAgICAgICBkYXRhc2V0OiBkYXRhc2V0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gRGlkIHdlIGdldCBhIFNhbml0eUNsaWVudD9cbiAgICB2YXIgY2xpZW50ID0gb3B0aW9ucztcbiAgICBpZiAoaXNTYW5pdHlDbGllbnRMaWtlKGNsaWVudCkpIHtcbiAgICAgICAgLy8gSW5oZXJpdCBjb25maWcgZnJvbSBjbGllbnRcbiAgICAgICAgdmFyIF9iID0gY2xpZW50LmNsaWVudENvbmZpZywgYXBpVXJsID0gX2IuYXBpSG9zdCwgcHJvamVjdElkID0gX2IucHJvamVjdElkLCBkYXRhc2V0ID0gX2IuZGF0YXNldDtcbiAgICAgICAgdmFyIGFwaUhvc3QgPSBhcGlVcmwgfHwgJ2h0dHBzOi8vYXBpLnNhbml0eS5pbyc7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VVcmxCdWlsZGVyKG51bGwsIHtcbiAgICAgICAgICAgIGJhc2VVcmw6IGFwaUhvc3QucmVwbGFjZSgvXmh0dHBzOlxcL1xcL2FwaVxcLi8sICdodHRwczovL2Nkbi4nKSxcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICAgICAgZGF0YXNldDogZGF0YXNldCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIE9yIGp1c3QgYWNjZXB0IHRoZSBvcHRpb25zIGFzIGdpdmVuXG4gICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIobnVsbCwgb3B0aW9ucyk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB1cmxCdWlsZGVyO1xudmFyIEltYWdlVXJsQnVpbGRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBJbWFnZVVybEJ1aWxkZXIocGFyZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHBhcmVudFxuICAgICAgICAgICAgPyBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKHBhcmVudC5vcHRpb25zIHx8IHt9KSksIChvcHRpb25zIHx8IHt9KSkgOiBfX2Fzc2lnbih7fSwgKG9wdGlvbnMgfHwge30pKTsgLy8gQ29weSBvcHRpb25zXG4gICAgfVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUud2l0aE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybCB8fCB0aGlzLm9wdGlvbnMuYmFzZVVybDtcbiAgICAgICAgdmFyIG5ld09wdGlvbnMgPSB7IGJhc2VVcmw6IGJhc2VVcmwgfTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3BlY0tleSA9IHJld3JpdGVTcGVjTmFtZShrZXkpO1xuICAgICAgICAgICAgICAgIG5ld09wdGlvbnNbc3BlY0tleV0gPSBvcHRpb25zW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBJbWFnZVVybEJ1aWxkZXIodGhpcywgX19hc3NpZ24oeyBiYXNlVXJsOiBiYXNlVXJsIH0sIG5ld09wdGlvbnMpKTtcbiAgICB9O1xuICAgIC8vIFRoZSBpbWFnZSB0byBiZSByZXByZXNlbnRlZC4gQWNjZXB0cyBhIFNhbml0eSAnaW1hZ2UnLWRvY3VtZW50LCAnYXNzZXQnLWRvY3VtZW50IG9yXG4gICAgLy8gX2lkIG9mIGFzc2V0LiBUbyBnZXQgdGhlIGJlbmVmaXQgb2YgYXV0b21hdGljIGhvdC1zcG90L2Nyb3AgaW50ZWdyYXRpb24gd2l0aCB0aGUgY29udGVudFxuICAgIC8vIHN0dWRpbywgdGhlICdpbWFnZSctZG9jdW1lbnQgbXVzdCBiZSBwcm92aWRlZC5cbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHNvdXJjZTogc291cmNlIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB0aGUgZGF0YXNldFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuZGF0YXNldCA9IGZ1bmN0aW9uIChkYXRhc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZGF0YXNldDogZGF0YXNldCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIHByb2plY3RJZFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucHJvamVjdElkID0gZnVuY3Rpb24gKHByb2plY3RJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHByb2plY3RJZDogcHJvamVjdElkIH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5iZyA9IGZ1bmN0aW9uIChiZykge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGJnOiBiZyB9KTtcbiAgICB9O1xuICAgIC8vIFNldCBEUFIgc2NhbGluZyBmYWN0b3JcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmRwciA9IGZ1bmN0aW9uIChkcHIpIHtcbiAgICAgICAgLy8gQSBEUFIgb2YgMSBpcyB0aGUgZGVmYXVsdCAtIHNvIG9ubHkgaW5jbHVkZSBpdCBpZiB3ZSBoYXZlIGEgZGlmZmVyZW50IHZhbHVlXG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKGRwciAmJiBkcHIgIT09IDEgPyB7IGRwcjogZHByIH0gOiB7fSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSB3aWR0aCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS53aWR0aCA9IGZ1bmN0aW9uICh3aWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHdpZHRoOiB3aWR0aCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGhlaWdodCBvZiB0aGUgaW1hZ2UgaW4gcGl4ZWxzXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5oZWlnaHQgPSBmdW5jdGlvbiAoaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgaGVpZ2h0OiBoZWlnaHQgfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IGZvY2FsIHBvaW50IGluIGZyYWN0aW9uIG9mIGltYWdlIGRpbWVuc2lvbnMuIEVhY2ggY29tcG9uZW50IDAuMC0xLjBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZvY2FsUG9pbnQgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZvY2FsUG9pbnQ6IHsgeDogeCwgeTogeSB9IH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5tYXhXaWR0aCA9IGZ1bmN0aW9uIChtYXhXaWR0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG1heFdpZHRoOiBtYXhXaWR0aCB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWluV2lkdGggPSBmdW5jdGlvbiAobWluV2lkdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtaW5XaWR0aDogbWluV2lkdGggfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLm1heEhlaWdodCA9IGZ1bmN0aW9uIChtYXhIZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBtYXhIZWlnaHQ6IG1heEhlaWdodCB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUubWluSGVpZ2h0ID0gZnVuY3Rpb24gKG1pbkhlaWdodCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG1pbkhlaWdodDogbWluSGVpZ2h0IH0pO1xuICAgIH07XG4gICAgLy8gU3BlY2lmeSB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVsc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgYmx1ciBiZXR3ZWVuIDAgYW5kIDEwMFxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uIChibHVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgYmx1cjogYmx1ciB9KTtcbiAgICB9O1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUuc2hhcnBlbiA9IGZ1bmN0aW9uIChzaGFycGVuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgc2hhcnBlbjogc2hhcnBlbiB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIGRlc2lyZWQgcmVjdGFuZ2xlIG9mIHRoZSBpbWFnZVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucmVjdCA9IGZ1bmN0aW9uIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyByZWN0OiB7IGxlZnQ6IGxlZnQsIHRvcDogdG9wLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0gfSk7XG4gICAgfTtcbiAgICAvLyBTcGVjaWZ5IHRoZSBpbWFnZSBmb3JtYXQgb2YgdGhlIGltYWdlLiAnanBnJywgJ3BqcGcnLCAncG5nJywgJ3dlYnAnXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZm9ybWF0OiBmb3JtYXQgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIChpbnZlcnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBpbnZlcnQ6IGludmVydCB9KTtcbiAgICB9O1xuICAgIC8vIFJvdGF0aW9uIGluIGRlZ3JlZXMgMCwgOTAsIDE4MCwgMjcwXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5vcmllbnRhdGlvbiA9IGZ1bmN0aW9uIChvcmllbnRhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbiB9KTtcbiAgICB9O1xuICAgIC8vIENvbXByZXNzaW9uIHF1YWxpdHkgMC0xMDBcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLnF1YWxpdHkgPSBmdW5jdGlvbiAocXVhbGl0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHF1YWxpdHk6IHF1YWxpdHkgfSk7XG4gICAgfTtcbiAgICAvLyBNYWtlIGl0IGEgZG93bmxvYWQgbGluay4gUGFyYW1ldGVyIGlzIGRlZmF1bHQgZmlsZW5hbWUuXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mb3JjZURvd25sb2FkID0gZnVuY3Rpb24gKGRvd25sb2FkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZG93bmxvYWQ6IGRvd25sb2FkIH0pO1xuICAgIH07XG4gICAgLy8gRmxpcCBpbWFnZSBob3Jpem9udGFsbHlcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmZsaXBIb3Jpem9udGFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZsaXBIb3Jpem9udGFsOiB0cnVlIH0pO1xuICAgIH07XG4gICAgLy8gRmxpcCBpbWFnZSB2ZXJ0aWNhbGx5XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5mbGlwVmVydGljYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgZmxpcFZlcnRpY2FsOiB0cnVlIH0pO1xuICAgIH07XG4gICAgLy8gSWdub3JlIGNyb3AvaG90c3BvdCBmcm9tIGltYWdlIHJlY29yZCwgZXZlbiB3aGVuIHByZXNlbnRcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmlnbm9yZUltYWdlUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGlnbm9yZUltYWdlUGFyYW1zOiB0cnVlIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5maXQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbGlkRml0cy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZml0IG1vZGUgXFxcIlwiLmNvbmNhdCh2YWx1ZSwgXCJcXFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IGZpdDogdmFsdWUgfSk7XG4gICAgfTtcbiAgICBJbWFnZVVybEJ1aWxkZXIucHJvdG90eXBlLmNyb3AgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbGlkQ3JvcHMuaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNyb3AgbW9kZSBcXFwiXCIuY29uY2F0KHZhbHVlLCBcIlxcXCJcIikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhPcHRpb25zKHsgY3JvcDogdmFsdWUgfSk7XG4gICAgfTtcbiAgICAvLyBTYXR1cmF0aW9uXG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5zYXR1cmF0aW9uID0gZnVuY3Rpb24gKHNhdHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBzYXR1cmF0aW9uOiBzYXR1cmF0aW9uIH0pO1xuICAgIH07XG4gICAgSW1hZ2VVcmxCdWlsZGVyLnByb3RvdHlwZS5hdXRvID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWxpZEF1dG9Nb2Rlcy5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYXV0byBtb2RlIFxcXCJcIi5jb25jYXQodmFsdWUsIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aE9wdGlvbnMoeyBhdXRvOiB2YWx1ZSB9KTtcbiAgICB9O1xuICAgIC8vIFNwZWNpZnkgdGhlIG51bWJlciBvZiBwaXhlbHMgdG8gcGFkIHRoZSBpbWFnZVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZCkge1xuICAgICAgICByZXR1cm4gdGhpcy53aXRoT3B0aW9ucyh7IHBhZDogcGFkIH0pO1xuICAgIH07XG4gICAgLy8gR2V0cyB0aGUgdXJsIGJhc2VkIG9uIHRoZSBzdWJtaXR0ZWQgcGFyYW1ldGVyc1xuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKDAsIHVybEZvckltYWdlXzEuZGVmYXVsdCkodGhpcy5vcHRpb25zKTtcbiAgICB9O1xuICAgIC8vIEFsaWFzIGZvciB1cmwoKVxuICAgIEltYWdlVXJsQnVpbGRlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVybCgpO1xuICAgIH07XG4gICAgcmV0dXJuIEltYWdlVXJsQnVpbGRlcjtcbn0oKSk7XG5leHBvcnRzLkltYWdlVXJsQnVpbGRlciA9IEltYWdlVXJsQnVpbGRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ1aWxkZXIuanMubWFwIl0sIm5hbWVzIjpbIl9fYXNzaWduIiwiT2JqZWN0IiwiYXNzaWduIiwidCIsInMiLCJpIiwibiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJhcHBseSIsIl9fY3JlYXRlQmluZGluZyIsImNyZWF0ZSIsIm8iLCJtIiwiayIsImsyIiwidW5kZWZpbmVkIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiX19zZXRNb2R1bGVEZWZhdWx0IiwidiIsInZhbHVlIiwiX19pbXBvcnRTdGFyIiwibW9kIiwiX19lc01vZHVsZSIsInJlc3VsdCIsImV4cG9ydHMiLCJJbWFnZVVybEJ1aWxkZXIiLCJ1cmxGb3JJbWFnZV8xIiwicmVxdWlyZSIsInZhbGlkRml0cyIsInZhbGlkQ3JvcHMiLCJ2YWxpZEF1dG9Nb2RlcyIsImlzU2FuaXR5TW9kZXJuQ2xpZW50TGlrZSIsImNsaWVudCIsImNvbmZpZyIsImlzU2FuaXR5Q2xpZW50TGlrZSIsImNsaWVudENvbmZpZyIsInJld3JpdGVTcGVjTmFtZSIsImtleSIsInNwZWNzIiwiU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTIiwiX2kiLCJzcGVjc18xIiwiZW50cnkiLCJzcGVjTmFtZSIsInBhcmFtIiwidXJsQnVpbGRlciIsIm9wdGlvbnMiLCJfYSIsImFwaVVybCIsImFwaUhvc3QiLCJwcm9qZWN0SWQiLCJkYXRhc2V0IiwiYmFzZVVybCIsInJlcGxhY2UiLCJfYiIsImRlZmF1bHQiLCJwYXJlbnQiLCJ3aXRoT3B0aW9ucyIsIm5ld09wdGlvbnMiLCJzcGVjS2V5IiwiaW1hZ2UiLCJzb3VyY2UiLCJiZyIsImRwciIsIndpZHRoIiwiaGVpZ2h0IiwiZm9jYWxQb2ludCIsIngiLCJ5IiwibWF4V2lkdGgiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm1pbkhlaWdodCIsInNpemUiLCJibHVyIiwic2hhcnBlbiIsInJlY3QiLCJsZWZ0IiwidG9wIiwiZm9ybWF0IiwiaW52ZXJ0Iiwib3JpZW50YXRpb24iLCJxdWFsaXR5IiwiZm9yY2VEb3dubG9hZCIsImRvd25sb2FkIiwiZmxpcEhvcml6b250YWwiLCJmbGlwVmVydGljYWwiLCJpZ25vcmVJbWFnZVBhcmFtcyIsImZpdCIsImluZGV4T2YiLCJFcnJvciIsImNvbmNhdCIsImNyb3AiLCJzYXR1cmF0aW9uIiwiYXV0byIsInBhZCIsInVybCIsInRvU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/index.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nvar __importDefault = (void 0) && (void 0).__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nvar builder_1 = __importDefault(__webpack_require__(/*! ./builder */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/builder.js\"));\nmodule.exports = builder_1.default; //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxrQkFBa0IsQ0FBQyxNQUFHLEtBQUssT0FBRyxFQUFFQSxlQUFlLElBQUssU0FBVUMsR0FBRztJQUNqRSxPQUFPLE9BQVFBLElBQUlDLFVBQVUsR0FBSUQsTUFBTTtRQUFFLFdBQVdBO0lBQUk7QUFDNUQ7QUFDQSxJQUFJRSxZQUFZSCxnQkFBZ0JJLG1CQUFPQSxDQUFDLDZFQUFXO0FBQ25EQyxPQUFPQyxPQUFPLEdBQUdILFVBQVVJLE9BQU8sRUFDbEMsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9obi8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS9pbmRleC5qcz9hMjI5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xudmFyIGJ1aWxkZXJfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9idWlsZGVyXCIpKTtcbm1vZHVsZS5leHBvcnRzID0gYnVpbGRlcl8xLmRlZmF1bHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOlsiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsImJ1aWxkZXJfMSIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseAssetId.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar example = \"image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg\";\nfunction parseAssetId(ref) {\n    var _a = ref.split(\"-\"), id = _a[1], dimensionString = _a[2], format = _a[3];\n    if (!id || !dimensionString || !format) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    var _b = dimensionString.split(\"x\"), imgWidthStr = _b[0], imgHeightStr = _b[1];\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n    if (!isValidAssetId) {\n        throw new Error(\"Malformed asset _ref '\".concat(ref, \"'. Expected an id like \\\"\").concat(example, '\".'));\n    }\n    return {\n        id: id,\n        width: width,\n        height: height,\n        format: format\n    };\n}\nexports[\"default\"] = parseAssetId; //# sourceMappingURL=parseAssetId.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2JBLDhDQUE2QztJQUFFRyxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLFVBQVU7QUFDZCxTQUFTQyxhQUFhQyxHQUFHO0lBQ3JCLElBQUlDLEtBQUtELElBQUlFLEtBQUssQ0FBQyxNQUFNQyxLQUFLRixFQUFFLENBQUMsRUFBRSxFQUFFRyxrQkFBa0JILEVBQUUsQ0FBQyxFQUFFLEVBQUVJLFNBQVNKLEVBQUUsQ0FBQyxFQUFFO0lBQzVFLElBQUksQ0FBQ0UsTUFBTSxDQUFDQyxtQkFBbUIsQ0FBQ0MsUUFBUTtRQUNwQyxNQUFNLElBQUlDLE1BQU0seUJBQXlCQyxNQUFNLENBQUNQLEtBQUssNkJBQTZCTyxNQUFNLENBQUNULFNBQVM7SUFDdEc7SUFDQSxJQUFJVSxLQUFLSixnQkFBZ0JGLEtBQUssQ0FBQyxNQUFNTyxjQUFjRCxFQUFFLENBQUMsRUFBRSxFQUFFRSxlQUFlRixFQUFFLENBQUMsRUFBRTtJQUM5RSxJQUFJRyxRQUFRLENBQUNGO0lBQ2IsSUFBSUcsU0FBUyxDQUFDRjtJQUNkLElBQUlHLGlCQUFpQkMsU0FBU0gsVUFBVUcsU0FBU0Y7SUFDakQsSUFBSSxDQUFDQyxnQkFBZ0I7UUFDakIsTUFBTSxJQUFJUCxNQUFNLHlCQUF5QkMsTUFBTSxDQUFDUCxLQUFLLDZCQUE2Qk8sTUFBTSxDQUFDVCxTQUFTO0lBQ3RHO0lBQ0EsT0FBTztRQUFFSyxJQUFJQTtRQUFJUSxPQUFPQTtRQUFPQyxRQUFRQTtRQUFRUCxRQUFRQTtJQUFPO0FBQ2xFO0FBQ0FULGtCQUFlLEdBQUdHLGNBQ2xCLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2pvaG4vLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VBc3NldElkLmpzPzQ4NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXhhbXBsZSA9ICdpbWFnZS1UYjlFdzhDWEl3YVk2UjFrak12STB1UlItMjAwMHgzMDAwLWpwZyc7XG5mdW5jdGlvbiBwYXJzZUFzc2V0SWQocmVmKSB7XG4gICAgdmFyIF9hID0gcmVmLnNwbGl0KCctJyksIGlkID0gX2FbMV0sIGRpbWVuc2lvblN0cmluZyA9IF9hWzJdLCBmb3JtYXQgPSBfYVszXTtcbiAgICBpZiAoIWlkIHx8ICFkaW1lbnNpb25TdHJpbmcgfHwgIWZvcm1hdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgYXNzZXQgX3JlZiAnXCIuY29uY2F0KHJlZiwgXCInLiBFeHBlY3RlZCBhbiBpZCBsaWtlIFxcXCJcIikuY29uY2F0KGV4YW1wbGUsIFwiXFxcIi5cIikpO1xuICAgIH1cbiAgICB2YXIgX2IgPSBkaW1lbnNpb25TdHJpbmcuc3BsaXQoJ3gnKSwgaW1nV2lkdGhTdHIgPSBfYlswXSwgaW1nSGVpZ2h0U3RyID0gX2JbMV07XG4gICAgdmFyIHdpZHRoID0gK2ltZ1dpZHRoU3RyO1xuICAgIHZhciBoZWlnaHQgPSAraW1nSGVpZ2h0U3RyO1xuICAgIHZhciBpc1ZhbGlkQXNzZXRJZCA9IGlzRmluaXRlKHdpZHRoKSAmJiBpc0Zpbml0ZShoZWlnaHQpO1xuICAgIGlmICghaXNWYWxpZEFzc2V0SWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFsZm9ybWVkIGFzc2V0IF9yZWYgJ1wiLmNvbmNhdChyZWYsIFwiJy4gRXhwZWN0ZWQgYW4gaWQgbGlrZSBcXFwiXCIpLmNvbmNhdChleGFtcGxlLCBcIlxcXCIuXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgaWQ6IGlkLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0LCBmb3JtYXQ6IGZvcm1hdCB9O1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VBc3NldElkO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VBc3NldElkLmpzLm1hcCJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImV4YW1wbGUiLCJwYXJzZUFzc2V0SWQiLCJyZWYiLCJfYSIsInNwbGl0IiwiaWQiLCJkaW1lbnNpb25TdHJpbmciLCJmb3JtYXQiLCJFcnJvciIsImNvbmNhdCIsIl9iIiwiaW1nV2lkdGhTdHIiLCJpbWdIZWlnaHRTdHIiLCJ3aWR0aCIsImhlaWdodCIsImlzVmFsaWRBc3NldElkIiwiaXNGaW5pdGUiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/parseSource.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\nvar __assign = (void 0) && (void 0).__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nvar isRef = function(src) {\n    var source = src;\n    return source ? typeof source._ref === \"string\" : false;\n};\nvar isAsset = function(src) {\n    var source = src;\n    return source ? typeof source._id === \"string\" : false;\n};\nvar isAssetStub = function(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === \"string\" : false;\n};\n// Convert an asset-id, asset or image to an image record suitable for processing\n// eslint-disable-next-line complexity\nfunction parseSource(source) {\n    if (!source) {\n        return null;\n    }\n    var image;\n    if (typeof source === \"string\" && isUrl(source)) {\n        // Someone passed an existing image url?\n        image = {\n            asset: {\n                _ref: urlToId(source)\n            }\n        };\n    } else if (typeof source === \"string\") {\n        // Just an asset id\n        image = {\n            asset: {\n                _ref: source\n            }\n        };\n    } else if (isRef(source)) {\n        // We just got passed an asset directly\n        image = {\n            asset: source\n        };\n    } else if (isAsset(source)) {\n        // If we were passed an image asset document\n        image = {\n            asset: {\n                _ref: source._id || \"\"\n            }\n        };\n    } else if (isAssetStub(source)) {\n        // If we were passed a partial asset (`url`, but no `_id`)\n        image = {\n            asset: {\n                _ref: urlToId(source.asset.url)\n            }\n        };\n    } else if (typeof source.asset === \"object\") {\n        // Probably an actual image with materialized asset\n        image = __assign({}, source);\n    } else {\n        // We got something that does not look like an image, or it is an image\n        // that currently isn't sporting an asset.\n        return null;\n    }\n    var img = source;\n    if (img.crop) {\n        image.crop = img.crop;\n    }\n    if (img.hotspot) {\n        image.hotspot = img.hotspot;\n    }\n    return applyDefaults(image);\n}\nexports[\"default\"] = parseSource;\nfunction isUrl(url) {\n    return /^https?:\\/\\//.test(\"\".concat(url));\n}\nfunction urlToId(url) {\n    var parts = url.split(\"/\").slice(-1);\n    return \"image-\".concat(parts[0]).replace(/\\.([a-z]+)$/, \"-$1\");\n}\n// Mock crop and hotspot if image lacks it\nfunction applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n        return image;\n    }\n    // We need to pad in default values for crop or hotspot\n    var result = __assign({}, image);\n    if (!result.crop) {\n        result.crop = {\n            left: 0,\n            top: 0,\n            bottom: 0,\n            right: 0\n        };\n    }\n    if (!result.hotspot) {\n        result.hotspot = {\n            x: 0.5,\n            y: 0.5,\n            height: 1.0,\n            width: 1.0\n        };\n    }\n    return result;\n} //# sourceMappingURL=parseSource.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvcGFyc2VTb3VyY2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFFSCxJQUFJQyxHQUFHRCxJQUFLO1lBQ2pERCxJQUFJRyxTQUFTLENBQUNGLEVBQUU7WUFDaEIsSUFBSyxJQUFJSSxLQUFLTCxFQUFHLElBQUlILE9BQU9TLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQ3pETixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO1FBQ25CO1FBQ0EsT0FBT047SUFDWDtJQUNBLE9BQU9ILFNBQVNhLEtBQUssQ0FBQyxJQUFJLEVBQUVOO0FBQ2hDO0FBQ0FOLDhDQUE2QztJQUFFZSxPQUFPO0FBQUssQ0FBQyxFQUFDO0FBQzdELElBQUlDLFFBQVEsU0FBVUMsR0FBRztJQUNyQixJQUFJQyxTQUFTRDtJQUNiLE9BQU9DLFNBQVMsT0FBT0EsT0FBT0MsSUFBSSxLQUFLLFdBQVc7QUFDdEQ7QUFDQSxJQUFJQyxVQUFVLFNBQVVILEdBQUc7SUFDdkIsSUFBSUMsU0FBU0Q7SUFDYixPQUFPQyxTQUFTLE9BQU9BLE9BQU9HLEdBQUcsS0FBSyxXQUFXO0FBQ3JEO0FBQ0EsSUFBSUMsY0FBYyxTQUFVTCxHQUFHO0lBQzNCLElBQUlDLFNBQVNEO0lBQ2IsT0FBT0MsVUFBVUEsT0FBT0ssS0FBSyxHQUFHLE9BQU9MLE9BQU9LLEtBQUssQ0FBQ0MsR0FBRyxLQUFLLFdBQVc7QUFDM0U7QUFDQSxpRkFBaUY7QUFDakYsc0NBQXNDO0FBQ3RDLFNBQVNDLFlBQVlQLE1BQU07SUFDdkIsSUFBSSxDQUFDQSxRQUFRO1FBQ1QsT0FBTztJQUNYO0lBQ0EsSUFBSVE7SUFDSixJQUFJLE9BQU9SLFdBQVcsWUFBWVMsTUFBTVQsU0FBUztRQUM3Qyx3Q0FBd0M7UUFDeENRLFFBQVE7WUFDSkgsT0FBTztnQkFBRUosTUFBTVMsUUFBUVY7WUFBUTtRQUNuQztJQUNKLE9BQ0ssSUFBSSxPQUFPQSxXQUFXLFVBQVU7UUFDakMsbUJBQW1CO1FBQ25CUSxRQUFRO1lBQ0pILE9BQU87Z0JBQUVKLE1BQU1EO1lBQU87UUFDMUI7SUFDSixPQUNLLElBQUlGLE1BQU1FLFNBQVM7UUFDcEIsdUNBQXVDO1FBQ3ZDUSxRQUFRO1lBQ0pILE9BQU9MO1FBQ1g7SUFDSixPQUNLLElBQUlFLFFBQVFGLFNBQVM7UUFDdEIsNENBQTRDO1FBQzVDUSxRQUFRO1lBQ0pILE9BQU87Z0JBQ0hKLE1BQU1ELE9BQU9HLEdBQUcsSUFBSTtZQUN4QjtRQUNKO0lBQ0osT0FDSyxJQUFJQyxZQUFZSixTQUFTO1FBQzFCLDBEQUEwRDtRQUMxRFEsUUFBUTtZQUNKSCxPQUFPO2dCQUNISixNQUFNUyxRQUFRVixPQUFPSyxLQUFLLENBQUNDLEdBQUc7WUFDbEM7UUFDSjtJQUNKLE9BQ0ssSUFBSSxPQUFPTixPQUFPSyxLQUFLLEtBQUssVUFBVTtRQUN2QyxtREFBbUQ7UUFDbkRHLFFBQVEzQixTQUFTLENBQUMsR0FBR21CO0lBQ3pCLE9BQ0s7UUFDRCx1RUFBdUU7UUFDdkUsMENBQTBDO1FBQzFDLE9BQU87SUFDWDtJQUNBLElBQUlXLE1BQU1YO0lBQ1YsSUFBSVcsSUFBSUMsSUFBSSxFQUFFO1FBQ1ZKLE1BQU1JLElBQUksR0FBR0QsSUFBSUMsSUFBSTtJQUN6QjtJQUNBLElBQUlELElBQUlFLE9BQU8sRUFBRTtRQUNiTCxNQUFNSyxPQUFPLEdBQUdGLElBQUlFLE9BQU87SUFDL0I7SUFDQSxPQUFPQyxjQUFjTjtBQUN6QjtBQUNBWixrQkFBZSxHQUFHVztBQUNsQixTQUFTRSxNQUFNSCxHQUFHO0lBQ2QsT0FBTyxlQUFlVSxJQUFJLENBQUMsR0FBR0MsTUFBTSxDQUFDWDtBQUN6QztBQUNBLFNBQVNJLFFBQVFKLEdBQUc7SUFDaEIsSUFBSVksUUFBUVosSUFBSWEsS0FBSyxDQUFDLEtBQUtDLEtBQUssQ0FBQyxDQUFDO0lBQ2xDLE9BQU8sU0FBU0gsTUFBTSxDQUFDQyxLQUFLLENBQUMsRUFBRSxFQUFFRyxPQUFPLENBQUMsZUFBZTtBQUM1RDtBQUNBLDBDQUEwQztBQUMxQyxTQUFTUCxjQUFjTixLQUFLO0lBQ3hCLElBQUlBLE1BQU1JLElBQUksSUFBSUosTUFBTUssT0FBTyxFQUFFO1FBQzdCLE9BQU9MO0lBQ1g7SUFDQSx1REFBdUQ7SUFDdkQsSUFBSWMsU0FBU3pDLFNBQVMsQ0FBQyxHQUFHMkI7SUFDMUIsSUFBSSxDQUFDYyxPQUFPVixJQUFJLEVBQUU7UUFDZFUsT0FBT1YsSUFBSSxHQUFHO1lBQ1ZXLE1BQU07WUFDTkMsS0FBSztZQUNMQyxRQUFRO1lBQ1JDLE9BQU87UUFDWDtJQUNKO0lBQ0EsSUFBSSxDQUFDSixPQUFPVCxPQUFPLEVBQUU7UUFDakJTLE9BQU9ULE9BQU8sR0FBRztZQUNiYyxHQUFHO1lBQ0hDLEdBQUc7WUFDSEMsUUFBUTtZQUNSQyxPQUFPO1FBQ1g7SUFDSjtJQUNBLE9BQU9SO0FBQ1gsRUFDQSx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qb2huLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvaW1hZ2UtdXJsL2xpYi9ub2RlL3BhcnNlU291cmNlLmpzPzJkYzciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGlzUmVmID0gZnVuY3Rpb24gKHNyYykge1xuICAgIHZhciBzb3VyY2UgPSBzcmM7XG4gICAgcmV0dXJuIHNvdXJjZSA/IHR5cGVvZiBzb3VyY2UuX3JlZiA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG52YXIgaXNBc3NldCA9IGZ1bmN0aW9uIChzcmMpIHtcbiAgICB2YXIgc291cmNlID0gc3JjO1xuICAgIHJldHVybiBzb3VyY2UgPyB0eXBlb2Ygc291cmNlLl9pZCA9PT0gJ3N0cmluZycgOiBmYWxzZTtcbn07XG52YXIgaXNBc3NldFN0dWIgPSBmdW5jdGlvbiAoc3JjKSB7XG4gICAgdmFyIHNvdXJjZSA9IHNyYztcbiAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5hc3NldCA/IHR5cGVvZiBzb3VyY2UuYXNzZXQudXJsID09PSAnc3RyaW5nJyA6IGZhbHNlO1xufTtcbi8vIENvbnZlcnQgYW4gYXNzZXQtaWQsIGFzc2V0IG9yIGltYWdlIHRvIGFuIGltYWdlIHJlY29yZCBzdWl0YWJsZSBmb3IgcHJvY2Vzc2luZ1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHlcbmZ1bmN0aW9uIHBhcnNlU291cmNlKHNvdXJjZSkge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgaW1hZ2U7XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnICYmIGlzVXJsKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gU29tZW9uZSBwYXNzZWQgYW4gZXhpc3RpbmcgaW1hZ2UgdXJsP1xuICAgICAgICBpbWFnZSA9IHtcbiAgICAgICAgICAgIGFzc2V0OiB7IF9yZWY6IHVybFRvSWQoc291cmNlKSB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBKdXN0IGFuIGFzc2V0IGlkXG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHsgX3JlZjogc291cmNlIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzUmVmKHNvdXJjZSkpIHtcbiAgICAgICAgLy8gV2UganVzdCBnb3QgcGFzc2VkIGFuIGFzc2V0IGRpcmVjdGx5XG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHNvdXJjZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3NldChzb3VyY2UpKSB7XG4gICAgICAgIC8vIElmIHdlIHdlcmUgcGFzc2VkIGFuIGltYWdlIGFzc2V0IGRvY3VtZW50XG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgICBfcmVmOiBzb3VyY2UuX2lkIHx8ICcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBc3NldFN0dWIoc291cmNlKSkge1xuICAgICAgICAvLyBJZiB3ZSB3ZXJlIHBhc3NlZCBhIHBhcnRpYWwgYXNzZXQgKGB1cmxgLCBidXQgbm8gYF9pZGApXG4gICAgICAgIGltYWdlID0ge1xuICAgICAgICAgICAgYXNzZXQ6IHtcbiAgICAgICAgICAgICAgICBfcmVmOiB1cmxUb0lkKHNvdXJjZS5hc3NldC51cmwpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNvdXJjZS5hc3NldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gUHJvYmFibHkgYW4gYWN0dWFsIGltYWdlIHdpdGggbWF0ZXJpYWxpemVkIGFzc2V0XG4gICAgICAgIGltYWdlID0gX19hc3NpZ24oe30sIHNvdXJjZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBXZSBnb3Qgc29tZXRoaW5nIHRoYXQgZG9lcyBub3QgbG9vayBsaWtlIGFuIGltYWdlLCBvciBpdCBpcyBhbiBpbWFnZVxuICAgICAgICAvLyB0aGF0IGN1cnJlbnRseSBpc24ndCBzcG9ydGluZyBhbiBhc3NldC5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBpbWcgPSBzb3VyY2U7XG4gICAgaWYgKGltZy5jcm9wKSB7XG4gICAgICAgIGltYWdlLmNyb3AgPSBpbWcuY3JvcDtcbiAgICB9XG4gICAgaWYgKGltZy5ob3RzcG90KSB7XG4gICAgICAgIGltYWdlLmhvdHNwb3QgPSBpbWcuaG90c3BvdDtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGx5RGVmYXVsdHMoaW1hZ2UpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gcGFyc2VTb3VyY2U7XG5mdW5jdGlvbiBpc1VybCh1cmwpIHtcbiAgICByZXR1cm4gL15odHRwcz86XFwvXFwvLy50ZXN0KFwiXCIuY29uY2F0KHVybCkpO1xufVxuZnVuY3Rpb24gdXJsVG9JZCh1cmwpIHtcbiAgICB2YXIgcGFydHMgPSB1cmwuc3BsaXQoJy8nKS5zbGljZSgtMSk7XG4gICAgcmV0dXJuIFwiaW1hZ2UtXCIuY29uY2F0KHBhcnRzWzBdKS5yZXBsYWNlKC9cXC4oW2Etel0rKSQvLCAnLSQxJyk7XG59XG4vLyBNb2NrIGNyb3AgYW5kIGhvdHNwb3QgaWYgaW1hZ2UgbGFja3MgaXRcbmZ1bmN0aW9uIGFwcGx5RGVmYXVsdHMoaW1hZ2UpIHtcbiAgICBpZiAoaW1hZ2UuY3JvcCAmJiBpbWFnZS5ob3RzcG90KSB7XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG4gICAgLy8gV2UgbmVlZCB0byBwYWQgaW4gZGVmYXVsdCB2YWx1ZXMgZm9yIGNyb3Agb3IgaG90c3BvdFxuICAgIHZhciByZXN1bHQgPSBfX2Fzc2lnbih7fSwgaW1hZ2UpO1xuICAgIGlmICghcmVzdWx0LmNyb3ApIHtcbiAgICAgICAgcmVzdWx0LmNyb3AgPSB7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmICghcmVzdWx0LmhvdHNwb3QpIHtcbiAgICAgICAgcmVzdWx0LmhvdHNwb3QgPSB7XG4gICAgICAgICAgICB4OiAwLjUsXG4gICAgICAgICAgICB5OiAwLjUsXG4gICAgICAgICAgICBoZWlnaHQ6IDEuMCxcbiAgICAgICAgICAgIHdpZHRoOiAxLjAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZVNvdXJjZS5qcy5tYXAiXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJpc1JlZiIsInNyYyIsInNvdXJjZSIsIl9yZWYiLCJpc0Fzc2V0IiwiX2lkIiwiaXNBc3NldFN0dWIiLCJhc3NldCIsInVybCIsInBhcnNlU291cmNlIiwiaW1hZ2UiLCJpc1VybCIsInVybFRvSWQiLCJpbWciLCJjcm9wIiwiaG90c3BvdCIsImFwcGx5RGVmYXVsdHMiLCJkZWZhdWx0IiwidGVzdCIsImNvbmNhdCIsInBhcnRzIiwic3BsaXQiLCJzbGljZSIsInJlcGxhY2UiLCJyZXN1bHQiLCJsZWZ0IiwidG9wIiwiYm90dG9tIiwicmlnaHQiLCJ4IiwieSIsImhlaWdodCIsIndpZHRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js":
/*!****************************************************************!*\
  !*** ./node_modules/@sanity/image-url/lib/node/urlForImage.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nvar __assign = (void 0) && (void 0).__assign || function() {\n    __assign = Object.assign || function(t) {\n        for(var s, i = 1, n = arguments.length; i < n; i++){\n            s = arguments[i];\n            for(var p in s)if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (void 0) && (void 0).__importDefault || function(mod) {\n    return mod && mod.__esModule ? mod : {\n        \"default\": mod\n    };\n};\nObject.defineProperty(exports, \"__esModule\", ({\n    value: true\n}));\nexports.parseSource = exports.SPEC_NAME_TO_URL_NAME_MAPPINGS = void 0;\nvar parseAssetId_1 = __importDefault(__webpack_require__(/*! ./parseAssetId */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/parseAssetId.js\"));\nvar parseSource_1 = __importDefault(__webpack_require__(/*! ./parseSource */ \"(rsc)/./node_modules/@sanity/image-url/lib/node/parseSource.js\"));\nexports.parseSource = parseSource_1.default;\nexports.SPEC_NAME_TO_URL_NAME_MAPPINGS = [\n    [\n        \"width\",\n        \"w\"\n    ],\n    [\n        \"height\",\n        \"h\"\n    ],\n    [\n        \"format\",\n        \"fm\"\n    ],\n    [\n        \"download\",\n        \"dl\"\n    ],\n    [\n        \"blur\",\n        \"blur\"\n    ],\n    [\n        \"sharpen\",\n        \"sharp\"\n    ],\n    [\n        \"invert\",\n        \"invert\"\n    ],\n    [\n        \"orientation\",\n        \"or\"\n    ],\n    [\n        \"minHeight\",\n        \"min-h\"\n    ],\n    [\n        \"maxHeight\",\n        \"max-h\"\n    ],\n    [\n        \"minWidth\",\n        \"min-w\"\n    ],\n    [\n        \"maxWidth\",\n        \"max-w\"\n    ],\n    [\n        \"quality\",\n        \"q\"\n    ],\n    [\n        \"fit\",\n        \"fit\"\n    ],\n    [\n        \"crop\",\n        \"crop\"\n    ],\n    [\n        \"saturation\",\n        \"sat\"\n    ],\n    [\n        \"auto\",\n        \"auto\"\n    ],\n    [\n        \"dpr\",\n        \"dpr\"\n    ],\n    [\n        \"pad\",\n        \"pad\"\n    ]\n];\nfunction urlForImage(options) {\n    var spec = __assign({}, options || {});\n    var source = spec.source;\n    delete spec.source;\n    var image = (0, parseSource_1.default)(source);\n    if (!image) {\n        throw new Error(\"Unable to resolve image URL from source (\".concat(JSON.stringify(source), \")\"));\n    }\n    var id = image.asset._ref || image.asset._id || \"\";\n    var asset = (0, parseAssetId_1.default)(id);\n    // Compute crop rect in terms of pixel coordinates in the raw source image\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n        left: cropLeft,\n        top: cropTop,\n        width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n        height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    // Compute hot spot rect in terms of pixel coordinates\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n        left: hotSpotCenterX - hotSpotHorizontalRadius,\n        top: hotSpotCenterY - hotSpotVerticalRadius,\n        right: hotSpotCenterX + hotSpotHorizontalRadius,\n        bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n    // If irrelevant, or if we are requested to: don't perform crop/fit based on\n    // the crop/hotspot.\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n        spec = __assign(__assign({}, spec), fit({\n            crop: crop,\n            hotspot: hotspot\n        }, spec));\n    }\n    return specToImageUrl(__assign(__assign({}, spec), {\n        asset: asset\n    }));\n}\nexports[\"default\"] = urlForImage;\n// eslint-disable-next-line complexity\nfunction specToImageUrl(spec) {\n    var cdnUrl = (spec.baseUrl || \"https://cdn.sanity.io\").replace(/\\/+$/, \"\");\n    var filename = \"\".concat(spec.asset.id, \"-\").concat(spec.asset.width, \"x\").concat(spec.asset.height, \".\").concat(spec.asset.format);\n    var baseUrl = \"\".concat(cdnUrl, \"/images/\").concat(spec.projectId, \"/\").concat(spec.dataset, \"/\").concat(filename);\n    var params = [];\n    if (spec.rect) {\n        // Only bother url with a crop if it actually crops anything\n        var _a = spec.rect, left = _a.left, top_1 = _a.top, width = _a.width, height = _a.height;\n        var isEffectiveCrop = left !== 0 || top_1 !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n        if (isEffectiveCrop) {\n            params.push(\"rect=\".concat(left, \",\").concat(top_1, \",\").concat(width, \",\").concat(height));\n        }\n    }\n    if (spec.bg) {\n        params.push(\"bg=\".concat(spec.bg));\n    }\n    if (spec.focalPoint) {\n        params.push(\"fp-x=\".concat(spec.focalPoint.x));\n        params.push(\"fp-y=\".concat(spec.focalPoint.y));\n    }\n    var flip = [\n        spec.flipHorizontal && \"h\",\n        spec.flipVertical && \"v\"\n    ].filter(Boolean).join(\"\");\n    if (flip) {\n        params.push(\"flip=\".concat(flip));\n    }\n    // Map from spec name to url param name, and allow using the actual param name as an alternative\n    exports.SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function(mapping) {\n        var specName = mapping[0], param = mapping[1];\n        if (typeof spec[specName] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[specName])));\n        } else if (typeof spec[param] !== \"undefined\") {\n            params.push(\"\".concat(param, \"=\").concat(encodeURIComponent(spec[param])));\n        }\n    });\n    if (params.length === 0) {\n        return baseUrl;\n    }\n    return \"\".concat(baseUrl, \"?\").concat(params.join(\"&\"));\n}\nfunction fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n    // If we are not constraining the aspect ratio, we'll just use the whole crop\n    if (!(imgWidth && imgHeight)) {\n        return {\n            width: imgWidth,\n            height: imgHeight,\n            rect: source.crop\n        };\n    }\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    // If we are here, that means aspect ratio is locked and fitting will be a bit harder\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n    if (cropAspectRatio > desiredAspectRatio) {\n        // The crop is wider than the desired aspect ratio. That means we are cutting from the sides\n        var height = Math.round(crop.height);\n        var width = Math.round(height * desiredAspectRatio);\n        var top_2 = Math.max(0, Math.round(crop.top));\n        // Center output horizontally over hotspot\n        var hotspotXCenter = Math.round((hotspot.right - hotspot.left) / 2 + hotspot.left);\n        var left = Math.max(0, Math.round(hotspotXCenter - width / 2));\n        // Keep output within crop\n        if (left < crop.left) {\n            left = crop.left;\n        } else if (left + width > crop.left + crop.width) {\n            left = crop.left + crop.width - width;\n        }\n        cropRect = {\n            left: left,\n            top: top_2,\n            width: width,\n            height: height\n        };\n    } else {\n        // The crop is taller than the desired ratio, we are cutting from top and bottom\n        var width = crop.width;\n        var height = Math.round(width / desiredAspectRatio);\n        var left = Math.max(0, Math.round(crop.left));\n        // Center output vertically over hotspot\n        var hotspotYCenter = Math.round((hotspot.bottom - hotspot.top) / 2 + hotspot.top);\n        var top_3 = Math.max(0, Math.round(hotspotYCenter - height / 2));\n        // Keep output rect within crop\n        if (top_3 < crop.top) {\n            top_3 = crop.top;\n        } else if (top_3 + height > crop.top + crop.height) {\n            top_3 = crop.top + crop.height - height;\n        }\n        cropRect = {\n            left: left,\n            top: top_3,\n            width: width,\n            height: height\n        };\n    }\n    return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: cropRect\n    };\n} //# sourceMappingURL=urlForImage.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9pbWFnZS11cmwvbGliL25vZGUvdXJsRm9ySW1hZ2UuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYixJQUFJQSxXQUFXLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsUUFBUSxJQUFLO0lBQ3RDQSxXQUFXQyxPQUFPQyxNQUFNLElBQUksU0FBU0MsQ0FBQztRQUNsQyxJQUFLLElBQUlDLEdBQUdDLElBQUksR0FBR0MsSUFBSUMsVUFBVUMsTUFBTSxFQUFFSCxJQUFJQyxHQUFHRCxJQUFLO1lBQ2pERCxJQUFJRyxTQUFTLENBQUNGLEVBQUU7WUFDaEIsSUFBSyxJQUFJSSxLQUFLTCxFQUFHLElBQUlILE9BQU9TLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDQyxJQUFJLENBQUNSLEdBQUdLLElBQ3pETixDQUFDLENBQUNNLEVBQUUsR0FBR0wsQ0FBQyxDQUFDSyxFQUFFO1FBQ25CO1FBQ0EsT0FBT047SUFDWDtJQUNBLE9BQU9ILFNBQVNhLEtBQUssQ0FBQyxJQUFJLEVBQUVOO0FBQ2hDO0FBQ0EsSUFBSU8sa0JBQWtCLENBQUMsTUFBRyxLQUFLLE9BQUcsRUFBRUEsZUFBZSxJQUFLLFNBQVVDLEdBQUc7SUFDakUsT0FBTyxPQUFRQSxJQUFJQyxVQUFVLEdBQUlELE1BQU07UUFBRSxXQUFXQTtJQUFJO0FBQzVEO0FBQ0FkLDhDQUE2QztJQUFFa0IsT0FBTztBQUFLLENBQUMsRUFBQztBQUM3REQsbUJBQW1CLEdBQUdBLHNDQUFzQyxHQUFHLEtBQUs7QUFDcEUsSUFBSUksaUJBQWlCUixnQkFBZ0JTLG1CQUFPQSxDQUFDLHVGQUFnQjtBQUM3RCxJQUFJQyxnQkFBZ0JWLGdCQUFnQlMsbUJBQU9BLENBQUMscUZBQWU7QUFDM0RMLG1CQUFtQixHQUFHTSxjQUFjQyxPQUFPO0FBQzNDUCxzQ0FBc0MsR0FBRztJQUNyQztRQUFDO1FBQVM7S0FBSTtJQUNkO1FBQUM7UUFBVTtLQUFJO0lBQ2Y7UUFBQztRQUFVO0tBQUs7SUFDaEI7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QzVDRCxPQUFPRCxLQUFLQyxJQUFJLEdBQUdELEtBQUtFLEtBQUssR0FBR0E7UUFDcEM7UUFDQTBDLFdBQVc7WUFBRTNDLE1BQU1BO1lBQU1HLEtBQUs2QztZQUFPL0MsT0FBT0E7WUFBT0csUUFBUUE7UUFBTztJQUN0RSxPQUNLO1FBQ0QsZ0ZBQWdGO1FBQ2hGLElBQUlILFFBQVFGLEtBQUtFLEtBQUs7UUFDdEIsSUFBSUcsU0FBU1AsS0FBS0MsS0FBSyxDQUFDRyxRQUFRNkM7UUFDaEMsSUFBSTlDLE9BQU9ILEtBQUtvRCxHQUFHLENBQUMsR0FBR3BELEtBQUtDLEtBQUssQ0FBQ0MsS0FBS0MsSUFBSTtRQUMzQyx3Q0FBd0M7UUFDeEMsSUFBSW1ELGlCQUFpQnRELEtBQUtDLEtBQUssQ0FBQyxDQUFDVSxRQUFRRixNQUFNLEdBQUdFLFFBQVFMLEdBQUcsSUFBSSxJQUFJSyxRQUFRTCxHQUFHO1FBQ2hGLElBQUlpRCxRQUFRdkQsS0FBS29ELEdBQUcsQ0FBQyxHQUFHcEQsS0FBS0MsS0FBSyxDQUFDcUQsaUJBQWlCL0MsU0FBUztRQUM3RCwrQkFBK0I7UUFDL0IsSUFBSWdELFFBQVFyRCxLQUFLSSxHQUFHLEVBQUU7WUFDbEJpRCxRQUFRckQsS0FBS0ksR0FBRztRQUNwQixPQUNLLElBQUlpRCxRQUFRaEQsU0FBU0wsS0FBS0ksR0FBRyxHQUFHSixLQUFLSyxNQUFNLEVBQUU7WUFDOUNnRCxRQUFRckQsS0FBS0ksR0FBRyxHQUFHSixLQUFLSyxNQUFNLEdBQUdBO1FBQ3JDO1FBQ0F1QyxXQUFXO1lBQUUzQyxNQUFNQTtZQUFNRyxLQUFLaUQ7WUFBT25ELE9BQU9BO1lBQU9HLFFBQVFBO1FBQU87SUFDdEU7SUFDQSxPQUFPO1FBQ0hILE9BQU8yQztRQUNQeEMsUUFBUXlDO1FBQ1IvQixNQUFNNkI7SUFDVjtBQUNKLEVBQ0EsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9obi8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2ltYWdlLXVybC9saWIvbm9kZS91cmxGb3JJbWFnZS5qcz9hNTVjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VTb3VyY2UgPSBleHBvcnRzLlNQRUNfTkFNRV9UT19VUkxfTkFNRV9NQVBQSU5HUyA9IHZvaWQgMDtcbnZhciBwYXJzZUFzc2V0SWRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wYXJzZUFzc2V0SWRcIikpO1xudmFyIHBhcnNlU291cmNlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcGFyc2VTb3VyY2VcIikpO1xuZXhwb3J0cy5wYXJzZVNvdXJjZSA9IHBhcnNlU291cmNlXzEuZGVmYXVsdDtcbmV4cG9ydHMuU1BFQ19OQU1FX1RPX1VSTF9OQU1FX01BUFBJTkdTID0gW1xuICAgIFsnd2lkdGgnLCAndyddLFxuICAgIFsnaGVpZ2h0JywgJ2gnXSxcbiAgICBbJ2Zvcm1hdCcsICdmbSddLFxuICAgIFsnZG93bmxvYWQnLCAnZGwnXSxcbiAgICBbJ2JsdXInLCAnYmx1ciddLFxuICAgIFsnc2hhcnBlbicsICdzaGFycCddLFxuICAgIFsnaW52ZXJ0JywgJ2ludmVydCddLFxuICAgIFsnb3JpZW50YXRpb24nLCAnb3InXSxcbiAgICBbJ21pbkhlaWdodCcsICdtaW4taCddLFxuICAgIFsnbWF4SGVpZ2h0JywgJ21heC1oJ10sXG4gICAgWydtaW5XaWR0aCcsICdtaW4tdyddLFxuICAgIFsnbWF4V2lkdGgnLCAnbWF4LXcnXSxcbiAgICBbJ3F1YWxpdHknLCAncSddLFxuICAgIFsnZml0JywgJ2ZpdCddLFxuICAgIFsnY3JvcCcsICdjcm9wJ10sXG4gICAgWydzYXR1cmF0aW9uJywgJ3NhdCddLFxuICAgIFsnYXV0bycsICdhdXRvJ10sXG4gICAgWydkcHInLCAnZHByJ10sXG4gICAgWydwYWQnLCAncGFkJ10sXG5dO1xuZnVuY3Rpb24gdXJsRm9ySW1hZ2Uob3B0aW9ucykge1xuICAgIHZhciBzcGVjID0gX19hc3NpZ24oe30sIChvcHRpb25zIHx8IHt9KSk7XG4gICAgdmFyIHNvdXJjZSA9IHNwZWMuc291cmNlO1xuICAgIGRlbGV0ZSBzcGVjLnNvdXJjZTtcbiAgICB2YXIgaW1hZ2UgPSAoMCwgcGFyc2VTb3VyY2VfMS5kZWZhdWx0KShzb3VyY2UpO1xuICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHJlc29sdmUgaW1hZ2UgVVJMIGZyb20gc291cmNlIChcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc291cmNlKSwgXCIpXCIpKTtcbiAgICB9XG4gICAgdmFyIGlkID0gaW1hZ2UuYXNzZXQuX3JlZiB8fCBpbWFnZS5hc3NldC5faWQgfHwgJyc7XG4gICAgdmFyIGFzc2V0ID0gKDAsIHBhcnNlQXNzZXRJZF8xLmRlZmF1bHQpKGlkKTtcbiAgICAvLyBDb21wdXRlIGNyb3AgcmVjdCBpbiB0ZXJtcyBvZiBwaXhlbCBjb29yZGluYXRlcyBpbiB0aGUgcmF3IHNvdXJjZSBpbWFnZVxuICAgIHZhciBjcm9wTGVmdCA9IE1hdGgucm91bmQoaW1hZ2UuY3JvcC5sZWZ0ICogYXNzZXQud2lkdGgpO1xuICAgIHZhciBjcm9wVG9wID0gTWF0aC5yb3VuZChpbWFnZS5jcm9wLnRvcCAqIGFzc2V0LmhlaWdodCk7XG4gICAgdmFyIGNyb3AgPSB7XG4gICAgICAgIGxlZnQ6IGNyb3BMZWZ0LFxuICAgICAgICB0b3A6IGNyb3BUb3AsXG4gICAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKGFzc2V0LndpZHRoIC0gaW1hZ2UuY3JvcC5yaWdodCAqIGFzc2V0LndpZHRoIC0gY3JvcExlZnQpLFxuICAgICAgICBoZWlnaHQ6IE1hdGgucm91bmQoYXNzZXQuaGVpZ2h0IC0gaW1hZ2UuY3JvcC5ib3R0b20gKiBhc3NldC5oZWlnaHQgLSBjcm9wVG9wKSxcbiAgICB9O1xuICAgIC8vIENvbXB1dGUgaG90IHNwb3QgcmVjdCBpbiB0ZXJtcyBvZiBwaXhlbCBjb29yZGluYXRlc1xuICAgIHZhciBob3RTcG90VmVydGljYWxSYWRpdXMgPSAoaW1hZ2UuaG90c3BvdC5oZWlnaHQgKiBhc3NldC5oZWlnaHQpIC8gMjtcbiAgICB2YXIgaG90U3BvdEhvcml6b250YWxSYWRpdXMgPSAoaW1hZ2UuaG90c3BvdC53aWR0aCAqIGFzc2V0LndpZHRoKSAvIDI7XG4gICAgdmFyIGhvdFNwb3RDZW50ZXJYID0gaW1hZ2UuaG90c3BvdC54ICogYXNzZXQud2lkdGg7XG4gICAgdmFyIGhvdFNwb3RDZW50ZXJZID0gaW1hZ2UuaG90c3BvdC55ICogYXNzZXQuaGVpZ2h0O1xuICAgIHZhciBob3RzcG90ID0ge1xuICAgICAgICBsZWZ0OiBob3RTcG90Q2VudGVyWCAtIGhvdFNwb3RIb3Jpem9udGFsUmFkaXVzLFxuICAgICAgICB0b3A6IGhvdFNwb3RDZW50ZXJZIC0gaG90U3BvdFZlcnRpY2FsUmFkaXVzLFxuICAgICAgICByaWdodDogaG90U3BvdENlbnRlclggKyBob3RTcG90SG9yaXpvbnRhbFJhZGl1cyxcbiAgICAgICAgYm90dG9tOiBob3RTcG90Q2VudGVyWSArIGhvdFNwb3RWZXJ0aWNhbFJhZGl1cyxcbiAgICB9O1xuICAgIC8vIElmIGlycmVsZXZhbnQsIG9yIGlmIHdlIGFyZSByZXF1ZXN0ZWQgdG86IGRvbid0IHBlcmZvcm0gY3JvcC9maXQgYmFzZWQgb25cbiAgICAvLyB0aGUgY3JvcC9ob3RzcG90LlxuICAgIGlmICghKHNwZWMucmVjdCB8fCBzcGVjLmZvY2FsUG9pbnQgfHwgc3BlYy5pZ25vcmVJbWFnZVBhcmFtcyB8fCBzcGVjLmNyb3ApKSB7XG4gICAgICAgIHNwZWMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgc3BlYyksIGZpdCh7IGNyb3A6IGNyb3AsIGhvdHNwb3Q6IGhvdHNwb3QgfSwgc3BlYykpO1xuICAgIH1cbiAgICByZXR1cm4gc3BlY1RvSW1hZ2VVcmwoX19hc3NpZ24oX19hc3NpZ24oe30sIHNwZWMpLCB7IGFzc2V0OiBhc3NldCB9KSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSB1cmxGb3JJbWFnZTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiBzcGVjVG9JbWFnZVVybChzcGVjKSB7XG4gICAgdmFyIGNkblVybCA9IChzcGVjLmJhc2VVcmwgfHwgJ2h0dHBzOi8vY2RuLnNhbml0eS5pbycpLnJlcGxhY2UoL1xcLyskLywgJycpO1xuICAgIHZhciBmaWxlbmFtZSA9IFwiXCIuY29uY2F0KHNwZWMuYXNzZXQuaWQsIFwiLVwiKS5jb25jYXQoc3BlYy5hc3NldC53aWR0aCwgXCJ4XCIpLmNvbmNhdChzcGVjLmFzc2V0LmhlaWdodCwgXCIuXCIpLmNvbmNhdChzcGVjLmFzc2V0LmZvcm1hdCk7XG4gICAgdmFyIGJhc2VVcmwgPSBcIlwiLmNvbmNhdChjZG5VcmwsIFwiL2ltYWdlcy9cIikuY29uY2F0KHNwZWMucHJvamVjdElkLCBcIi9cIikuY29uY2F0KHNwZWMuZGF0YXNldCwgXCIvXCIpLmNvbmNhdChmaWxlbmFtZSk7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIGlmIChzcGVjLnJlY3QpIHtcbiAgICAgICAgLy8gT25seSBib3RoZXIgdXJsIHdpdGggYSBjcm9wIGlmIGl0IGFjdHVhbGx5IGNyb3BzIGFueXRoaW5nXG4gICAgICAgIHZhciBfYSA9IHNwZWMucmVjdCwgbGVmdCA9IF9hLmxlZnQsIHRvcF8xID0gX2EudG9wLCB3aWR0aCA9IF9hLndpZHRoLCBoZWlnaHQgPSBfYS5oZWlnaHQ7XG4gICAgICAgIHZhciBpc0VmZmVjdGl2ZUNyb3AgPSBsZWZ0ICE9PSAwIHx8IHRvcF8xICE9PSAwIHx8IGhlaWdodCAhPT0gc3BlYy5hc3NldC5oZWlnaHQgfHwgd2lkdGggIT09IHNwZWMuYXNzZXQud2lkdGg7XG4gICAgICAgIGlmIChpc0VmZmVjdGl2ZUNyb3ApIHtcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKFwicmVjdD1cIi5jb25jYXQobGVmdCwgXCIsXCIpLmNvbmNhdCh0b3BfMSwgXCIsXCIpLmNvbmNhdCh3aWR0aCwgXCIsXCIpLmNvbmNhdChoZWlnaHQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3BlYy5iZykge1xuICAgICAgICBwYXJhbXMucHVzaChcImJnPVwiLmNvbmNhdChzcGVjLmJnKSk7XG4gICAgfVxuICAgIGlmIChzcGVjLmZvY2FsUG9pbnQpIHtcbiAgICAgICAgcGFyYW1zLnB1c2goXCJmcC14PVwiLmNvbmNhdChzcGVjLmZvY2FsUG9pbnQueCkpO1xuICAgICAgICBwYXJhbXMucHVzaChcImZwLXk9XCIuY29uY2F0KHNwZWMuZm9jYWxQb2ludC55KSk7XG4gICAgfVxuICAgIHZhciBmbGlwID0gW3NwZWMuZmxpcEhvcml6b250YWwgJiYgJ2gnLCBzcGVjLmZsaXBWZXJ0aWNhbCAmJiAndiddLmZpbHRlcihCb29sZWFuKS5qb2luKCcnKTtcbiAgICBpZiAoZmxpcCkge1xuICAgICAgICBwYXJhbXMucHVzaChcImZsaXA9XCIuY29uY2F0KGZsaXApKTtcbiAgICB9XG4gICAgLy8gTWFwIGZyb20gc3BlYyBuYW1lIHRvIHVybCBwYXJhbSBuYW1lLCBhbmQgYWxsb3cgdXNpbmcgdGhlIGFjdHVhbCBwYXJhbSBuYW1lIGFzIGFuIGFsdGVybmF0aXZlXG4gICAgZXhwb3J0cy5TUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MuZm9yRWFjaChmdW5jdGlvbiAobWFwcGluZykge1xuICAgICAgICB2YXIgc3BlY05hbWUgPSBtYXBwaW5nWzBdLCBwYXJhbSA9IG1hcHBpbmdbMV07XG4gICAgICAgIGlmICh0eXBlb2Ygc3BlY1tzcGVjTmFtZV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwYXJhbXMucHVzaChcIlwiLmNvbmNhdChwYXJhbSwgXCI9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoc3BlY1tzcGVjTmFtZV0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHNwZWNbcGFyYW1dICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcGFyYW1zLnB1c2goXCJcIi5jb25jYXQocGFyYW0sIFwiPVwiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHNwZWNbcGFyYW1dKSkpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHBhcmFtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGJhc2VVcmw7XG4gICAgfVxuICAgIHJldHVybiBcIlwiLmNvbmNhdChiYXNlVXJsLCBcIj9cIikuY29uY2F0KHBhcmFtcy5qb2luKCcmJykpO1xufVxuZnVuY3Rpb24gZml0KHNvdXJjZSwgc3BlYykge1xuICAgIHZhciBjcm9wUmVjdDtcbiAgICB2YXIgaW1nV2lkdGggPSBzcGVjLndpZHRoO1xuICAgIHZhciBpbWdIZWlnaHQgPSBzcGVjLmhlaWdodDtcbiAgICAvLyBJZiB3ZSBhcmUgbm90IGNvbnN0cmFpbmluZyB0aGUgYXNwZWN0IHJhdGlvLCB3ZSdsbCBqdXN0IHVzZSB0aGUgd2hvbGUgY3JvcFxuICAgIGlmICghKGltZ1dpZHRoICYmIGltZ0hlaWdodCkpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IGltZ1dpZHRoLCBoZWlnaHQ6IGltZ0hlaWdodCwgcmVjdDogc291cmNlLmNyb3AgfTtcbiAgICB9XG4gICAgdmFyIGNyb3AgPSBzb3VyY2UuY3JvcDtcbiAgICB2YXIgaG90c3BvdCA9IHNvdXJjZS5ob3RzcG90O1xuICAgIC8vIElmIHdlIGFyZSBoZXJlLCB0aGF0IG1lYW5zIGFzcGVjdCByYXRpbyBpcyBsb2NrZWQgYW5kIGZpdHRpbmcgd2lsbCBiZSBhIGJpdCBoYXJkZXJcbiAgICB2YXIgZGVzaXJlZEFzcGVjdFJhdGlvID0gaW1nV2lkdGggLyBpbWdIZWlnaHQ7XG4gICAgdmFyIGNyb3BBc3BlY3RSYXRpbyA9IGNyb3Aud2lkdGggLyBjcm9wLmhlaWdodDtcbiAgICBpZiAoY3JvcEFzcGVjdFJhdGlvID4gZGVzaXJlZEFzcGVjdFJhdGlvKSB7XG4gICAgICAgIC8vIFRoZSBjcm9wIGlzIHdpZGVyIHRoYW4gdGhlIGRlc2lyZWQgYXNwZWN0IHJhdGlvLiBUaGF0IG1lYW5zIHdlIGFyZSBjdXR0aW5nIGZyb20gdGhlIHNpZGVzXG4gICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGNyb3AuaGVpZ2h0KTtcbiAgICAgICAgdmFyIHdpZHRoID0gTWF0aC5yb3VuZChoZWlnaHQgKiBkZXNpcmVkQXNwZWN0UmF0aW8pO1xuICAgICAgICB2YXIgdG9wXzIgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGNyb3AudG9wKSk7XG4gICAgICAgIC8vIENlbnRlciBvdXRwdXQgaG9yaXpvbnRhbGx5IG92ZXIgaG90c3BvdFxuICAgICAgICB2YXIgaG90c3BvdFhDZW50ZXIgPSBNYXRoLnJvdW5kKChob3RzcG90LnJpZ2h0IC0gaG90c3BvdC5sZWZ0KSAvIDIgKyBob3RzcG90LmxlZnQpO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoaG90c3BvdFhDZW50ZXIgLSB3aWR0aCAvIDIpKTtcbiAgICAgICAgLy8gS2VlcCBvdXRwdXQgd2l0aGluIGNyb3BcbiAgICAgICAgaWYgKGxlZnQgPCBjcm9wLmxlZnQpIHtcbiAgICAgICAgICAgIGxlZnQgPSBjcm9wLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobGVmdCArIHdpZHRoID4gY3JvcC5sZWZ0ICsgY3JvcC53aWR0aCkge1xuICAgICAgICAgICAgbGVmdCA9IGNyb3AubGVmdCArIGNyb3Aud2lkdGggLSB3aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBjcm9wUmVjdCA9IHsgbGVmdDogbGVmdCwgdG9wOiB0b3BfMiwgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhlIGNyb3AgaXMgdGFsbGVyIHRoYW4gdGhlIGRlc2lyZWQgcmF0aW8sIHdlIGFyZSBjdXR0aW5nIGZyb20gdG9wIGFuZCBib3R0b21cbiAgICAgICAgdmFyIHdpZHRoID0gY3JvcC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQod2lkdGggLyBkZXNpcmVkQXNwZWN0UmF0aW8pO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWF4KDAsIE1hdGgucm91bmQoY3JvcC5sZWZ0KSk7XG4gICAgICAgIC8vIENlbnRlciBvdXRwdXQgdmVydGljYWxseSBvdmVyIGhvdHNwb3RcbiAgICAgICAgdmFyIGhvdHNwb3RZQ2VudGVyID0gTWF0aC5yb3VuZCgoaG90c3BvdC5ib3R0b20gLSBob3RzcG90LnRvcCkgLyAyICsgaG90c3BvdC50b3ApO1xuICAgICAgICB2YXIgdG9wXzMgPSBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKGhvdHNwb3RZQ2VudGVyIC0gaGVpZ2h0IC8gMikpO1xuICAgICAgICAvLyBLZWVwIG91dHB1dCByZWN0IHdpdGhpbiBjcm9wXG4gICAgICAgIGlmICh0b3BfMyA8IGNyb3AudG9wKSB7XG4gICAgICAgICAgICB0b3BfMyA9IGNyb3AudG9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRvcF8zICsgaGVpZ2h0ID4gY3JvcC50b3AgKyBjcm9wLmhlaWdodCkge1xuICAgICAgICAgICAgdG9wXzMgPSBjcm9wLnRvcCArIGNyb3AuaGVpZ2h0IC0gaGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGNyb3BSZWN0ID0geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcF8zLCB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBpbWdXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBpbWdIZWlnaHQsXG4gICAgICAgIHJlY3Q6IGNyb3BSZWN0LFxuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11cmxGb3JJbWFnZS5qcy5tYXAiXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwicGFyc2VTb3VyY2UiLCJTUEVDX05BTUVfVE9fVVJMX05BTUVfTUFQUElOR1MiLCJwYXJzZUFzc2V0SWRfMSIsInJlcXVpcmUiLCJwYXJzZVNvdXJjZV8xIiwiZGVmYXVsdCIsInVybEZvckltYWdlIiwib3B0aW9ucyIsInNwZWMiLCJzb3VyY2UiLCJpbWFnZSIsIkVycm9yIiwiY29uY2F0IiwiSlNPTiIsInN0cmluZ2lmeSIsImlkIiwiYXNzZXQiLCJfcmVmIiwiX2lkIiwiY3JvcExlZnQiLCJNYXRoIiwicm91bmQiLCJjcm9wIiwibGVmdCIsIndpZHRoIiwiY3JvcFRvcCIsInRvcCIsImhlaWdodCIsInJpZ2h0IiwiYm90dG9tIiwiaG90U3BvdFZlcnRpY2FsUmFkaXVzIiwiaG90c3BvdCIsImhvdFNwb3RIb3Jpem9udGFsUmFkaXVzIiwiaG90U3BvdENlbnRlclgiLCJ4IiwiaG90U3BvdENlbnRlclkiLCJ5IiwicmVjdCIsImZvY2FsUG9pbnQiLCJpZ25vcmVJbWFnZVBhcmFtcyIsImZpdCIsInNwZWNUb0ltYWdlVXJsIiwiY2RuVXJsIiwiYmFzZVVybCIsInJlcGxhY2UiLCJmaWxlbmFtZSIsImZvcm1hdCIsInByb2plY3RJZCIsImRhdGFzZXQiLCJwYXJhbXMiLCJfYSIsInRvcF8xIiwiaXNFZmZlY3RpdmVDcm9wIiwicHVzaCIsImJnIiwiZmxpcCIsImZsaXBIb3Jpem9udGFsIiwiZmxpcFZlcnRpY2FsIiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJmb3JFYWNoIiwibWFwcGluZyIsInNwZWNOYW1lIiwicGFyYW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcm9wUmVjdCIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiZGVzaXJlZEFzcGVjdFJhdGlvIiwiY3JvcEFzcGVjdFJhdGlvIiwidG9wXzIiLCJtYXgiLCJob3RzcG90WENlbnRlciIsImhvdHNwb3RZQ2VudGVyIiwidG9wXzMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/image-url/lib/node/urlForImage.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/eventsource/node.js":
/*!**************************************************!*\
  !*** ./node_modules/@sanity/eventsource/node.js ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\nmodule.exports = __webpack_require__(/*! eventsource */ \"(rsc)/./node_modules/eventsource/lib/eventsource.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9ldmVudHNvdXJjZS9ub2RlLmpzIiwibWFwcGluZ3MiOiI7QUFBQUEsOEdBQXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9obi8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2V2ZW50c291cmNlL25vZGUuanM/ZDg4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJ2V2ZW50c291cmNlJylcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwicmVxdWlyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/eventsource/node.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-MafB5TmI.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@sanity/client/dist/_chunks/browserMiddleware-MafB5TmI.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* binding */ BasePatch),\n/* harmony export */   BaseTransaction: () => (/* binding */ BaseTransaction),\n/* harmony export */   ClientError: () => (/* binding */ ClientError),\n/* harmony export */   ObservablePatch: () => (/* binding */ ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* binding */ ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* binding */ ObservableTransaction),\n/* harmony export */   Patch: () => (/* binding */ Patch),\n/* harmony export */   SanityClient: () => (/* binding */ SanityClient),\n/* harmony export */   ServerError: () => (/* binding */ ServerError),\n/* harmony export */   Transaction: () => (/* binding */ Transaction),\n/* harmony export */   defaultConfig: () => (/* binding */ defaultConfig),\n/* harmony export */   defineCreateClientExports: () => (/* binding */ defineCreateClientExports),\n/* harmony export */   envMiddleware: () => (/* binding */ envMiddleware),\n/* harmony export */   printNoDefaultExport: () => (/* binding */ printNoDefaultExport)\n/* harmony export */ });\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n/* harmony import */ var get_it_middleware__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it/middleware */ \"(rsc)/./node_modules/get-it/dist/middleware.browser.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Observable,lastValueFrom!=!rxjs */ \"(rsc)/./node_modules/rxjs/dist/esm5/internal/lastValueFrom.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n\n\n\n\nconst MAX_ITEMS_IN_ERROR_MESSAGE = 5;\nclass ClientError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 400;\n        Object.assign(this, props);\n    }\n}\nclass ServerError extends Error {\n    constructor(res){\n        const props = extractErrorProps(res);\n        super(props.message);\n        this.statusCode = 500;\n        Object.assign(this, props);\n    }\n}\nfunction extractErrorProps(res) {\n    const body = res.body;\n    const props = {\n        response: res,\n        statusCode: res.statusCode,\n        responseBody: stringifyBody(body, res),\n        message: \"\",\n        details: void 0\n    };\n    if (body.error && body.message) {\n        props.message = \"\".concat(body.error, \" - \").concat(body.message);\n        return props;\n    }\n    if (isMutationError(body)) {\n        const allItems = body.error.items || [];\n        const items = allItems.slice(0, MAX_ITEMS_IN_ERROR_MESSAGE).map((item)=>{\n            var _a;\n            return (_a = item.error) == null ? void 0 : _a.description;\n        }).filter(Boolean);\n        let itemsStr = items.length ? \":\\n- \".concat(items.join(\"\\n- \")) : \"\";\n        if (allItems.length > MAX_ITEMS_IN_ERROR_MESSAGE) {\n            itemsStr += \"\\n...and \".concat(allItems.length - MAX_ITEMS_IN_ERROR_MESSAGE, \" more\");\n        }\n        props.message = \"\".concat(body.error.description).concat(itemsStr);\n        props.details = body.error;\n        return props;\n    }\n    if (body.error && body.error.description) {\n        props.message = body.error.description;\n        props.details = body.error;\n        return props;\n    }\n    props.message = body.error || body.message || httpErrorMessage(res);\n    return props;\n}\nfunction isMutationError(body) {\n    return isPlainObject(body) && isPlainObject(body.error) && body.error.type === \"mutationError\" && typeof body.error.description === \"string\";\n}\nfunction isPlainObject(obj) {\n    return typeof obj === \"object\" && obj !== null && !Array.isArray(obj);\n}\nfunction httpErrorMessage(res) {\n    const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n    return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n    const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n    const isJson = contentType.indexOf(\"application/json\") !== -1;\n    return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n    onResponse: (res)=>{\n        if (res.statusCode >= 500) {\n            throw new ServerError(res);\n        } else if (res.statusCode >= 400) {\n            throw new ClientError(res);\n        }\n        return res;\n    }\n};\nconst printWarnings = {\n    onResponse: (res)=>{\n        const warn = res.headers[\"x-sanity-warning\"];\n        const warnings = Array.isArray(warn) ? warn : [\n            warn\n        ];\n        warnings.filter(Boolean).forEach((msg)=>console.warn(msg));\n        return res;\n    }\n};\nfunction defineHttpRequest(envMiddleware, _ref) {\n    let { maxRetries = 5, retryDelay } = _ref;\n    const request = (0,get_it__WEBPACK_IMPORTED_MODULE_0__.getIt)([\n        maxRetries > 0 ? (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry)({\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            retryDelay,\n            // This option is typed incorrectly in get-it.\n            maxRetries,\n            shouldRetry\n        }) : {},\n        ...envMiddleware,\n        printWarnings,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonRequest)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.jsonResponse)(),\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.progress)(),\n        httpError,\n        (0,get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.observable)({\n            implementation: _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable\n        })\n    ]);\n    function httpRequest(options) {\n        let requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n        return requester({\n            maxRedirects: 0,\n            ...options\n        });\n    }\n    httpRequest.defaultRequester = request;\n    return httpRequest;\n}\nfunction shouldRetry(err, attempt, options) {\n    const isSafe = options.method === \"GET\" || options.method === \"HEAD\";\n    const uri = options.uri || options.url;\n    const isQuery = uri.startsWith(\"/data/query\");\n    const isRetriableResponse = err.response && (err.response.statusCode === 429 || err.response.statusCode === 502 || err.response.statusCode === 503);\n    if ((isSafe || isQuery) && isRetriableResponse) return true;\n    return get_it_middleware__WEBPACK_IMPORTED_MODULE_1__.retry.shouldRetry(err, attempt, options);\n}\nfunction getSelection(sel) {\n    if (typeof sel === \"string\" || Array.isArray(sel)) {\n        return {\n            id: sel\n        };\n    }\n    if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n        return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n            query: sel.query,\n            params: sel.params\n        } : {\n            query: sel.query\n        };\n    }\n    const selectionOpts = [\n        \"* Document ID (<docId>)\",\n        \"* Array of document IDs\",\n        \"* Object containing `query`\"\n    ].join(\"\\n\");\n    throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\n    \"image\",\n    \"file\"\n];\nconst VALID_INSERT_LOCATIONS = [\n    \"before\",\n    \"after\",\n    \"replace\"\n];\nconst dataset = (name)=>{\n    if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n        throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n    }\n};\nconst projectId = (id)=>{\n    if (!/^[-a-z0-9]+$/i.test(id)) {\n        throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n    }\n};\nconst validateAssetType = (type)=>{\n    if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n        throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n    }\n};\nconst validateObject = (op, val)=>{\n    if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n        throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n    }\n};\nconst validateDocumentId = (op, id)=>{\n    if (typeof id !== \"string\" || !/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(id) || id.includes(\"..\")) {\n        throw new Error(\"\".concat(op, '(): \"').concat(id, '\" is not a valid document ID'));\n    }\n};\nconst requireDocumentId = (op, doc)=>{\n    if (!doc._id) {\n        throw new Error(\"\".concat(op, '() requires that the document contains an ID (\"_id\" property)'));\n    }\n    validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items)=>{\n    const signature = \"insert(at, selector, items)\";\n    if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n        const valid = VALID_INSERT_LOCATIONS.map((loc)=>'\"'.concat(loc, '\"')).join(\", \");\n        throw new Error(\"\".concat(signature, ' takes an \"at\"-argument which is one of: ').concat(valid));\n    }\n    if (typeof selector !== \"string\") {\n        throw new Error(\"\".concat(signature, ' takes a \"selector\"-argument which must be a string'));\n    }\n    if (!Array.isArray(items)) {\n        throw new Error(\"\".concat(signature, ' takes an \"items\"-argument which must be an array'));\n    }\n};\nconst hasDataset = (config)=>{\n    if (!config.dataset) {\n        throw new Error(\"`dataset` must be provided to perform queries\");\n    }\n    return config.dataset || \"\";\n};\nconst requestTag = (tag)=>{\n    if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n        throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n    }\n    return tag;\n};\nvar __accessCheck$6 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter)=>{\n    __accessCheck$6(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter)=>{\n    __accessCheck$6(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n    constructor(selection){\n        let operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        this.selection = selection;\n        this.operations = operations;\n    }\n    /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ set(attrs) {\n        return this._assign(\"set\", attrs);\n    }\n    /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */ setIfMissing(attrs) {\n        return this._assign(\"setIfMissing\", attrs);\n    }\n    /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */ diffMatchPatch(attrs) {\n        validateObject(\"diffMatchPatch\", attrs);\n        return this._assign(\"diffMatchPatch\", attrs);\n    }\n    /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */ unset(attrs) {\n        if (!Array.isArray(attrs)) {\n            throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n        }\n        this.operations = Object.assign({}, this.operations, {\n            unset: attrs\n        });\n        return this;\n    }\n    /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */ inc(attrs) {\n        return this._assign(\"inc\", attrs);\n    }\n    /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */ dec(attrs) {\n        return this._assign(\"dec\", attrs);\n    }\n    /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */ insert(at, selector, items) {\n        validateInsert(at, selector, items);\n        return this._assign(\"insert\", {\n            [at]: selector,\n            items\n        });\n    }\n    /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */ append(selector, items) {\n        return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n    }\n    /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */ prepend(selector, items) {\n        return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n    }\n    /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */ splice(selector, start, deleteCount, items) {\n        const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n        const startIndex = start < 0 ? start - 1 : start;\n        const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n        const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n        const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n        return this.insert(\"replace\", rangeSelector, items || []);\n    }\n    /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */ ifRevisionId(rev) {\n        this.operations.ifRevisionID = rev;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ serialize() {\n        return {\n            ...getSelection(this.selection),\n            ...this.operations\n        };\n    }\n    /**\n   * Return a plain JSON representation of the patch\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the patch of all operations\n   */ reset() {\n        this.operations = {};\n        return this;\n    }\n    _assign(op, props) {\n        let merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        validateObject(op, props);\n        this.operations = Object.assign({}, this.operations, {\n            [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n        });\n        return this;\n    }\n    _set(op, props) {\n        return this._assign(op, props, false);\n    }\n}\nconst _ObservablePatch = class _ObservablePatch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client$5, void 0);\n        __privateSet$6(this, _client$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _ObservablePatch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client$5 = new WeakMap();\nlet ObservablePatch = _ObservablePatch;\nconst _Patch = class _Patch extends BasePatch {\n    constructor(selection, operations, client){\n        super(selection, operations);\n        __privateAdd$6(this, _client2$5, void 0);\n        __privateSet$6(this, _client2$5, client);\n    }\n    /**\n   * Clones the patch\n   */ clone() {\n        return new _Patch(this.selection, {\n            ...this.operations\n        }, __privateGet$6(this, _client2$5));\n    }\n    commit(options) {\n        if (!__privateGet$6(this, _client2$5)) {\n            throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n        }\n        const returnFirst = typeof this.selection === \"string\";\n        const opts = Object.assign({\n            returnFirst,\n            returnDocuments: true\n        }, options);\n        return __privateGet$6(this, _client2$5).mutate({\n            patch: this.serialize()\n        }, opts);\n    }\n};\n_client2$5 = new WeakMap();\nlet Patch = _Patch;\nvar __accessCheck$5 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter)=>{\n    __accessCheck$5(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter)=>{\n    __accessCheck$5(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n    returnDocuments: false\n};\nclass BaseTransaction {\n    constructor(){\n        let operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n        let transactionId = arguments.length > 1 ? arguments[1] : undefined;\n        this.operations = operations;\n        this.trxId = transactionId;\n    }\n    /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */ create(doc) {\n        validateObject(\"create\", doc);\n        return this._add({\n            create: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */ createIfNotExists(doc) {\n        const op = \"createIfNotExists\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */ createOrReplace(doc) {\n        const op = \"createOrReplace\";\n        validateObject(op, doc);\n        requireDocumentId(op, doc);\n        return this._add({\n            [op]: doc\n        });\n    }\n    /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */ delete(documentId) {\n        validateDocumentId(\"delete\", documentId);\n        return this._add({\n            delete: {\n                id: documentId\n            }\n        });\n    }\n    transactionId(id) {\n        if (!id) {\n            return this.trxId;\n        }\n        this.trxId = id;\n        return this;\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ serialize() {\n        return [\n            ...this.operations\n        ];\n    }\n    /**\n   * Return a plain JSON representation of the transaction\n   */ toJSON() {\n        return this.serialize();\n    }\n    /**\n   * Clears the transaction of all operations\n   */ reset() {\n        this.operations = [];\n        return this;\n    }\n    _add(mut) {\n        this.operations.push(mut);\n        return this;\n    }\n}\nconst _Transaction = class _Transaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client$4, void 0);\n        __privateSet$5(this, _client$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _Transaction([\n            ...this.operations\n        ], __privateGet$5(this, _client$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n            if (!(patch instanceof Patch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client$4 = new WeakMap();\nlet Transaction = _Transaction;\nconst _ObservableTransaction = class _ObservableTransaction extends BaseTransaction {\n    constructor(operations, client, transactionId){\n        super(operations, transactionId);\n        __privateAdd$5(this, _client2$4, void 0);\n        __privateSet$5(this, _client2$4, client);\n    }\n    /**\n   * Clones the transaction\n   */ clone() {\n        return new _ObservableTransaction([\n            ...this.operations\n        ], __privateGet$5(this, _client2$4), this.trxId);\n    }\n    commit(options) {\n        if (!__privateGet$5(this, _client2$4)) {\n            throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n        }\n        return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n            transactionId: this.trxId\n        }, defaultMutateOptions, options || {}));\n    }\n    patch(patchOrDocumentId, patchOps) {\n        const isBuilder = typeof patchOps === \"function\";\n        const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n        if (isPatch) {\n            return this._add({\n                patch: patchOrDocumentId.serialize()\n            });\n        }\n        if (isBuilder) {\n            const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n            if (!(patch instanceof ObservablePatch)) {\n                throw new Error(\"function passed to `patch()` must return the patch\");\n            }\n            return this._add({\n                patch: patch.serialize()\n            });\n        }\n        return this._add({\n            patch: {\n                id: patchOrDocumentId,\n                ...patchOps\n            }\n        });\n    }\n};\n_client2$4 = new WeakMap();\nlet ObservableTransaction = _ObservableTransaction;\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n    return BASE_URL + slug;\n}\nfunction once(fn) {\n    let didCall = false;\n    let returnValue;\n    return function() {\n        if (didCall) {\n            return returnValue;\n        }\n        returnValue = fn(...arguments);\n        didCall = true;\n        return returnValue;\n    };\n}\nconst createWarningPrinter = (message)=>// eslint-disable-next-line no-console\n    once(function() {\n        for(var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++){\n            args[_key] = arguments[_key];\n        }\n        return console.warn(message.join(\" \"), ...args);\n    });\nconst printCdnWarning = createWarningPrinter([\n    \"Since you haven't set a value for `useCdn`, we will deliver content using our\",\n    \"global, edge-cached API-CDN. If you wish to have content delivered faster, set\",\n    \"`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API.\"\n]);\nconst printCdnPreviewDraftsWarning = createWarningPrinter([\n    \"The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.\",\n    \"The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning.\"\n]);\nconst printBrowserTokenWarning = createWarningPrinter([\n    \"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\",\n    \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")\n]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\n    \"Using the Sanity client without specifying an API version is deprecated.\",\n    \"See \".concat(generateHelpUrl(\"js-client-api-version\"))\n]);\nconst printNoDefaultExport = createWarningPrinter([\n    \"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead.\"\n]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n    apiHost: \"https://api.sanity.io\",\n    apiVersion: \"1\",\n    useProjectHostname: true\n};\nconst LOCALHOSTS = [\n    \"localhost\",\n    \"127.0.0.1\",\n    \"0.0.0.0\"\n];\nconst isLocal = (host)=>LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n    if (apiVersion === \"1\" || apiVersion === \"X\") {\n        return;\n    }\n    const apiDate = new Date(apiVersion);\n    const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n    if (!apiVersionValid) {\n        throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n    }\n};\nconst validateApiPerspective = function validateApiPerspective2(perspective) {\n    switch(perspective){\n        case \"previewDrafts\":\n        case \"published\":\n        case \"raw\":\n            return;\n        default:\n            throw new TypeError(\"Invalid API perspective string, expected `published`, `previewDrafts` or `raw`\");\n    }\n};\nconst initConfig = (config, prevConfig)=>{\n    const specifiedConfig = Object.assign({}, prevConfig, config);\n    if (!specifiedConfig.apiVersion) {\n        printNoApiVersionSpecifiedWarning();\n    }\n    const newConfig = Object.assign({}, defaultConfig, specifiedConfig);\n    const projectBased = newConfig.useProjectHostname;\n    if (typeof Promise === \"undefined\") {\n        const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n        throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n    }\n    if (projectBased && !newConfig.projectId) {\n        throw new Error(\"Configuration must contain `projectId`\");\n    }\n    if (typeof newConfig.perspective === \"string\") {\n        validateApiPerspective(newConfig.perspective);\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig || \"encodeSourceMap\" in newConfig || \"studioUrl\" in newConfig || \"logger\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.\");\n    }\n    if (\"stega\" in newConfig && newConfig[\"stega\"] !== void 0 && newConfig[\"stega\"] !== false) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.\");\n    }\n    const isBrowser =  false && 0;\n    const isLocalhost = isBrowser && isLocal(window.location.hostname);\n    if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n        printBrowserTokenWarning();\n    } else if (typeof newConfig.useCdn === \"undefined\") {\n        printCdnWarning();\n    }\n    if (projectBased) {\n        projectId(newConfig.projectId);\n    }\n    if (newConfig.dataset) {\n        dataset(newConfig.dataset);\n    }\n    if (\"requestTagPrefix\" in newConfig) {\n        newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n    }\n    newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n    newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n    newConfig.useCdn = newConfig.useCdn !== false && !newConfig.withCredentials;\n    validateApiVersion(newConfig.apiVersion);\n    const hostParts = newConfig.apiHost.split(\"://\", 2);\n    const protocol = hostParts[0];\n    const host = hostParts[1];\n    const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n    if (newConfig.useProjectHostname) {\n        newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n    } else {\n        newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n        newConfig.cdnUrl = newConfig.url;\n    }\n    return newConfig;\n};\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config) {\n    let overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const headers = {};\n    const token = overrides.token || config.token;\n    if (token) {\n        headers.Authorization = \"Bearer \".concat(token);\n    }\n    if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n        headers[projectHeader] = config.projectId;\n    }\n    const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n    const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n    return Object.assign({}, overrides, {\n        headers: Object.assign({}, headers, overrides.headers || {}),\n        timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n        proxy: overrides.proxy || config.proxy,\n        json: true,\n        withCredentials,\n        fetch: typeof overrides.fetch === \"object\" && typeof config.fetch === \"object\" ? {\n            ...config.fetch,\n            ...overrides.fetch\n        } : overrides.fetch || config.fetch\n    });\n}\nconst encodeQueryString = (_ref2)=>{\n    let { query, params = {}, options = {} } = _ref2;\n    const searchParams = new URLSearchParams();\n    const { tag, ...opts } = options;\n    if (tag) searchParams.append(\"tag\", tag);\n    searchParams.append(\"query\", query);\n    for (const [key, value] of Object.entries(params)){\n        searchParams.append(\"$\".concat(key), JSON.stringify(value));\n    }\n    for (const [key, value] of Object.entries(opts)){\n        if (value) searchParams.append(key, \"\".concat(value));\n    }\n    return \"?\".concat(searchParams);\n};\nconst excludeFalsey = (param, defValue)=>{\n    const value = typeof param === \"undefined\" ? defValue : param;\n    return param === false ? void 0 : value;\n};\nconst getMutationQuery = function() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return {\n        dryRun: options.dryRun,\n        returnIds: true,\n        returnDocuments: excludeFalsey(options.returnDocuments, true),\n        visibility: options.visibility || \"sync\",\n        autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n        skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n    };\n};\nconst isResponse = (event)=>event.type === \"response\";\nconst getBody = (event)=>event.body;\nconst indexBy = (docs, attr)=>docs.reduce((indexed, doc)=>{\n        indexed[attr(doc)] = doc;\n        return indexed;\n    }, /* @__PURE__ */ Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, query, params) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const mapResponse = options.filterResponse === false ? (res)=>res : (res)=>res.result;\n    const { cache, next, ...opts } = {\n        // Opt out of setting a `signal` on an internal `fetch` if one isn't provided.\n        // This is necessary in React Server Components to avoid opting out of Request Memoization.\n        useAbortSignal: typeof options.signal !== \"undefined\",\n        ...options\n    };\n    const reqOpts = typeof cache !== \"undefined\" || typeof next !== \"undefined\" ? {\n        ...opts,\n        fetch: {\n            cache,\n            next\n        }\n    } : opts;\n    return _dataRequest(client, httpRequest, \"query\", {\n        query,\n        params\n    }, reqOpts).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id) {\n    let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const options = {\n        uri: _getDataUrl(client, \"doc\", id),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids) {\n    let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const options = {\n        uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n        json: true,\n        tag: opts.tag\n    };\n    return _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>{\n        const indexed = indexBy(event.body.documents || [], (doc)=>doc._id);\n        return ids.map((id)=>indexed[id] || null);\n    }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n    requireDocumentId(\"createIfNotExists\", doc);\n    return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n    requireDocumentId(\"createOrReplace\", doc);\n    return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            {\n                delete: getSelection(selection)\n            }\n        ]\n    }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n    let mut;\n    if (mutations instanceof Patch || mutations instanceof ObservablePatch) {\n        mut = {\n            patch: mutations.serialize()\n        };\n    } else if (mutations instanceof Transaction || mutations instanceof ObservableTransaction) {\n        mut = mutations.serialize();\n    } else {\n        mut = mutations;\n    }\n    const muts = Array.isArray(mut) ? mut : [\n        mut\n    ];\n    const transactionId = options && options.transactionId || void 0;\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: muts,\n        transactionId\n    }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const isMutation = endpoint === \"mutate\";\n    const isQuery = endpoint === \"query\";\n    const strQuery = isMutation ? \"\" : encodeQueryString(body);\n    const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n    const stringQuery = useGet ? strQuery : \"\";\n    const returnFirst = options.returnFirst;\n    const { timeout, token, tag, headers } = options;\n    const uri = _getDataUrl(client, endpoint, stringQuery);\n    const reqOptions = {\n        method: useGet ? \"GET\" : \"POST\",\n        uri,\n        json: true,\n        body: useGet ? void 0 : body,\n        query: isMutation && getMutationQuery(options),\n        timeout,\n        headers,\n        token,\n        tag,\n        perspective: options.perspective,\n        resultSourceMap: options.resultSourceMap,\n        canUseCdn: isQuery,\n        signal: options.signal,\n        fetch: options.fetch,\n        useAbortSignal: options.useAbortSignal\n    };\n    return _requestObservable(client, httpRequest, reqOptions).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)(isResponse), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)(getBody), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((res)=>{\n        if (!isMutation) {\n            return res;\n        }\n        const results = res.results || [];\n        if (options.returnDocuments) {\n            return returnFirst ? results[0] && results[0].document : results.map((mut)=>mut.document);\n        }\n        const key = returnFirst ? \"documentId\" : \"documentIds\";\n        const ids = returnFirst ? results[0] && results[0].id : results.map((mut)=>mut.id);\n        return {\n            transactionId: res.transactionId,\n            results,\n            [key]: ids\n        };\n    }));\n}\nfunction _create(client, httpRequest, doc, op) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    const mutation = {\n        [op]: doc\n    };\n    const opts = Object.assign({\n        returnFirst: true,\n        returnDocuments: true\n    }, options);\n    return _dataRequest(client, httpRequest, \"mutate\", {\n        mutations: [\n            mutation\n        ]\n    }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n    var _a;\n    const uri = options.url || options.uri;\n    const config = client.config();\n    const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\n        \"GET\",\n        \"HEAD\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n    let useCdn = config.useCdn && canUseCdn;\n    const tag = options.tag && config.requestTagPrefix ? [\n        config.requestTagPrefix,\n        options.tag\n    ].join(\".\") : options.tag || config.requestTagPrefix;\n    if (tag && options.tag !== null) {\n        options.query = {\n            tag: requestTag(tag),\n            ...options.query\n        };\n    }\n    if ([\n        \"GET\",\n        \"HEAD\",\n        \"POST\"\n    ].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/query/\") === 0) {\n        const resultSourceMap = (_a = options.resultSourceMap) != null ? _a : config.resultSourceMap;\n        if (resultSourceMap !== void 0 && resultSourceMap !== false) {\n            options.query = {\n                resultSourceMap,\n                ...options.query\n            };\n        }\n        const perspective = options.perspective || config.perspective;\n        if (typeof perspective === \"string\" && perspective !== \"raw\") {\n            validateApiPerspective(perspective);\n            options.query = {\n                perspective,\n                ...options.query\n            };\n            if (perspective === \"previewDrafts\" && useCdn) {\n                useCdn = false;\n                printCdnPreviewDraftsWarning();\n            }\n        }\n    }\n    const reqOptions = requestOptions(config, Object.assign({}, options, {\n        url: _getUrl(client, uri, useCdn)\n    }));\n    const request = new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((subscriber)=>httpRequest(reqOptions, config.requester).subscribe(subscriber));\n    return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n    const observable = _requestObservable(client, httpRequest, options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body));\n    return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n    const config = client.config();\n    const catalog = hasDataset(config);\n    const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n    const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n    return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri) {\n    let canUseCdn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    const { url, cdnUrl } = client.config();\n    const base = canUseCdn ? cdnUrl : url;\n    return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n    return (input)=>{\n        return new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n            const abort = ()=>observer.error(_createAbortError(signal));\n            if (signal && signal.aborted) {\n                abort();\n                return;\n            }\n            const subscription = input.subscribe(observer);\n            signal.addEventListener(\"abort\", abort);\n            return ()=>{\n                signal.removeEventListener(\"abort\", abort);\n                subscription.unsubscribe();\n            };\n        });\n    };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n    var _a, _b;\n    if (isDomExceptionSupported) {\n        return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n    }\n    const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n    error.name = \"AbortError\";\n    return error;\n}\nvar __accessCheck$4 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter)=>{\n    __accessCheck$4(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter)=>{\n    __accessCheck$4(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client$3, void 0);\n        __privateAdd$4(this, _httpRequest$4, void 0);\n        __privateSet$4(this, _client$3, client);\n        __privateSet$4(this, _httpRequest$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n    }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$4(this, _client2$3, void 0);\n        __privateAdd$4(this, _httpRequest2$4, void 0);\n        __privateSet$4(this, _client2$3, client);\n        __privateSet$4(this, _httpRequest2$4, httpRequest);\n    }\n    upload(assetType, body, options) {\n        const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(observable.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.filter)((event)=>event.type === \"response\"), (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((event)=>event.body.document)));\n    }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body) {\n    let opts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    validateAssetType(assetType);\n    let meta = opts.extract || void 0;\n    if (meta && !meta.length) {\n        meta = [\n            \"none\"\n        ];\n    }\n    const dataset = hasDataset(client.config());\n    const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n    const options = optionsFromFile(opts, body);\n    const { tag, label, title, description, creditLine, filename, source } = options;\n    const query = {\n        label,\n        title,\n        description,\n        filename,\n        meta,\n        creditLine\n    };\n    if (source) {\n        query.sourceId = source.id;\n        query.sourceName = source.name;\n        query.sourceUrl = source.url;\n    }\n    return _requestObservable(client, httpRequest, {\n        tag,\n        method: \"POST\",\n        timeout: options.timeout || 0,\n        uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n        headers: options.contentType ? {\n            \"Content-Type\": options.contentType\n        } : {},\n        query,\n        body\n    });\n}\nfunction optionsFromFile(opts, file) {\n    if (typeof File === \"undefined\" || !(file instanceof File)) {\n        return opts;\n    }\n    return Object.assign({\n        filename: opts.preserveFilename === false ? void 0 : file.name,\n        contentType: file.type\n    }, opts);\n}\nvar defaults = (obj, defaults)=>Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop)=>{\n        target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n        return target;\n    }, {});\nconst pick = (obj, props)=>props.reduce((selection, prop)=>{\n        if (typeof obj[prop] === \"undefined\") {\n            return selection;\n        }\n        selection[prop] = obj[prop];\n        return selection;\n    }, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst possibleOptions = [\n    \"includePreviousRevision\",\n    \"includeResult\",\n    \"visibility\",\n    \"effectFormat\",\n    \"tag\"\n];\nconst defaultOptions = {\n    includeResult: true\n};\nfunction _listen(query, params) {\n    let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const { url, token, withCredentials, requestTagPrefix } = this.config();\n    const tag = opts.tag && requestTagPrefix ? [\n        requestTagPrefix,\n        opts.tag\n    ].join(\".\") : opts.tag;\n    const options = {\n        ...defaults(opts, defaultOptions),\n        tag\n    };\n    const listenOpts = pick(options, possibleOptions);\n    const qs = encodeQueryString({\n        query,\n        params,\n        options: {\n            tag,\n            ...listenOpts\n        }\n    });\n    const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n    if (uri.length > MAX_URL_LENGTH) {\n        return new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>observer.error(new Error(\"Query too large for listener\")));\n    }\n    const listenFor = options.events ? options.events : [\n        \"mutation\"\n    ];\n    const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n    const esOptions = {};\n    if (token || withCredentials) {\n        esOptions.withCredentials = true;\n    }\n    if (token) {\n        esOptions.headers = {\n            Authorization: \"Bearer \".concat(token)\n        };\n    }\n    return new _barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_2__.Observable((observer)=>{\n        let es;\n        getEventSource().then((eventSource)=>{\n            es = eventSource;\n        }).catch((reason)=>{\n            observer.error(reason);\n            stop();\n        });\n        let reconnectTimer;\n        let stopped = false;\n        function onError() {\n            if (stopped) {\n                return;\n            }\n            emitReconnect();\n            if (stopped) {\n                return;\n            }\n            if (es.readyState === es.CLOSED) {\n                unsubscribe();\n                clearTimeout(reconnectTimer);\n                reconnectTimer = setTimeout(open, 100);\n            }\n        }\n        function onChannelError(err) {\n            observer.error(cooerceError(err));\n        }\n        function onMessage(evt) {\n            const event = parseEvent(evt);\n            return event instanceof Error ? observer.error(event) : observer.next(event);\n        }\n        function onDisconnect() {\n            stopped = true;\n            unsubscribe();\n            observer.complete();\n        }\n        function unsubscribe() {\n            if (!es) return;\n            es.removeEventListener(\"error\", onError);\n            es.removeEventListener(\"channelError\", onChannelError);\n            es.removeEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>es.removeEventListener(type, onMessage));\n            es.close();\n        }\n        function emitReconnect() {\n            if (shouldEmitReconnect) {\n                observer.next({\n                    type: \"reconnect\"\n                });\n            }\n        }\n        async function getEventSource() {\n            const { default: EventSource } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@sanity\"), __webpack_require__.e(\"vendor-chunks/eventsource\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @sanity/eventsource */ \"(rsc)/./node_modules/@sanity/eventsource/node.js\", 19));\n            const evs = new EventSource(uri, esOptions);\n            evs.addEventListener(\"error\", onError);\n            evs.addEventListener(\"channelError\", onChannelError);\n            evs.addEventListener(\"disconnect\", onDisconnect);\n            listenFor.forEach((type)=>evs.addEventListener(type, onMessage));\n            return evs;\n        }\n        function open() {\n            getEventSource().then((eventSource)=>{\n                es = eventSource;\n            }).catch((reason)=>{\n                observer.error(reason);\n                stop();\n            });\n        }\n        function stop() {\n            stopped = true;\n            unsubscribe();\n        }\n        return stop;\n    });\n}\nfunction parseEvent(event) {\n    try {\n        const data = event.data && JSON.parse(event.data) || {};\n        return Object.assign({\n            type: event.type\n        }, data);\n    } catch (err) {\n        return err;\n    }\n}\nfunction cooerceError(err) {\n    if (err instanceof Error) {\n        return err;\n    }\n    const evt = parseEvent(err);\n    return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n    if (!err.error) {\n        return err.message || \"Unknown listener error\";\n    }\n    if (err.error.description) {\n        return err.error.description;\n    }\n    return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter)=>{\n    __accessCheck$3(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter)=>{\n    __accessCheck$3(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client$2, void 0);\n        __privateAdd$3(this, _httpRequest$3, void 0);\n        __privateSet$3(this, _client$2, client);\n        __privateSet$3(this, _httpRequest$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n            uri: \"/datasets\",\n            tag: null\n        });\n    }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n    constructor(client, httpRequest){\n        __privateAdd$3(this, _client2$2, void 0);\n        __privateAdd$3(this, _httpRequest2$3, void 0);\n        __privateSet$3(this, _client2$2, client);\n        __privateSet$3(this, _httpRequest2$3, httpRequest);\n    }\n    /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */ create(name, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n    }\n    /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */ edit(name, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n    }\n    /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */ delete(name) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n    }\n    /**\n   * Fetch a list of datasets for the configured project\n   */ list() {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n            uri: \"/datasets\",\n            tag: null\n        }));\n    }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n    dataset(name);\n    return _request(client, httpRequest, {\n        method,\n        uri: \"/datasets/\".concat(name),\n        body: options,\n        tag: null\n    });\n}\nvar __accessCheck$2 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter)=>{\n    __accessCheck$2(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter)=>{\n    __accessCheck$2(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client$1, void 0);\n        __privateAdd$2(this, _httpRequest$2, void 0);\n        __privateSet$2(this, _client$1, client);\n        __privateSet$2(this, _httpRequest$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri\n        });\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n            uri: \"/projects/\".concat(projectId)\n        });\n    }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n    constructor(client, httpRequest){\n        __privateAdd$2(this, _client2$1, void 0);\n        __privateAdd$2(this, _httpRequest2$2, void 0);\n        __privateSet$2(this, _client2$1, client);\n        __privateSet$2(this, _httpRequest2$2, httpRequest);\n    }\n    list(options) {\n        const uri = (options == null ? void 0 : options.includeMembers) === false ? \"/projects?includeMembers=false\" : \"/projects\";\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri\n        }));\n    }\n    /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */ getById(projectId) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n            uri: \"/projects/\".concat(projectId)\n        }));\n    }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter)=>{\n    __accessCheck$1(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter)=>{\n    __accessCheck$1(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client, void 0);\n        __privateAdd$1(this, _httpRequest$1, void 0);\n        __privateSet$1(this, _client, client);\n        __privateSet$1(this, _httpRequest$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n            uri: \"/users/\".concat(id)\n        });\n    }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n    constructor(client, httpRequest){\n        __privateAdd$1(this, _client2, void 0);\n        __privateAdd$1(this, _httpRequest2$1, void 0);\n        __privateSet$1(this, _client2, client);\n        __privateSet$1(this, _httpRequest2$1, httpRequest);\n    }\n    /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */ getById(id) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n            uri: \"/users/\".concat(id)\n        }));\n    }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class _ObservableSanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig, void 0);\n        __privateAdd(this, _httpRequest, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n        this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n        this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n        this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig)\n            };\n        }\n        if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n            ...this.config(),\n            ...newConfig\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return _fetch(this, __privateGet(this, _httpRequest), query, params, options);\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n    }\n    create(document, options) {\n        return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n    }\n    createIfNotExists(document, options) {\n        return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n    }\n    createOrReplace(document, options) {\n        return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n    }\n    delete(selection, options) {\n        return _delete(this, __privateGet(this, _httpRequest), selection, options);\n    }\n    mutate(operations, options) {\n        return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(selection, operations) {\n        return new ObservablePatch(selection, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new ObservableTransaction(operations, this);\n    }\n    /**\n   * Perform an HTTP request against the Sanity API\n   *\n   * @param options - Request options\n   */ request(options) {\n        return _request(this, __privateGet(this, _httpRequest), options);\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nlet ObservableSanityClient = _ObservableSanityClient;\nconst _SanityClient = class _SanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n        /**\n     * Private properties\n     */ __privateAdd(this, _clientConfig2, void 0);\n        __privateAdd(this, _httpRequest2, void 0);\n        /**\n     * Instance properties\n     */ this.listen = _listen;\n        this.config(config);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n        this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n        this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n        this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n        this.observable = new ObservableSanityClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...__privateGet(this, _clientConfig2)\n            };\n        }\n        if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n            throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n        }\n        if (this.observable) {\n            this.observable.config(newConfig);\n        }\n        __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        return new _SanityClient(__privateGet(this, _httpRequest2), {\n            ...this.config(),\n            ...newConfig\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_fetch(this, __privateGet(this, _httpRequest2), query, params, options));\n    }\n    /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */ getDocument(id, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n    }\n    /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */ getDocuments(ids, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n    }\n    create(document, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n    }\n    createIfNotExists(document, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    createOrReplace(document, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n    }\n    delete(selection, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n    }\n    mutate(operations, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n    }\n    /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param selection - Document ID, an array of document IDs, or an object with `query` and optional `params`, defining which document(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   * @returns Patch instance - call `.commit()` to perform the operations defined\n   */ patch(documentId, operations) {\n        return new Patch(documentId, operations, this);\n    }\n    /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */ transaction(operations) {\n        return new Transaction(operations, this);\n    }\n    /**\n   * Perform a request against the Sanity API\n   * NOTE: Only use this for Sanity API endpoints, not for your own APIs!\n   *\n   * @param options - Request options\n   * @returns Promise resolving to the response body\n   */ request(options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_request(this, __privateGet(this, _httpRequest2), options));\n    }\n    /**\n   * Perform an HTTP request a `/data` sub-endpoint\n   * NOTE: Considered internal, thus marked as deprecated. Use `request` instead.\n   *\n   * @deprecated - Use `request()` or your own HTTP library instead\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   * @internal\n   */ dataRequest(endpoint, body, options) {\n        return (0,_barrel_optimize_names_Observable_lastValueFrom_rxjs__WEBPACK_IMPORTED_MODULE_4__.lastValueFrom)(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n    }\n    /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */ getUrl(uri, canUseCdn) {\n        return _getUrl(this, uri, canUseCdn);\n    }\n    /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */ getDataUrl(operation, path) {\n        return _getDataUrl(this, operation, path);\n    }\n};\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nlet SanityClient = _SanityClient;\nfunction defineCreateClientExports(envMiddleware, ClassConstructor) {\n    const httpRequest = defineHttpRequest(envMiddleware, {});\n    const requester = httpRequest.defaultRequester;\n    const createClient = (config)=>new ClassConstructor(defineHttpRequest(envMiddleware, {\n            maxRetries: config.maxRetries,\n            retryDelay: config.retryDelay\n        }), config);\n    return {\n        requester,\n        createClient\n    };\n}\nvar envMiddleware = [];\n //# sourceMappingURL=browserMiddleware-MafB5TmI.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL2Jyb3dzZXJNaWRkbGV3YXJlLU1hZkI1VG1JLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDNEQ7QUFDMUM7QUFDSjtBQUM3QyxNQUFNVSw2QkFBNkI7QUFDbkMsTUFBTUMsb0JBQW9CQztJQUN4QkMsWUFBWUMsR0FBRyxDQUFFO1FBQ2YsTUFBTUMsUUFBUUMsa0JBQWtCRjtRQUNoQyxLQUFLLENBQUNDLE1BQU1FLE9BQU87UUFDbkIsSUFBSSxDQUFDQyxVQUFVLEdBQUc7UUFDbEJDLE9BQU9DLE1BQU0sQ0FBQyxJQUFJLEVBQUVMO0lBQ3RCO0FBQ0Y7QUFDQSxNQUFNTSxvQkFBb0JUO0lBQ3hCQyxZQUFZQyxHQUFHLENBQUU7UUFDZixNQUFNQyxRQUFRQyxrQkFBa0JGO1FBQ2hDLEtBQUssQ0FBQ0MsTUFBTUUsT0FBTztRQUNuQixJQUFJLENBQUNDLFVBQVUsR0FBRztRQUNsQkMsT0FBT0MsTUFBTSxDQUFDLElBQUksRUFBRUw7SUFDdEI7QUFDRjtBQUNBLFNBQVNDLGtCQUFrQkYsR0FBRztJQUM1QixNQUFNUSxPQUFPUixJQUFJUSxJQUFJO0lBQ3JCLE1BQU1QLFFBQVE7UUFDWlEsVUFBVVQ7UUFDVkksWUFBWUosSUFBSUksVUFBVTtRQUMxQk0sY0FBY0MsY0FBY0gsTUFBTVI7UUFDbENHLFNBQVM7UUFDVFMsU0FBUyxLQUFLO0lBQ2hCO0lBQ0EsSUFBSUosS0FBS0ssS0FBSyxJQUFJTCxLQUFLTCxPQUFPLEVBQUU7UUFDOUJGLE1BQU1FLE9BQU8sR0FBRyxHQUFHVyxNQUFNLENBQUNOLEtBQUtLLEtBQUssRUFBRSxPQUFPQyxNQUFNLENBQUNOLEtBQUtMLE9BQU87UUFDaEUsT0FBT0Y7SUFDVDtJQUNBLElBQUljLGdCQUFnQlAsT0FBTztRQUN6QixNQUFNUSxXQUFXUixLQUFLSyxLQUFLLENBQUNJLEtBQUssSUFBSSxFQUFFO1FBQ3ZD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YSxJQUFJLEVBQUVNLGdCQUFnQjNZO0lBQ3pFO0lBQ0E7Ozs7Ozs7OztHQVNDLEdBQ0QyWixZQUFZdEssUUFBUSxFQUFFeFMsSUFBSSxFQUFFbUQsT0FBTyxFQUFFO1FBQ25DLE9BQU9sRSxtR0FBYUEsQ0FBQ3dTLGFBQWEsSUFBSSxFQUFFK0osYUFBYSxJQUFJLEVBQUVNLGdCQUFnQnRKLFVBQVV4UyxNQUFNbUQ7SUFDN0Y7SUFDQTs7Ozs7R0FLQyxHQUNEdVosT0FBTzlZLEdBQUcsRUFBRW1QLFNBQVMsRUFBRTtRQUNyQixPQUFPSSxRQUFRLElBQUksRUFBRXZQLEtBQUttUDtJQUM1QjtJQUNBOzs7OztHQUtDLEdBQ0Q0SixXQUFXbkosU0FBUyxFQUFFQyxJQUFJLEVBQUU7UUFDMUIsT0FBTzdCLFlBQVksSUFBSSxFQUFFNEIsV0FBV0M7SUFDdEM7QUFDRjtBQUNBb0ksaUJBQWlCLElBQUlyUztBQUNyQnNTLGdCQUFnQixJQUFJdFM7QUFDcEIsSUFBSXVULGVBQWVGO0FBQ25CLFNBQVNHLDBCQUEwQnJhLGFBQWEsRUFBRXNhLGdCQUFnQjtJQUNoRSxNQUFNL1osY0FBY1Isa0JBQWtCQyxlQUFlLENBQUM7SUFDdEQsTUFBTVMsWUFBWUYsWUFBWU0sZ0JBQWdCO0lBQzlDLE1BQU0wWixlQUFldFgsQ0FBQUEsU0FBVSxJQUFJcVgsaUJBQWlCdmEsa0JBQWtCQyxlQUFlO1lBQ25GRSxZQUFZK0MsT0FBTy9DLFVBQVU7WUFDN0JDLFlBQVk4QyxPQUFPOUMsVUFBVTtRQUMvQixJQUFJOEM7SUFDSixPQUFPO1FBQ0x4QztRQUNBOFo7SUFDRjtBQUNGO0FBQ0EsSUFBSXZhLGdCQUFnQixFQUFFO0FBQzJOLENBQ2pQLHNEQUFzRCIsInNvdXJjZXMiOlsid2VicGFjazovL2pvaG4vLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9fY2h1bmtzL2Jyb3dzZXJNaWRkbGV3YXJlLU1hZkI1VG1JLmpzP2ViZjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0SXQgfSBmcm9tICdnZXQtaXQnO1xuaW1wb3J0IHsgcmV0cnksIGpzb25SZXF1ZXN0LCBqc29uUmVzcG9uc2UsIHByb2dyZXNzLCBvYnNlcnZhYmxlIH0gZnJvbSAnZ2V0LWl0L21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgbGFzdFZhbHVlRnJvbSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwLCBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5jb25zdCBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSA9IDU7XG5jbGFzcyBDbGllbnRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IocmVzKSB7XG4gICAgY29uc3QgcHJvcHMgPSBleHRyYWN0RXJyb3JQcm9wcyhyZXMpO1xuICAgIHN1cGVyKHByb3BzLm1lc3NhZ2UpO1xuICAgIHRoaXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICBPYmplY3QuYXNzaWduKHRoaXMsIHByb3BzKTtcbiAgfVxufVxuY2xhc3MgU2VydmVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcykge1xuICAgIGNvbnN0IHByb3BzID0gZXh0cmFjdEVycm9yUHJvcHMocmVzKTtcbiAgICBzdXBlcihwcm9wcy5tZXNzYWdlKTtcbiAgICB0aGlzLnN0YXR1c0NvZGUgPSA1MDA7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBwcm9wcyk7XG4gIH1cbn1cbmZ1bmN0aW9uIGV4dHJhY3RFcnJvclByb3BzKHJlcykge1xuICBjb25zdCBib2R5ID0gcmVzLmJvZHk7XG4gIGNvbnN0IHByb3BzID0ge1xuICAgIHJlc3BvbnNlOiByZXMsXG4gICAgc3RhdHVzQ29kZTogcmVzLnN0YXR1c0NvZGUsXG4gICAgcmVzcG9uc2VCb2R5OiBzdHJpbmdpZnlCb2R5KGJvZHksIHJlcyksXG4gICAgbWVzc2FnZTogXCJcIixcbiAgICBkZXRhaWxzOiB2b2lkIDBcbiAgfTtcbiAgaWYgKGJvZHkuZXJyb3IgJiYgYm9keS5tZXNzYWdlKSB7XG4gICAgcHJvcHMubWVzc2FnZSA9IFwiXCIuY29uY2F0KGJvZHkuZXJyb3IsIFwiIC0gXCIpLmNvbmNhdChib2R5Lm1lc3NhZ2UpO1xuICAgIHJldHVybiBwcm9wcztcbiAgfVxuICBpZiAoaXNNdXRhdGlvbkVycm9yKGJvZHkpKSB7XG4gICAgY29uc3QgYWxsSXRlbXMgPSBib2R5LmVycm9yLml0ZW1zIHx8IFtdO1xuICAgIGNvbnN0IGl0ZW1zID0gYWxsSXRlbXMuc2xpY2UoMCwgTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UpLm1hcChpdGVtID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSBpdGVtLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZGVzY3JpcHRpb247XG4gICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBpdGVtc1N0ciA9IGl0ZW1zLmxlbmd0aCA/IFwiOlxcbi0gXCIuY29uY2F0KGl0ZW1zLmpvaW4oXCJcXG4tIFwiKSkgOiBcIlwiO1xuICAgIGlmIChhbGxJdGVtcy5sZW5ndGggPiBNQVhfSVRFTVNfSU5fRVJST1JfTUVTU0FHRSkge1xuICAgICAgaXRlbXNTdHIgKz0gXCJcXG4uLi5hbmQgXCIuY29uY2F0KGFsbEl0ZW1zLmxlbmd0aCAtIE1BWF9JVEVNU19JTl9FUlJPUl9NRVNTQUdFLCBcIiBtb3JlXCIpO1xuICAgIH1cbiAgICBwcm9wcy5tZXNzYWdlID0gXCJcIi5jb25jYXQoYm9keS5lcnJvci5kZXNjcmlwdGlvbikuY29uY2F0KGl0ZW1zU3RyKTtcbiAgICBwcm9wcy5kZXRhaWxzID0gYm9keS5lcnJvcjtcbiAgICByZXR1cm4gcHJvcHM7XG4gIH1cbiAgaWYgKGJvZHkuZXJyb3IgJiYgYm9keS5lcnJvci5kZXNjcmlwdGlvbikge1xuICAgIHByb3BzLm1lc3NhZ2UgPSBib2R5LmVycm9yLmRlc2NyaXB0aW9uO1xuICAgIHByb3BzLmRldGFpbHMgPSBib2R5LmVycm9yO1xuICAgIHJldHVybiBwcm9wcztcbiAgfVxuICBwcm9wcy5tZXNzYWdlID0gYm9keS5lcnJvciB8fCBib2R5Lm1lc3NhZ2UgfHwgaHR0cEVycm9yTWVzc2FnZShyZXMpO1xuICByZXR1cm4gcHJvcHM7XG59XG5mdW5jdGlvbiBpc011dGF0aW9uRXJyb3IoYm9keSkge1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChib2R5KSAmJiBpc1BsYWluT2JqZWN0KGJvZHkuZXJyb3IpICYmIGJvZHkuZXJyb3IudHlwZSA9PT0gXCJtdXRhdGlvbkVycm9yXCIgJiYgdHlwZW9mIGJvZHkuZXJyb3IuZGVzY3JpcHRpb24gPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiAmJiBvYmogIT09IG51bGwgJiYgIUFycmF5LmlzQXJyYXkob2JqKTtcbn1cbmZ1bmN0aW9uIGh0dHBFcnJvck1lc3NhZ2UocmVzKSB7XG4gIGNvbnN0IHN0YXR1c01lc3NhZ2UgPSByZXMuc3RhdHVzTWVzc2FnZSA/IFwiIFwiLmNvbmNhdChyZXMuc3RhdHVzTWVzc2FnZSkgOiBcIlwiO1xuICByZXR1cm4gXCJcIi5jb25jYXQocmVzLm1ldGhvZCwgXCItcmVxdWVzdCB0byBcIikuY29uY2F0KHJlcy51cmwsIFwiIHJlc3VsdGVkIGluIEhUVFAgXCIpLmNvbmNhdChyZXMuc3RhdHVzQ29kZSkuY29uY2F0KHN0YXR1c01lc3NhZ2UpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5Qm9keShib2R5LCByZXMpIHtcbiAgY29uc3QgY29udGVudFR5cGUgPSAocmVzLmhlYWRlcnNbXCJjb250ZW50LXR5cGVcIl0gfHwgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgaXNKc29uID0gY29udGVudFR5cGUuaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIikgIT09IC0xO1xuICByZXR1cm4gaXNKc29uID8gSlNPTi5zdHJpbmdpZnkoYm9keSwgbnVsbCwgMikgOiBib2R5O1xufVxuY29uc3QgaHR0cEVycm9yID0ge1xuICBvblJlc3BvbnNlOiByZXMgPT4ge1xuICAgIGlmIChyZXMuc3RhdHVzQ29kZSA+PSA1MDApIHtcbiAgICAgIHRocm93IG5ldyBTZXJ2ZXJFcnJvcihyZXMpO1xuICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1c0NvZGUgPj0gNDAwKSB7XG4gICAgICB0aHJvdyBuZXcgQ2xpZW50RXJyb3IocmVzKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufTtcbmNvbnN0IHByaW50V2FybmluZ3MgPSB7XG4gIG9uUmVzcG9uc2U6IHJlcyA9PiB7XG4gICAgY29uc3Qgd2FybiA9IHJlcy5oZWFkZXJzW1wieC1zYW5pdHktd2FybmluZ1wiXTtcbiAgICBjb25zdCB3YXJuaW5ncyA9IEFycmF5LmlzQXJyYXkod2FybikgPyB3YXJuIDogW3dhcm5dO1xuICAgIHdhcm5pbmdzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKG1zZyA9PiBjb25zb2xlLndhcm4obXNnKSk7XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufTtcbmZ1bmN0aW9uIGRlZmluZUh0dHBSZXF1ZXN0KGVudk1pZGRsZXdhcmUsIF9yZWYpIHtcbiAgbGV0IHtcbiAgICBtYXhSZXRyaWVzID0gNSxcbiAgICByZXRyeURlbGF5XG4gIH0gPSBfcmVmO1xuICBjb25zdCByZXF1ZXN0ID0gZ2V0SXQoW21heFJldHJpZXMgPiAwID8gcmV0cnkoe1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0cnlEZWxheSxcbiAgICAvLyBUaGlzIG9wdGlvbiBpcyB0eXBlZCBpbmNvcnJlY3RseSBpbiBnZXQtaXQuXG4gICAgbWF4UmV0cmllcyxcbiAgICBzaG91bGRSZXRyeVxuICB9KSA6IHt9LCAuLi5lbnZNaWRkbGV3YXJlLCBwcmludFdhcm5pbmdzLCBqc29uUmVxdWVzdCgpLCBqc29uUmVzcG9uc2UoKSwgcHJvZ3Jlc3MoKSwgaHR0cEVycm9yLCBvYnNlcnZhYmxlKHtcbiAgICBpbXBsZW1lbnRhdGlvbjogT2JzZXJ2YWJsZVxuICB9KV0pO1xuICBmdW5jdGlvbiBodHRwUmVxdWVzdChvcHRpb25zKSB7XG4gICAgbGV0IHJlcXVlc3RlciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogcmVxdWVzdDtcbiAgICByZXR1cm4gcmVxdWVzdGVyKHtcbiAgICAgIG1heFJlZGlyZWN0czogMCxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KTtcbiAgfVxuICBodHRwUmVxdWVzdC5kZWZhdWx0UmVxdWVzdGVyID0gcmVxdWVzdDtcbiAgcmV0dXJuIGh0dHBSZXF1ZXN0O1xufVxuZnVuY3Rpb24gc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGlzU2FmZSA9IG9wdGlvbnMubWV0aG9kID09PSBcIkdFVFwiIHx8IG9wdGlvbnMubWV0aG9kID09PSBcIkhFQURcIjtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmkgfHwgb3B0aW9ucy51cmw7XG4gIGNvbnN0IGlzUXVlcnkgPSB1cmkuc3RhcnRzV2l0aChcIi9kYXRhL3F1ZXJ5XCIpO1xuICBjb25zdCBpc1JldHJpYWJsZVJlc3BvbnNlID0gZXJyLnJlc3BvbnNlICYmIChlcnIucmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDI5IHx8IGVyci5yZXNwb25zZS5zdGF0dXNDb2RlID09PSA1MDIgfHwgZXJyLnJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDUwMyk7XG4gIGlmICgoaXNTYWZlIHx8IGlzUXVlcnkpICYmIGlzUmV0cmlhYmxlUmVzcG9uc2UpIHJldHVybiB0cnVlO1xuICByZXR1cm4gcmV0cnkuc2hvdWxkUmV0cnkoZXJyLCBhdHRlbXB0LCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIGdldFNlbGVjdGlvbihzZWwpIHtcbiAgaWYgKHR5cGVvZiBzZWwgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShzZWwpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiBzZWxcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlb2Ygc2VsID09PSBcIm9iamVjdFwiICYmIHNlbCAhPT0gbnVsbCAmJiBcInF1ZXJ5XCIgaW4gc2VsICYmIHR5cGVvZiBzZWwucXVlcnkgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gXCJwYXJhbXNcIiBpbiBzZWwgJiYgdHlwZW9mIHNlbC5wYXJhbXMgPT09IFwib2JqZWN0XCIgJiYgc2VsLnBhcmFtcyAhPT0gbnVsbCA/IHtcbiAgICAgIHF1ZXJ5OiBzZWwucXVlcnksXG4gICAgICBwYXJhbXM6IHNlbC5wYXJhbXNcbiAgICB9IDoge1xuICAgICAgcXVlcnk6IHNlbC5xdWVyeVxuICAgIH07XG4gIH1cbiAgY29uc3Qgc2VsZWN0aW9uT3B0cyA9IFtcIiogRG9jdW1lbnQgSUQgKDxkb2NJZD4pXCIsIFwiKiBBcnJheSBvZiBkb2N1bWVudCBJRHNcIiwgXCIqIE9iamVjdCBjb250YWluaW5nIGBxdWVyeWBcIl0uam9pbihcIlxcblwiKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBzZWxlY3Rpb24gLSBtdXN0IGJlIG9uZSBvZjpcXG5cXG5cIi5jb25jYXQoc2VsZWN0aW9uT3B0cykpO1xufVxuY29uc3QgVkFMSURfQVNTRVRfVFlQRVMgPSBbXCJpbWFnZVwiLCBcImZpbGVcIl07XG5jb25zdCBWQUxJRF9JTlNFUlRfTE9DQVRJT05TID0gW1wiYmVmb3JlXCIsIFwiYWZ0ZXJcIiwgXCJyZXBsYWNlXCJdO1xuY29uc3QgZGF0YXNldCA9IG5hbWUgPT4ge1xuICBpZiAoIS9eKH5bYS16MC05XXsxfVstXFx3XXswLDYzfXxbYS16MC05XXsxfVstXFx3XXswLDYzfSkkLy50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRGF0YXNldHMgY2FuIG9ubHkgY29udGFpbiBsb3dlcmNhc2UgY2hhcmFjdGVycywgbnVtYmVycywgdW5kZXJzY29yZXMgYW5kIGRhc2hlcywgYW5kIHN0YXJ0IHdpdGggdGlsZGUsIGFuZCBiZSBtYXhpbXVtIDY0IGNoYXJhY3RlcnNcIik7XG4gIH1cbn07XG5jb25zdCBwcm9qZWN0SWQgPSBpZCA9PiB7XG4gIGlmICghL15bLWEtejAtOV0rJC9pLnRlc3QoaWQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYHByb2plY3RJZGAgY2FuIG9ubHkgY29udGFpbiBvbmx5IGEteiwgMC05IGFuZCBkYXNoZXNcIik7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZUFzc2V0VHlwZSA9IHR5cGUgPT4ge1xuICBpZiAoVkFMSURfQVNTRVRfVFlQRVMuaW5kZXhPZih0eXBlKSA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGFzc2V0IHR5cGU6IFwiLmNvbmNhdCh0eXBlLCBcIi4gTXVzdCBiZSBvbmUgb2YgXCIpLmNvbmNhdChWQUxJRF9BU1NFVF9UWVBFUy5qb2luKFwiLCBcIikpKTtcbiAgfVxufTtcbmNvbnN0IHZhbGlkYXRlT2JqZWN0ID0gKG9wLCB2YWwpID0+IHtcbiAgaWYgKHZhbCA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsICE9PSBcIm9iamVjdFwiIHx8IEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlwiLmNvbmNhdChvcCwgXCIoKSB0YWtlcyBhbiBvYmplY3Qgb2YgcHJvcGVydGllc1wiKSk7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZURvY3VtZW50SWQgPSAob3AsIGlkKSA9PiB7XG4gIGlmICh0eXBlb2YgaWQgIT09IFwic3RyaW5nXCIgfHwgIS9eW2EtejAtOV9dW2EtejAtOV8uLV17MCwxMjd9JC9pLnRlc3QoaWQpIHx8IGlkLmluY2x1ZGVzKFwiLi5cIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQob3AsICcoKTogXCInKS5jb25jYXQoaWQsICdcIiBpcyBub3QgYSB2YWxpZCBkb2N1bWVudCBJRCcpKTtcbiAgfVxufTtcbmNvbnN0IHJlcXVpcmVEb2N1bWVudElkID0gKG9wLCBkb2MpID0+IHtcbiAgaWYgKCFkb2MuX2lkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KG9wLCAnKCkgcmVxdWlyZXMgdGhhdCB0aGUgZG9jdW1lbnQgY29udGFpbnMgYW4gSUQgKFwiX2lkXCIgcHJvcGVydHkpJykpO1xuICB9XG4gIHZhbGlkYXRlRG9jdW1lbnRJZChvcCwgZG9jLl9pZCk7XG59O1xuY29uc3QgdmFsaWRhdGVJbnNlcnQgPSAoYXQsIHNlbGVjdG9yLCBpdGVtcykgPT4ge1xuICBjb25zdCBzaWduYXR1cmUgPSBcImluc2VydChhdCwgc2VsZWN0b3IsIGl0ZW1zKVwiO1xuICBpZiAoVkFMSURfSU5TRVJUX0xPQ0FUSU9OUy5pbmRleE9mKGF0KSA9PT0gLTEpIHtcbiAgICBjb25zdCB2YWxpZCA9IFZBTElEX0lOU0VSVF9MT0NBVElPTlMubWFwKGxvYyA9PiAnXCInLmNvbmNhdChsb2MsICdcIicpKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhbiBcImF0XCItYXJndW1lbnQgd2hpY2ggaXMgb25lIG9mOiAnKS5jb25jYXQodmFsaWQpKTtcbiAgfVxuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiXCIuY29uY2F0KHNpZ25hdHVyZSwgJyB0YWtlcyBhIFwic2VsZWN0b3JcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGEgc3RyaW5nJykpO1xuICB9XG4gIGlmICghQXJyYXkuaXNBcnJheShpdGVtcykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJcIi5jb25jYXQoc2lnbmF0dXJlLCAnIHRha2VzIGFuIFwiaXRlbXNcIi1hcmd1bWVudCB3aGljaCBtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG59O1xuY29uc3QgaGFzRGF0YXNldCA9IGNvbmZpZyA9PiB7XG4gIGlmICghY29uZmlnLmRhdGFzZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJgZGF0YXNldGAgbXVzdCBiZSBwcm92aWRlZCB0byBwZXJmb3JtIHF1ZXJpZXNcIik7XG4gIH1cbiAgcmV0dXJuIGNvbmZpZy5kYXRhc2V0IHx8IFwiXCI7XG59O1xuY29uc3QgcmVxdWVzdFRhZyA9IHRhZyA9PiB7XG4gIGlmICh0eXBlb2YgdGFnICE9PSBcInN0cmluZ1wiIHx8ICEvXlthLXowLTkuXy1dezEsNzV9JC9pLnRlc3QodGFnKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRhZyBjYW4gb25seSBjb250YWluIGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLCB1bmRlcnNjb3JlcywgZGFzaGVzIGFuZCBkb3RzLCBhbmQgYmUgYmV0d2VlbiBvbmUgYW5kIDc1IGNoYXJhY3RlcnMgbG9uZy5cIik7XG4gIH1cbiAgcmV0dXJuIHRhZztcbn07XG52YXIgX19hY2Nlc3NDaGVjayQ2ID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ2ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ2KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDYgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkNiA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDYob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkNSwgX2NsaWVudDIkNTtcbmNsYXNzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbikge1xuICAgIGxldCBvcGVyYXRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbjtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSBvcGVyYXRpb25zO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBnaXZlbiBhdHRyaWJ1dGVzIHRvIHRoZSBkb2N1bWVudC4gRG9lcyBOT1QgbWVyZ2Ugb2JqZWN0cy5cbiAgICogVGhlIG9wZXJhdGlvbiBpcyBhZGRlZCB0byB0aGUgY3VycmVudCBwYXRjaCwgcmVhZHkgdG8gYmUgY29tbWl0ZWQgYnkgYGNvbW1pdCgpYFxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBBdHRyaWJ1dGVzIHRvIHNldC4gVG8gc2V0IGEgZGVlcCBhdHRyaWJ1dGUsIHVzZSBKU09OTWF0Y2gsIGVnOiBcXHtcIm5lc3RlZC5wcm9wXCI6IFwidmFsdWVcIlxcfVxuICAgKi9cbiAgc2V0KGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcInNldFwiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG8gdGhlIGRvY3VtZW50IGlmIHRoZXkgYXJlIG5vdCBjdXJyZW50bHkgc2V0LiBEb2VzIE5PVCBtZXJnZSBvYmplY3RzLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gc2V0LiBUbyBzZXQgYSBkZWVwIGF0dHJpYnV0ZSwgdXNlIEpTT05NYXRjaCwgZWc6IFxce1wibmVzdGVkLnByb3BcIjogXCJ2YWx1ZVwiXFx9XG4gICAqL1xuICBzZXRJZk1pc3NpbmcoYXR0cnMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKFwic2V0SWZNaXNzaW5nXCIsIGF0dHJzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybXMgYSBcImRpZmYtbWF0Y2gtcGF0Y2hcIiBvcGVyYXRpb24gb24gdGhlIHN0cmluZyBhdHRyaWJ1dGVzIHByb3ZpZGVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZXMgdG8gcGVyZm9ybSBvcGVyYXRpb24gb24uIFRvIHNldCBhIGRlZXAgYXR0cmlidXRlLCB1c2UgSlNPTk1hdGNoLCBlZzogXFx7XCJuZXN0ZWQucHJvcFwiOiBcImRtcFwiXFx9XG4gICAqL1xuICBkaWZmTWF0Y2hQYXRjaChhdHRycykge1xuICAgIHZhbGlkYXRlT2JqZWN0KFwiZGlmZk1hdGNoUGF0Y2hcIiwgYXR0cnMpO1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJkaWZmTWF0Y2hQYXRjaFwiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFVuc2V0cyB0aGUgYXR0cmlidXRlIHBhdGhzIHByb3ZpZGVkLlxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHBhdGNoLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIEF0dHJpYnV0ZSBwYXRocyB0byB1bnNldC5cbiAgICovXG4gIHVuc2V0KGF0dHJzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGF0dHJzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwidW5zZXQoYXR0cnMpIHRha2VzIGFuIGFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gdW5zZXQsIG5vbi1hcnJheSBnaXZlblwiKTtcbiAgICB9XG4gICAgdGhpcy5vcGVyYXRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcGVyYXRpb25zLCB7XG4gICAgICB1bnNldDogYXR0cnNcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogSW5jcmVtZW50IGEgbnVtZXJpYyB2YWx1ZS4gRWFjaCBlbnRyeSBpbiB0aGUgYXJndW1lbnQgaXMgZWl0aGVyIGFuIGF0dHJpYnV0ZSBvciBhIEpTT04gcGF0aC4gVGhlIHZhbHVlIG1heSBiZSBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGludGVnZXIgb3IgZmxvYXRpbmctcG9pbnQgdmFsdWUuIFRoZSBvcGVyYXRpb24gd2lsbCBmYWlsIGlmIHRhcmdldCB2YWx1ZSBpcyBub3QgYSBudW1lcmljIHZhbHVlLCBvciBkb2Vzbid0IGV4aXN0LlxuICAgKlxuICAgKiBAcGFyYW0gYXR0cnMgLSBPYmplY3Qgb2YgYXR0cmlidXRlIHBhdGhzIHRvIGluY3JlbWVudCwgdmFsdWVzIHJlcHJlc2VudGluZyB0aGUgbnVtYmVyIHRvIGluY3JlbWVudCBieS5cbiAgICovXG4gIGluYyhhdHRycykge1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJpbmNcIiwgYXR0cnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWNyZW1lbnQgYSBudW1lcmljIHZhbHVlLiBFYWNoIGVudHJ5IGluIHRoZSBhcmd1bWVudCBpcyBlaXRoZXIgYW4gYXR0cmlidXRlIG9yIGEgSlNPTiBwYXRoLiBUaGUgdmFsdWUgbWF5IGJlIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlciBvciBmbG9hdGluZy1wb2ludCB2YWx1ZS4gVGhlIG9wZXJhdGlvbiB3aWxsIGZhaWwgaWYgdGFyZ2V0IHZhbHVlIGlzIG5vdCBhIG51bWVyaWMgdmFsdWUsIG9yIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBhdHRycyAtIE9iamVjdCBvZiBhdHRyaWJ1dGUgcGF0aHMgdG8gZGVjcmVtZW50LCB2YWx1ZXMgcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgdG8gZGVjcmVtZW50IGJ5LlxuICAgKi9cbiAgZGVjKGF0dHJzKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbihcImRlY1wiLCBhdHRycyk7XG4gIH1cbiAgLyoqXG4gICAqIFByb3ZpZGVzIG1ldGhvZHMgZm9yIG1vZGlmeWluZyBhcnJheXMsIGJ5IGluc2VydGluZywgYXBwZW5kaW5nIGFuZCByZXBsYWNpbmcgZWxlbWVudHMgdmlhIGEgSlNPTlBhdGggZXhwcmVzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIGF0IC0gTG9jYXRpb24gdG8gaW5zZXJ0IGF0LCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gc2VsZWN0b3IsIG9yICdyZXBsYWNlJyB0aGUgbWF0Y2hlZCBwYXRoXG4gICAqIEBwYXJhbSBzZWxlY3RvciAtIEpTT05QYXRoIGV4cHJlc3Npb24sIGVnIGBjb21tZW50c1stMV1gIG9yIGBibG9ja3NbX2tleT09XCJhYmMxMjNcIl1gXG4gICAqIEBwYXJhbSBpdGVtcyAtIEFycmF5IG9mIGl0ZW1zIHRvIGluc2VydC9yZXBsYWNlXG4gICAqL1xuICBpbnNlcnQoYXQsIHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHZhbGlkYXRlSW5zZXJ0KGF0LCBzZWxlY3RvciwgaXRlbXMpO1xuICAgIHJldHVybiB0aGlzLl9hc3NpZ24oXCJpbnNlcnRcIiwge1xuICAgICAgW2F0XTogc2VsZWN0b3IsXG4gICAgICBpdGVtc1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBBcHBlbmQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgZ2l2ZW4gSlNPTlBhdGhcbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQXR0cmlidXRlL3BhdGggdG8gYXBwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gYXBwZW5kIHRvIHRoZSBhcnJheVxuICAgKi9cbiAgYXBwZW5kKHNlbGVjdG9yLCBpdGVtcykge1xuICAgIHJldHVybiB0aGlzLmluc2VydChcImFmdGVyXCIsIFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIlstMV1cIiksIGl0ZW1zKTtcbiAgfVxuICAvKipcbiAgICogUHJlcGVuZCB0aGUgZ2l2ZW4gaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBnaXZlbiBKU09OUGF0aFxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUvcGF0aCB0byBwcmVwZW5kIHRvLCBlZyBgY29tbWVudHNgIG9yIGBwZXJzb24uaG9iYmllc2BcbiAgICogQHBhcmFtIGl0ZW1zIC0gQXJyYXkgb2YgaXRlbXMgdG8gcHJlcGVuZCB0byB0aGUgYXJyYXlcbiAgICovXG4gIHByZXBlbmQoc2VsZWN0b3IsIGl0ZW1zKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zZXJ0KFwiYmVmb3JlXCIsIFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIlswXVwiKSwgaXRlbXMpO1xuICB9XG4gIC8qKlxuICAgKiBDaGFuZ2UgdGhlIGNvbnRlbnRzIG9mIGFuIGFycmF5IGJ5IHJlbW92aW5nIGV4aXN0aW5nIGVsZW1lbnRzIGFuZC9vciBhZGRpbmcgbmV3IGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBBdHRyaWJ1dGUgb3IgSlNPTlBhdGggZXhwcmVzc2lvbiBmb3IgYXJyYXlcbiAgICogQHBhcmFtIHN0YXJ0IC0gSW5kZXggYXQgd2hpY2ggdG8gc3RhcnQgY2hhbmdpbmcgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAwKS4gSWYgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LCBhY3R1YWwgc3RhcnRpbmcgaW5kZXggd2lsbCBiZSBzZXQgdG8gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXkuIElmIG5lZ2F0aXZlLCB3aWxsIGJlZ2luIHRoYXQgbWFueSBlbGVtZW50cyBmcm9tIHRoZSBlbmQgb2YgdGhlIGFycmF5ICh3aXRoIG9yaWdpbiAtMSkgYW5kIHdpbGwgYmUgc2V0IHRvIDAgaWYgYWJzb2x1dGUgdmFsdWUgaXMgZ3JlYXRlciB0aGFuIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LnhcbiAgICogQHBhcmFtIGRlbGV0ZUNvdW50IC0gQW4gaW50ZWdlciBpbmRpY2F0aW5nIHRoZSBudW1iZXIgb2Ygb2xkIGFycmF5IGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICogQHBhcmFtIGl0ZW1zIC0gVGhlIGVsZW1lbnRzIHRvIGFkZCB0byB0aGUgYXJyYXksIGJlZ2lubmluZyBhdCB0aGUgc3RhcnQgaW5kZXguIElmIHlvdSBkb24ndCBzcGVjaWZ5IGFueSBlbGVtZW50cywgc3BsaWNlKCkgd2lsbCBvbmx5IHJlbW92ZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheS5cbiAgICovXG4gIHNwbGljZShzZWxlY3Rvciwgc3RhcnQsIGRlbGV0ZUNvdW50LCBpdGVtcykge1xuICAgIGNvbnN0IGRlbEFsbCA9IHR5cGVvZiBkZWxldGVDb3VudCA9PT0gXCJ1bmRlZmluZWRcIiB8fCBkZWxldGVDb3VudCA9PT0gLTE7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IHN0YXJ0IDwgMCA/IHN0YXJ0IC0gMSA6IHN0YXJ0O1xuICAgIGNvbnN0IGRlbENvdW50ID0gZGVsQWxsID8gLTEgOiBNYXRoLm1heCgwLCBzdGFydCArIGRlbGV0ZUNvdW50KTtcbiAgICBjb25zdCBkZWxSYW5nZSA9IHN0YXJ0SW5kZXggPCAwICYmIGRlbENvdW50ID49IDAgPyBcIlwiIDogZGVsQ291bnQ7XG4gICAgY29uc3QgcmFuZ2VTZWxlY3RvciA9IFwiXCIuY29uY2F0KHNlbGVjdG9yLCBcIltcIikuY29uY2F0KHN0YXJ0SW5kZXgsIFwiOlwiKS5jb25jYXQoZGVsUmFuZ2UsIFwiXVwiKTtcbiAgICByZXR1cm4gdGhpcy5pbnNlcnQoXCJyZXBsYWNlXCIsIHJhbmdlU2VsZWN0b3IsIGl0ZW1zIHx8IFtdKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyBhIHJldmlzaW9uIGNsYXVzZSwgcHJldmVudGluZyB0aGUgZG9jdW1lbnQgZnJvbSBiZWluZyBwYXRjaGVkIGlmIHRoZSBgX3JldmAgcHJvcGVydHkgZG9lcyBub3QgbWF0Y2ggdGhlIGdpdmVuIHZhbHVlXG4gICAqXG4gICAqIEBwYXJhbSByZXYgLSBSZXZpc2lvbiB0byBsb2NrIHRoZSBwYXRjaCB0b1xuICAgKi9cbiAgaWZSZXZpc2lvbklkKHJldikge1xuICAgIHRoaXMub3BlcmF0aW9ucy5pZlJldmlzaW9uSUQgPSByZXY7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIFJldHVybiBhIHBsYWluIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhdGNoXG4gICAqL1xuICBzZXJpYWxpemUoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmdldFNlbGVjdGlvbih0aGlzLnNlbGVjdGlvbiksXG4gICAgICAuLi50aGlzLm9wZXJhdGlvbnNcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwYXRjaFxuICAgKi9cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLnNlcmlhbGl6ZSgpO1xuICB9XG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIHBhdGNoIG9mIGFsbCBvcGVyYXRpb25zXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBfYXNzaWduKG9wLCBwcm9wcykge1xuICAgIGxldCBtZXJnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdHJ1ZTtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgcHJvcHMpO1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3BlcmF0aW9ucywge1xuICAgICAgW29wXTogT2JqZWN0LmFzc2lnbih7fSwgbWVyZ2UgJiYgdGhpcy5vcGVyYXRpb25zW29wXSB8fCB7fSwgcHJvcHMpXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX3NldChvcCwgcHJvcHMpIHtcbiAgICByZXR1cm4gdGhpcy5fYXNzaWduKG9wLCBwcm9wcywgZmFsc2UpO1xuICB9XG59XG5jb25zdCBfT2JzZXJ2YWJsZVBhdGNoID0gY2xhc3MgX09ic2VydmFibGVQYXRjaCBleHRlbmRzIEJhc2VQYXRjaCB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgY2xpZW50KSB7XG4gICAgc3VwZXIoc2VsZWN0aW9uLCBvcGVyYXRpb25zKTtcbiAgICBfX3ByaXZhdGVBZGQkNih0aGlzLCBfY2xpZW50JDUsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDYodGhpcywgX2NsaWVudCQ1LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHBhdGNoXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlUGF0Y2godGhpcy5zZWxlY3Rpb24sIHtcbiAgICAgIC4uLnRoaXMub3BlcmF0aW9uc1xuICAgIH0sIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50JDUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gcGF0Y2gsIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSBwYXRjaCB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIik7XG4gICAgfVxuICAgIGNvbnN0IHJldHVybkZpcnN0ID0gdHlwZW9mIHRoaXMuc2VsZWN0aW9uID09PSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHJldHVybkZpcnN0LFxuICAgICAgcmV0dXJuRG9jdW1lbnRzOiB0cnVlXG4gICAgfSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ2KHRoaXMsIF9jbGllbnQkNSkubXV0YXRlKHtcbiAgICAgIHBhdGNoOiB0aGlzLnNlcmlhbGl6ZSgpXG4gICAgfSwgb3B0cyk7XG4gIH1cbn07XG5fY2xpZW50JDUgPSBuZXcgV2Vha01hcCgpO1xubGV0IE9ic2VydmFibGVQYXRjaCA9IF9PYnNlcnZhYmxlUGF0Y2g7XG5jb25zdCBfUGF0Y2ggPSBjbGFzcyBfUGF0Y2ggZXh0ZW5kcyBCYXNlUGF0Y2gge1xuICBjb25zdHJ1Y3RvcihzZWxlY3Rpb24sIG9wZXJhdGlvbnMsIGNsaWVudCkge1xuICAgIHN1cGVyKHNlbGVjdGlvbiwgb3BlcmF0aW9ucyk7XG4gICAgX19wcml2YXRlQWRkJDYodGhpcywgX2NsaWVudDIkNSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkNih0aGlzLCBfY2xpZW50MiQ1LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHBhdGNoXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9QYXRjaCh0aGlzLnNlbGVjdGlvbiwge1xuICAgICAgLi4udGhpcy5vcGVyYXRpb25zXG4gICAgfSwgX19wcml2YXRlR2V0JDYodGhpcywgX2NsaWVudDIkNSkpO1xuICB9XG4gIGNvbW1pdChvcHRpb25zKSB7XG4gICAgaWYgKCFfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ1KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYGNsaWVudGAgcGFzc2VkIHRvIHBhdGNoLCBlaXRoZXIgcHJvdmlkZSBvbmUgb3IgcGFzcyB0aGUgcGF0Y2ggdG8gYSBjbGllbnRzIGBtdXRhdGUoKWAgbWV0aG9kXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXR1cm5GaXJzdCA9IHR5cGVvZiB0aGlzLnNlbGVjdGlvbiA9PT0gXCJzdHJpbmdcIjtcbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICByZXR1cm5GaXJzdCxcbiAgICAgIHJldHVybkRvY3VtZW50czogdHJ1ZVxuICAgIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQkNih0aGlzLCBfY2xpZW50MiQ1KS5tdXRhdGUoe1xuICAgICAgcGF0Y2g6IHRoaXMuc2VyaWFsaXplKClcbiAgICB9LCBvcHRzKTtcbiAgfVxufTtcbl9jbGllbnQyJDUgPSBuZXcgV2Vha01hcCgpO1xubGV0IFBhdGNoID0gX1BhdGNoO1xudmFyIF9fYWNjZXNzQ2hlY2skNSA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQkNSA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skNShvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgcmV0dXJuIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaik7XG59O1xudmFyIF9fcHJpdmF0ZUFkZCQ1ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0JDUgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ1KG9iaiwgbWVtYmVyLCBcIndyaXRlIHRvIHByaXZhdGUgZmllbGRcIik7XG4gIHNldHRlciA/IHNldHRlci5jYWxsKG9iaiwgdmFsdWUpIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbnZhciBfY2xpZW50JDQsIF9jbGllbnQyJDQ7XG5jb25zdCBkZWZhdWx0TXV0YXRlT3B0aW9ucyA9IHtcbiAgcmV0dXJuRG9jdW1lbnRzOiBmYWxzZVxufTtcbmNsYXNzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGxldCBvcGVyYXRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcbiAgICBsZXQgdHJhbnNhY3Rpb25JZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgIHRoaXMub3BlcmF0aW9ucyA9IG9wZXJhdGlvbnM7XG4gICAgdGhpcy50cnhJZCA9IHRyYW5zYWN0aW9uSWQ7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2FuaXR5IGRvY3VtZW50LiBJZiBgX2lkYCBpcyBwcm92aWRlZCBhbmQgYWxyZWFkeSBleGlzdHMsIHRoZSBtdXRhdGlvbiB3aWxsIGZhaWwuIElmIG5vIGBfaWRgIGlzIGdpdmVuLCBvbmUgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGdlbmVyYXRlZCBieSB0aGUgZGF0YWJhc2UuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZS4gUmVxdWlyZXMgYSBgX3R5cGVgIHByb3BlcnR5LlxuICAgKi9cbiAgY3JlYXRlKGRvYykge1xuICAgIHZhbGlkYXRlT2JqZWN0KFwiY3JlYXRlXCIsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICBjcmVhdGU6IGRvY1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNhbml0eSBkb2N1bWVudC4gSWYgYSBkb2N1bWVudCB3aXRoIHRoZSBzYW1lIGBfaWRgIGFscmVhZHkgZXhpc3RzLCB0aGUgY3JlYXRlIG9wZXJhdGlvbiB3aWxsIGJlIGlnbm9yZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBpZiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0LiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jKSB7XG4gICAgY29uc3Qgb3AgPSBcImNyZWF0ZUlmTm90RXhpc3RzXCI7XG4gICAgdmFsaWRhdGVPYmplY3Qob3AsIGRvYyk7XG4gICAgcmVxdWlyZURvY3VtZW50SWQob3AsIGRvYyk7XG4gICAgcmV0dXJuIHRoaXMuX2FkZCh7XG4gICAgICBbb3BdOiBkb2NcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTYW5pdHkgZG9jdW1lbnQsIG9yIHJlcGxhY2VzIGFuIGV4aXN0aW5nIG9uZSBpZiB0aGUgc2FtZSBgX2lkYCBpcyBhbHJlYWR5IHVzZWQuXG4gICAqIFRoZSBvcGVyYXRpb24gaXMgYWRkZWQgdG8gdGhlIGN1cnJlbnQgdHJhbnNhY3Rpb24sIHJlYWR5IHRvIGJlIGNvbW1pdGVkIGJ5IGBjb21taXQoKWBcbiAgICpcbiAgICogQHBhcmFtIGRvYyAtIERvY3VtZW50IHRvIGNyZWF0ZSBvciByZXBsYWNlLiBSZXF1aXJlcyBgX2lkYCBhbmQgYF90eXBlYCBwcm9wZXJ0aWVzLlxuICAgKi9cbiAgY3JlYXRlT3JSZXBsYWNlKGRvYykge1xuICAgIGNvbnN0IG9wID0gXCJjcmVhdGVPclJlcGxhY2VcIjtcbiAgICB2YWxpZGF0ZU9iamVjdChvcCwgZG9jKTtcbiAgICByZXF1aXJlRG9jdW1lbnRJZChvcCwgZG9jKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgIFtvcF06IGRvY1xuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBkb2N1bWVudCBJRFxuICAgKiBUaGUgb3BlcmF0aW9uIGlzIGFkZGVkIHRvIHRoZSBjdXJyZW50IHRyYW5zYWN0aW9uLCByZWFkeSB0byBiZSBjb21taXRlZCBieSBgY29tbWl0KClgXG4gICAqXG4gICAqIEBwYXJhbSBkb2N1bWVudElkIC0gRG9jdW1lbnQgSUQgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGUoZG9jdW1lbnRJZCkge1xuICAgIHZhbGlkYXRlRG9jdW1lbnRJZChcImRlbGV0ZVwiLCBkb2N1bWVudElkKTtcbiAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgIGRlbGV0ZToge1xuICAgICAgICBpZDogZG9jdW1lbnRJZFxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHRyYW5zYWN0aW9uSWQoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICByZXR1cm4gdGhpcy50cnhJZDtcbiAgICB9XG4gICAgdGhpcy50cnhJZCA9IGlkO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm4gYSBwbGFpbiBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgc2VyaWFsaXplKCkge1xuICAgIHJldHVybiBbLi4udGhpcy5vcGVyYXRpb25zXTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJuIGEgcGxhaW4gSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb25cbiAgICovXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJpYWxpemUoKTtcbiAgfVxuICAvKipcbiAgICogQ2xlYXJzIHRoZSB0cmFuc2FjdGlvbiBvZiBhbGwgb3BlcmF0aW9uc1xuICAgKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5vcGVyYXRpb25zID0gW107XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgX2FkZChtdXQpIHtcbiAgICB0aGlzLm9wZXJhdGlvbnMucHVzaChtdXQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59XG5jb25zdCBfVHJhbnNhY3Rpb24gPSBjbGFzcyBfVHJhbnNhY3Rpb24gZXh0ZW5kcyBCYXNlVHJhbnNhY3Rpb24ge1xuICBjb25zdHJ1Y3RvcihvcGVyYXRpb25zLCBjbGllbnQsIHRyYW5zYWN0aW9uSWQpIHtcbiAgICBzdXBlcihvcGVyYXRpb25zLCB0cmFuc2FjdGlvbklkKTtcbiAgICBfX3ByaXZhdGVBZGQkNSh0aGlzLCBfY2xpZW50JDQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDUodGhpcywgX2NsaWVudCQ0LCBjbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZXMgdGhlIHRyYW5zYWN0aW9uXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9UcmFuc2FjdGlvbihbLi4udGhpcy5vcGVyYXRpb25zXSwgX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudCQ0KSwgdGhpcy50cnhJZCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQkNCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGBjbGllbnRgIHBhc3NlZCB0byB0cmFuc2FjdGlvbiwgZWl0aGVyIHByb3ZpZGUgb25lIG9yIHBhc3MgdGhlIHRyYW5zYWN0aW9uIHRvIGEgY2xpZW50cyBgbXV0YXRlKClgIG1ldGhvZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQkNCkubXV0YXRlKHRoaXMuc2VyaWFsaXplKCksIE9iamVjdC5hc3NpZ24oe1xuICAgICAgdHJhbnNhY3Rpb25JZDogdGhpcy50cnhJZFxuICAgIH0sIGRlZmF1bHRNdXRhdGVPcHRpb25zLCBvcHRpb25zIHx8IHt9KSk7XG4gIH1cbiAgcGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHBhdGNoT3BzKSB7XG4gICAgY29uc3QgaXNCdWlsZGVyID0gdHlwZW9mIHBhdGNoT3BzID09PSBcImZ1bmN0aW9uXCI7XG4gICAgY29uc3QgaXNQYXRjaCA9IHR5cGVvZiBwYXRjaE9yRG9jdW1lbnRJZCAhPT0gXCJzdHJpbmdcIiAmJiBwYXRjaE9yRG9jdW1lbnRJZCBpbnN0YW5jZW9mIFBhdGNoO1xuICAgIGlmIChpc1BhdGNoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgICAgcGF0Y2g6IHBhdGNoT3JEb2N1bWVudElkLnNlcmlhbGl6ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgUGF0Y2gocGF0Y2hPckRvY3VtZW50SWQsIHt9LCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50JDQpKSk7XG4gICAgICBpZiAoIShwYXRjaCBpbnN0YW5jZW9mIFBhdGNoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbiBwYXNzZWQgdG8gYHBhdGNoKClgIG11c3QgcmV0dXJuIHRoZSBwYXRjaFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgICBwYXRjaDogcGF0Y2guc2VyaWFsaXplKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgIHBhdGNoOiB7XG4gICAgICAgIGlkOiBwYXRjaE9yRG9jdW1lbnRJZCxcbiAgICAgICAgLi4ucGF0Y2hPcHNcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbl9jbGllbnQkNCA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgVHJhbnNhY3Rpb24gPSBfVHJhbnNhY3Rpb247XG5jb25zdCBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uID0gY2xhc3MgX09ic2VydmFibGVUcmFuc2FjdGlvbiBleHRlbmRzIEJhc2VUcmFuc2FjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKG9wZXJhdGlvbnMsIGNsaWVudCwgdHJhbnNhY3Rpb25JZCkge1xuICAgIHN1cGVyKG9wZXJhdGlvbnMsIHRyYW5zYWN0aW9uSWQpO1xuICAgIF9fcHJpdmF0ZUFkZCQ1KHRoaXMsIF9jbGllbnQyJDQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDUodGhpcywgX2NsaWVudDIkNCwgY2xpZW50KTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmVzIHRoZSB0cmFuc2FjdGlvblxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKFsuLi50aGlzLm9wZXJhdGlvbnNdLCBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50MiQ0KSwgdGhpcy50cnhJZCk7XG4gIH1cbiAgY29tbWl0KG9wdGlvbnMpIHtcbiAgICBpZiAoIV9fcHJpdmF0ZUdldCQ1KHRoaXMsIF9jbGllbnQyJDQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgY2xpZW50YCBwYXNzZWQgdG8gdHJhbnNhY3Rpb24sIGVpdGhlciBwcm92aWRlIG9uZSBvciBwYXNzIHRoZSB0cmFuc2FjdGlvbiB0byBhIGNsaWVudHMgYG11dGF0ZSgpYCBtZXRob2RcIik7XG4gICAgfVxuICAgIHJldHVybiBfX3ByaXZhdGVHZXQkNSh0aGlzLCBfY2xpZW50MiQ0KS5tdXRhdGUodGhpcy5zZXJpYWxpemUoKSwgT2JqZWN0LmFzc2lnbih7XG4gICAgICB0cmFuc2FjdGlvbklkOiB0aGlzLnRyeElkXG4gICAgfSwgZGVmYXVsdE11dGF0ZU9wdGlvbnMsIG9wdGlvbnMgfHwge30pKTtcbiAgfVxuICBwYXRjaChwYXRjaE9yRG9jdW1lbnRJZCwgcGF0Y2hPcHMpIHtcbiAgICBjb25zdCBpc0J1aWxkZXIgPSB0eXBlb2YgcGF0Y2hPcHMgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBjb25zdCBpc1BhdGNoID0gdHlwZW9mIHBhdGNoT3JEb2N1bWVudElkICE9PSBcInN0cmluZ1wiICYmIHBhdGNoT3JEb2N1bWVudElkIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVBhdGNoO1xuICAgIGlmIChpc1BhdGNoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgICAgcGF0Y2g6IHBhdGNoT3JEb2N1bWVudElkLnNlcmlhbGl6ZSgpXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzQnVpbGRlcikge1xuICAgICAgY29uc3QgcGF0Y2ggPSBwYXRjaE9wcyhuZXcgT2JzZXJ2YWJsZVBhdGNoKHBhdGNoT3JEb2N1bWVudElkLCB7fSwgX19wcml2YXRlR2V0JDUodGhpcywgX2NsaWVudDIkNCkpKTtcbiAgICAgIGlmICghKHBhdGNoIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVBhdGNoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJmdW5jdGlvbiBwYXNzZWQgdG8gYHBhdGNoKClgIG11c3QgcmV0dXJuIHRoZSBwYXRjaFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9hZGQoe1xuICAgICAgICBwYXRjaDogcGF0Y2guc2VyaWFsaXplKClcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKHtcbiAgICAgIHBhdGNoOiB7XG4gICAgICAgIGlkOiBwYXRjaE9yRG9jdW1lbnRJZCxcbiAgICAgICAgLi4ucGF0Y2hPcHNcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcbl9jbGllbnQyJDQgPSBuZXcgV2Vha01hcCgpO1xubGV0IE9ic2VydmFibGVUcmFuc2FjdGlvbiA9IF9PYnNlcnZhYmxlVHJhbnNhY3Rpb247XG5jb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly93d3cuc2FuaXR5LmlvL2hlbHAvXCI7XG5mdW5jdGlvbiBnZW5lcmF0ZUhlbHBVcmwoc2x1Zykge1xuICByZXR1cm4gQkFTRV9VUkwgKyBzbHVnO1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICBsZXQgZGlkQ2FsbCA9IGZhbHNlO1xuICBsZXQgcmV0dXJuVmFsdWU7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRpZENhbGwpIHtcbiAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUgPSBmbiguLi5hcmd1bWVudHMpO1xuICAgIGRpZENhbGwgPSB0cnVlO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfTtcbn1cbmNvbnN0IGNyZWF0ZVdhcm5pbmdQcmludGVyID0gbWVzc2FnZSA9PlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbm9uY2UoZnVuY3Rpb24gKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBjb25zb2xlLndhcm4obWVzc2FnZS5qb2luKFwiIFwiKSwgLi4uYXJncyk7XG59KTtcbmNvbnN0IHByaW50Q2RuV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcIlNpbmNlIHlvdSBoYXZlbid0IHNldCBhIHZhbHVlIGZvciBgdXNlQ2RuYCwgd2Ugd2lsbCBkZWxpdmVyIGNvbnRlbnQgdXNpbmcgb3VyXCIsIFwiZ2xvYmFsLCBlZGdlLWNhY2hlZCBBUEktQ0ROLiBJZiB5b3Ugd2lzaCB0byBoYXZlIGNvbnRlbnQgZGVsaXZlcmVkIGZhc3Rlciwgc2V0XCIsIFwiYHVzZUNkbjogZmFsc2VgIHRvIHVzZSB0aGUgTGl2ZSBBUEkuIE5vdGU6IFlvdSBtYXkgaW5jdXIgaGlnaGVyIGNvc3RzIHVzaW5nIHRoZSBsaXZlIEFQSS5cIl0pO1xuY29uc3QgcHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZyA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcIlRoZSBTYW5pdHkgY2xpZW50IGlzIGNvbmZpZ3VyZWQgd2l0aCB0aGUgYHBlcnNwZWN0aXZlYCBzZXQgdG8gYHByZXZpZXdEcmFmdHNgLCB3aGljaCBkb2Vzbid0IHN1cHBvcnQgdGhlIEFQSS1DRE4uXCIsIFwiVGhlIExpdmUgQVBJIHdpbGwgYmUgdXNlZCBpbnN0ZWFkLiBTZXQgYHVzZUNkbjogZmFsc2VgIGluIHlvdXIgY29uZmlndXJhdGlvbiB0byBoaWRlIHRoaXMgd2FybmluZy5cIl0pO1xuY29uc3QgcHJpbnRCcm93c2VyVG9rZW5XYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1wiWW91IGhhdmUgY29uZmlndXJlZCBTYW5pdHkgY2xpZW50IHRvIHVzZSBhIHRva2VuIGluIHRoZSBicm93c2VyLiBUaGlzIG1heSBjYXVzZSB1bmludGVudGlvbmFsIHNlY3VyaXR5IGlzc3Vlcy5cIiwgXCJTZWUgXCIuY29uY2F0KGdlbmVyYXRlSGVscFVybChcImpzLWNsaWVudC1icm93c2VyLXRva2VuXCIpLCBcIiBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgaG93IHRvIGhpZGUgdGhpcyB3YXJuaW5nLlwiKV0pO1xuY29uc3QgcHJpbnROb0FwaVZlcnNpb25TcGVjaWZpZWRXYXJuaW5nID0gY3JlYXRlV2FybmluZ1ByaW50ZXIoW1wiVXNpbmcgdGhlIFNhbml0eSBjbGllbnQgd2l0aG91dCBzcGVjaWZ5aW5nIGFuIEFQSSB2ZXJzaW9uIGlzIGRlcHJlY2F0ZWQuXCIsIFwiU2VlIFwiLmNvbmNhdChnZW5lcmF0ZUhlbHBVcmwoXCJqcy1jbGllbnQtYXBpLXZlcnNpb25cIikpXSk7XG5jb25zdCBwcmludE5vRGVmYXVsdEV4cG9ydCA9IGNyZWF0ZVdhcm5pbmdQcmludGVyKFtcIlRoZSBkZWZhdWx0IGV4cG9ydCBvZiBAc2FuaXR5L2NsaWVudCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgdGhlIG5hbWVkIGV4cG9ydCBgY3JlYXRlQ2xpZW50YCBpbnN0ZWFkLlwiXSk7XG5jb25zdCBkZWZhdWx0Q2RuSG9zdCA9IFwiYXBpY2RuLnNhbml0eS5pb1wiO1xuY29uc3QgZGVmYXVsdENvbmZpZyA9IHtcbiAgYXBpSG9zdDogXCJodHRwczovL2FwaS5zYW5pdHkuaW9cIixcbiAgYXBpVmVyc2lvbjogXCIxXCIsXG4gIHVzZVByb2plY3RIb3N0bmFtZTogdHJ1ZVxufTtcbmNvbnN0IExPQ0FMSE9TVFMgPSBbXCJsb2NhbGhvc3RcIiwgXCIxMjcuMC4wLjFcIiwgXCIwLjAuMC4wXCJdO1xuY29uc3QgaXNMb2NhbCA9IGhvc3QgPT4gTE9DQUxIT1NUUy5pbmRleE9mKGhvc3QpICE9PSAtMTtcbmNvbnN0IHZhbGlkYXRlQXBpVmVyc2lvbiA9IGZ1bmN0aW9uIHZhbGlkYXRlQXBpVmVyc2lvbjIoYXBpVmVyc2lvbikge1xuICBpZiAoYXBpVmVyc2lvbiA9PT0gXCIxXCIgfHwgYXBpVmVyc2lvbiA9PT0gXCJYXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgYXBpRGF0ZSA9IG5ldyBEYXRlKGFwaVZlcnNpb24pO1xuICBjb25zdCBhcGlWZXJzaW9uVmFsaWQgPSAvXlxcZHs0fS1cXGR7Mn0tXFxkezJ9JC8udGVzdChhcGlWZXJzaW9uKSAmJiBhcGlEYXRlIGluc3RhbmNlb2YgRGF0ZSAmJiBhcGlEYXRlLmdldFRpbWUoKSA+IDA7XG4gIGlmICghYXBpVmVyc2lvblZhbGlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBBUEkgdmVyc2lvbiBzdHJpbmcsIGV4cGVjdGVkIGAxYCBvciBkYXRlIGluIGZvcm1hdCBgWVlZWS1NTS1ERGBcIik7XG4gIH1cbn07XG5jb25zdCB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlID0gZnVuY3Rpb24gdmFsaWRhdGVBcGlQZXJzcGVjdGl2ZTIocGVyc3BlY3RpdmUpIHtcbiAgc3dpdGNoIChwZXJzcGVjdGl2ZSkge1xuICAgIGNhc2UgXCJwcmV2aWV3RHJhZnRzXCI6XG4gICAgY2FzZSBcInB1Ymxpc2hlZFwiOlxuICAgIGNhc2UgXCJyYXdcIjpcbiAgICAgIHJldHVybjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgQVBJIHBlcnNwZWN0aXZlIHN0cmluZywgZXhwZWN0ZWQgYHB1Ymxpc2hlZGAsIGBwcmV2aWV3RHJhZnRzYCBvciBgcmF3YFwiKTtcbiAgfVxufTtcbmNvbnN0IGluaXRDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHByZXZDb25maWcsIGNvbmZpZyk7XG4gIGlmICghc3BlY2lmaWVkQ29uZmlnLmFwaVZlcnNpb24pIHtcbiAgICBwcmludE5vQXBpVmVyc2lvblNwZWNpZmllZFdhcm5pbmcoKTtcbiAgfVxuICBjb25zdCBuZXdDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Q29uZmlnLCBzcGVjaWZpZWRDb25maWcpO1xuICBjb25zdCBwcm9qZWN0QmFzZWQgPSBuZXdDb25maWcudXNlUHJvamVjdEhvc3RuYW1lO1xuICBpZiAodHlwZW9mIFByb21pc2UgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zdCBoZWxwVXJsID0gZ2VuZXJhdGVIZWxwVXJsKFwianMtY2xpZW50LXByb21pc2UtcG9seWZpbGxcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gbmF0aXZlIFByb21pc2UtaW1wbGVtZW50YXRpb24gZm91bmQsIHBvbHlmaWxsIG5lZWRlZCAtIHNlZSBcIi5jb25jYXQoaGVscFVybCkpO1xuICB9XG4gIGlmIChwcm9qZWN0QmFzZWQgJiYgIW5ld0NvbmZpZy5wcm9qZWN0SWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb25maWd1cmF0aW9uIG11c3QgY29udGFpbiBgcHJvamVjdElkYFwiKTtcbiAgfVxuICBpZiAodHlwZW9mIG5ld0NvbmZpZy5wZXJzcGVjdGl2ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgIHZhbGlkYXRlQXBpUGVyc3BlY3RpdmUobmV3Q29uZmlnLnBlcnNwZWN0aXZlKTtcbiAgfVxuICBpZiAoXCJlbmNvZGVTb3VyY2VNYXBBdFBhdGhcIiBpbiBuZXdDb25maWcgfHwgXCJlbmNvZGVTb3VyY2VNYXBcIiBpbiBuZXdDb25maWcgfHwgXCJzdHVkaW9VcmxcIiBpbiBuZXdDb25maWcgfHwgXCJsb2dnZXJcIiBpbiBuZXdDb25maWcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9wcmV2aWV3LWtpdC9jbGllbnQnLCBzdWNoIGFzICdlbmNvZGVTb3VyY2VNYXBBdFBhdGgnLCAnZW5jb2RlU291cmNlTWFwJywgJ3N0dWRpb1VybCcgYW5kICdsb2dnZXInLiBNYWtlIHN1cmUgeW91J3JlIHVzaW5nIHRoZSByaWdodCBpbXBvcnQuXCIpO1xuICB9XG4gIGlmIChcInN0ZWdhXCIgaW4gbmV3Q29uZmlnICYmIG5ld0NvbmZpZ1tcInN0ZWdhXCJdICE9PSB2b2lkIDAgJiYgbmV3Q29uZmlnW1wic3RlZ2FcIl0gIT09IGZhbHNlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvY2xpZW50L3N0ZWdhJy4gTWFrZSBzdXJlIHlvdSdyZSB1c2luZyB0aGUgcmlnaHQgaW1wb3J0LiBPciBzZXQgJ3N0ZWdhJyBpbiAnY3JlYXRlQ2xpZW50JyB0byAnZmFsc2UnLlwiKTtcbiAgfVxuICBjb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG4gIGNvbnN0IGlzTG9jYWxob3N0ID0gaXNCcm93c2VyICYmIGlzTG9jYWwod2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKTtcbiAgaWYgKGlzQnJvd3NlciAmJiBpc0xvY2FsaG9zdCAmJiBuZXdDb25maWcudG9rZW4gJiYgbmV3Q29uZmlnLmlnbm9yZUJyb3dzZXJUb2tlbldhcm5pbmcgIT09IHRydWUpIHtcbiAgICBwcmludEJyb3dzZXJUb2tlbldhcm5pbmcoKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbmV3Q29uZmlnLnVzZUNkbiA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHByaW50Q2RuV2FybmluZygpO1xuICB9XG4gIGlmIChwcm9qZWN0QmFzZWQpIHtcbiAgICBwcm9qZWN0SWQobmV3Q29uZmlnLnByb2plY3RJZCk7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5kYXRhc2V0KSB7XG4gICAgZGF0YXNldChuZXdDb25maWcuZGF0YXNldCk7XG4gIH1cbiAgaWYgKFwicmVxdWVzdFRhZ1ByZWZpeFwiIGluIG5ld0NvbmZpZykge1xuICAgIG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4ID0gbmV3Q29uZmlnLnJlcXVlc3RUYWdQcmVmaXggPyByZXF1ZXN0VGFnKG5ld0NvbmZpZy5yZXF1ZXN0VGFnUHJlZml4KS5yZXBsYWNlKC9cXC4rJC8sIFwiXCIpIDogdm9pZCAwO1xuICB9XG4gIG5ld0NvbmZpZy5hcGlWZXJzaW9uID0gXCJcIi5jb25jYXQobmV3Q29uZmlnLmFwaVZlcnNpb24pLnJlcGxhY2UoL152LywgXCJcIik7XG4gIG5ld0NvbmZpZy5pc0RlZmF1bHRBcGkgPSBuZXdDb25maWcuYXBpSG9zdCA9PT0gZGVmYXVsdENvbmZpZy5hcGlIb3N0O1xuICBuZXdDb25maWcudXNlQ2RuID0gbmV3Q29uZmlnLnVzZUNkbiAhPT0gZmFsc2UgJiYgIW5ld0NvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gIHZhbGlkYXRlQXBpVmVyc2lvbihuZXdDb25maWcuYXBpVmVyc2lvbik7XG4gIGNvbnN0IGhvc3RQYXJ0cyA9IG5ld0NvbmZpZy5hcGlIb3N0LnNwbGl0KFwiOi8vXCIsIDIpO1xuICBjb25zdCBwcm90b2NvbCA9IGhvc3RQYXJ0c1swXTtcbiAgY29uc3QgaG9zdCA9IGhvc3RQYXJ0c1sxXTtcbiAgY29uc3QgY2RuSG9zdCA9IG5ld0NvbmZpZy5pc0RlZmF1bHRBcGkgPyBkZWZhdWx0Q2RuSG9zdCA6IGhvc3Q7XG4gIGlmIChuZXdDb25maWcudXNlUHJvamVjdEhvc3RuYW1lKSB7XG4gICAgbmV3Q29uZmlnLnVybCA9IFwiXCIuY29uY2F0KHByb3RvY29sLCBcIjovL1wiKS5jb25jYXQobmV3Q29uZmlnLnByb2plY3RJZCwgXCIuXCIpLmNvbmNhdChob3N0LCBcIi92XCIpLmNvbmNhdChuZXdDb25maWcuYXBpVmVyc2lvbik7XG4gICAgbmV3Q29uZmlnLmNkblVybCA9IFwiXCIuY29uY2F0KHByb3RvY29sLCBcIjovL1wiKS5jb25jYXQobmV3Q29uZmlnLnByb2plY3RJZCwgXCIuXCIpLmNvbmNhdChjZG5Ib3N0LCBcIi92XCIpLmNvbmNhdChuZXdDb25maWcuYXBpVmVyc2lvbik7XG4gIH0gZWxzZSB7XG4gICAgbmV3Q29uZmlnLnVybCA9IFwiXCIuY29uY2F0KG5ld0NvbmZpZy5hcGlIb3N0LCBcIi92XCIpLmNvbmNhdChuZXdDb25maWcuYXBpVmVyc2lvbik7XG4gICAgbmV3Q29uZmlnLmNkblVybCA9IG5ld0NvbmZpZy51cmw7XG4gIH1cbiAgcmV0dXJuIG5ld0NvbmZpZztcbn07XG5jb25zdCBwcm9qZWN0SGVhZGVyID0gXCJYLVNhbml0eS1Qcm9qZWN0LUlEXCI7XG5mdW5jdGlvbiByZXF1ZXN0T3B0aW9ucyhjb25maWcpIHtcbiAgbGV0IG92ZXJyaWRlcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgY29uc3QgdG9rZW4gPSBvdmVycmlkZXMudG9rZW4gfHwgY29uZmlnLnRva2VuO1xuICBpZiAodG9rZW4pIHtcbiAgICBoZWFkZXJzLkF1dGhvcml6YXRpb24gPSBcIkJlYXJlciBcIi5jb25jYXQodG9rZW4pO1xuICB9XG4gIGlmICghb3ZlcnJpZGVzLnVzZUdsb2JhbEFwaSAmJiAhY29uZmlnLnVzZVByb2plY3RIb3N0bmFtZSAmJiBjb25maWcucHJvamVjdElkKSB7XG4gICAgaGVhZGVyc1twcm9qZWN0SGVhZGVyXSA9IGNvbmZpZy5wcm9qZWN0SWQ7XG4gIH1cbiAgY29uc3Qgd2l0aENyZWRlbnRpYWxzID0gQm9vbGVhbih0eXBlb2Ygb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyA9PT0gXCJ1bmRlZmluZWRcIiA/IGNvbmZpZy50b2tlbiB8fCBjb25maWcud2l0aENyZWRlbnRpYWxzIDogb3ZlcnJpZGVzLndpdGhDcmVkZW50aWFscyk7XG4gIGNvbnN0IHRpbWVvdXQgPSB0eXBlb2Ygb3ZlcnJpZGVzLnRpbWVvdXQgPT09IFwidW5kZWZpbmVkXCIgPyBjb25maWcudGltZW91dCA6IG92ZXJyaWRlcy50aW1lb3V0O1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgb3ZlcnJpZGVzLCB7XG4gICAgaGVhZGVyczogT2JqZWN0LmFzc2lnbih7fSwgaGVhZGVycywgb3ZlcnJpZGVzLmhlYWRlcnMgfHwge30pLFxuICAgIHRpbWVvdXQ6IHR5cGVvZiB0aW1lb3V0ID09PSBcInVuZGVmaW5lZFwiID8gNSAqIDYwICogMWUzIDogdGltZW91dCxcbiAgICBwcm94eTogb3ZlcnJpZGVzLnByb3h5IHx8IGNvbmZpZy5wcm94eSxcbiAgICBqc29uOiB0cnVlLFxuICAgIHdpdGhDcmVkZW50aWFscyxcbiAgICBmZXRjaDogdHlwZW9mIG92ZXJyaWRlcy5mZXRjaCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgY29uZmlnLmZldGNoID09PSBcIm9iamVjdFwiID8ge1xuICAgICAgLi4uY29uZmlnLmZldGNoLFxuICAgICAgLi4ub3ZlcnJpZGVzLmZldGNoXG4gICAgfSA6IG92ZXJyaWRlcy5mZXRjaCB8fCBjb25maWcuZmV0Y2hcbiAgfSk7XG59XG5jb25zdCBlbmNvZGVRdWVyeVN0cmluZyA9IF9yZWYyID0+IHtcbiAgbGV0IHtcbiAgICBxdWVyeSxcbiAgICBwYXJhbXMgPSB7fSxcbiAgICBvcHRpb25zID0ge31cbiAgfSA9IF9yZWYyO1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIGNvbnN0IHtcbiAgICB0YWcsXG4gICAgLi4ub3B0c1xuICB9ID0gb3B0aW9ucztcbiAgaWYgKHRhZykgc2VhcmNoUGFyYW1zLmFwcGVuZChcInRhZ1wiLCB0YWcpO1xuICBzZWFyY2hQYXJhbXMuYXBwZW5kKFwicXVlcnlcIiwgcXVlcnkpO1xuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbXMpKSB7XG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChcIiRcIi5jb25jYXQoa2V5KSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgfVxuICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRzKSkge1xuICAgIGlmICh2YWx1ZSkgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIFwiXCIuY29uY2F0KHZhbHVlKSk7XG4gIH1cbiAgcmV0dXJuIFwiP1wiLmNvbmNhdChzZWFyY2hQYXJhbXMpO1xufTtcbmNvbnN0IGV4Y2x1ZGVGYWxzZXkgPSAocGFyYW0sIGRlZlZhbHVlKSA9PiB7XG4gIGNvbnN0IHZhbHVlID0gdHlwZW9mIHBhcmFtID09PSBcInVuZGVmaW5lZFwiID8gZGVmVmFsdWUgOiBwYXJhbTtcbiAgcmV0dXJuIHBhcmFtID09PSBmYWxzZSA/IHZvaWQgMCA6IHZhbHVlO1xufTtcbmNvbnN0IGdldE11dGF0aW9uUXVlcnkgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgcmV0dXJuIHtcbiAgICBkcnlSdW46IG9wdGlvbnMuZHJ5UnVuLFxuICAgIHJldHVybklkczogdHJ1ZSxcbiAgICByZXR1cm5Eb2N1bWVudHM6IGV4Y2x1ZGVGYWxzZXkob3B0aW9ucy5yZXR1cm5Eb2N1bWVudHMsIHRydWUpLFxuICAgIHZpc2liaWxpdHk6IG9wdGlvbnMudmlzaWJpbGl0eSB8fCBcInN5bmNcIixcbiAgICBhdXRvR2VuZXJhdGVBcnJheUtleXM6IG9wdGlvbnMuYXV0b0dlbmVyYXRlQXJyYXlLZXlzLFxuICAgIHNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uOiBvcHRpb25zLnNraXBDcm9zc0RhdGFzZXRSZWZlcmVuY2VWYWxpZGF0aW9uXG4gIH07XG59O1xuY29uc3QgaXNSZXNwb25zZSA9IGV2ZW50ID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIjtcbmNvbnN0IGdldEJvZHkgPSBldmVudCA9PiBldmVudC5ib2R5O1xuY29uc3QgaW5kZXhCeSA9IChkb2NzLCBhdHRyKSA9PiBkb2NzLnJlZHVjZSgoaW5kZXhlZCwgZG9jKSA9PiB7XG4gIGluZGV4ZWRbYXR0cihkb2MpXSA9IGRvYztcbiAgcmV0dXJuIGluZGV4ZWQ7XG59LCAvKiBAX19QVVJFX18gKi9PYmplY3QuY3JlYXRlKG51bGwpKTtcbmNvbnN0IGdldFF1ZXJ5U2l6ZUxpbWl0ID0gMTEyNjQ7XG5mdW5jdGlvbiBfZmV0Y2goY2xpZW50LCBodHRwUmVxdWVzdCwgcXVlcnksIHBhcmFtcykge1xuICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiA0ICYmIGFyZ3VtZW50c1s0XSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzRdIDoge307XG4gIGNvbnN0IG1hcFJlc3BvbnNlID0gb3B0aW9ucy5maWx0ZXJSZXNwb25zZSA9PT0gZmFsc2UgPyByZXMgPT4gcmVzIDogcmVzID0+IHJlcy5yZXN1bHQ7XG4gIGNvbnN0IHtcbiAgICBjYWNoZSxcbiAgICBuZXh0LFxuICAgIC4uLm9wdHNcbiAgfSA9IHtcbiAgICAvLyBPcHQgb3V0IG9mIHNldHRpbmcgYSBgc2lnbmFsYCBvbiBhbiBpbnRlcm5hbCBgZmV0Y2hgIGlmIG9uZSBpc24ndCBwcm92aWRlZC5cbiAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSBpbiBSZWFjdCBTZXJ2ZXIgQ29tcG9uZW50cyB0byBhdm9pZCBvcHRpbmcgb3V0IG9mIFJlcXVlc3QgTWVtb2l6YXRpb24uXG4gICAgdXNlQWJvcnRTaWduYWw6IHR5cGVvZiBvcHRpb25zLnNpZ25hbCAhPT0gXCJ1bmRlZmluZWRcIixcbiAgICAuLi5vcHRpb25zXG4gIH07XG4gIGNvbnN0IHJlcU9wdHMgPSB0eXBlb2YgY2FjaGUgIT09IFwidW5kZWZpbmVkXCIgfHwgdHlwZW9mIG5leHQgIT09IFwidW5kZWZpbmVkXCIgPyB7XG4gICAgLi4ub3B0cyxcbiAgICBmZXRjaDoge1xuICAgICAgY2FjaGUsXG4gICAgICBuZXh0XG4gICAgfVxuICB9IDogb3B0cztcbiAgcmV0dXJuIF9kYXRhUmVxdWVzdChjbGllbnQsIGh0dHBSZXF1ZXN0LCBcInF1ZXJ5XCIsIHtcbiAgICBxdWVyeSxcbiAgICBwYXJhbXNcbiAgfSwgcmVxT3B0cykucGlwZShtYXAobWFwUmVzcG9uc2UpKTtcbn1cbmZ1bmN0aW9uIF9nZXREb2N1bWVudChjbGllbnQsIGh0dHBSZXF1ZXN0LCBpZCkge1xuICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXJpOiBfZ2V0RGF0YVVybChjbGllbnQsIFwiZG9jXCIsIGlkKSxcbiAgICBqc29uOiB0cnVlLFxuICAgIHRhZzogb3B0cy50YWdcbiAgfTtcbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKS5waXBlKGZpbHRlcihpc1Jlc3BvbnNlKSwgbWFwKGV2ZW50ID0+IGV2ZW50LmJvZHkuZG9jdW1lbnRzICYmIGV2ZW50LmJvZHkuZG9jdW1lbnRzWzBdKSk7XG59XG5mdW5jdGlvbiBfZ2V0RG9jdW1lbnRzKGNsaWVudCwgaHR0cFJlcXVlc3QsIGlkcykge1xuICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDoge307XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgdXJpOiBfZ2V0RGF0YVVybChjbGllbnQsIFwiZG9jXCIsIGlkcy5qb2luKFwiLFwiKSksXG4gICAganNvbjogdHJ1ZSxcbiAgICB0YWc6IG9wdHMudGFnXG4gIH07XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykucGlwZShmaWx0ZXIoaXNSZXNwb25zZSksIG1hcChldmVudCA9PiB7XG4gICAgY29uc3QgaW5kZXhlZCA9IGluZGV4QnkoZXZlbnQuYm9keS5kb2N1bWVudHMgfHwgW10sIGRvYyA9PiBkb2MuX2lkKTtcbiAgICByZXR1cm4gaWRzLm1hcChpZCA9PiBpbmRleGVkW2lkXSB8fCBudWxsKTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZUlmTm90RXhpc3RzKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgb3B0aW9ucykge1xuICByZXF1aXJlRG9jdW1lbnRJZChcImNyZWF0ZUlmTm90RXhpc3RzXCIsIGRvYyk7XG4gIHJldHVybiBfY3JlYXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgXCJjcmVhdGVJZk5vdEV4aXN0c1wiLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIF9jcmVhdGVPclJlcGxhY2UoY2xpZW50LCBodHRwUmVxdWVzdCwgZG9jLCBvcHRpb25zKSB7XG4gIHJlcXVpcmVEb2N1bWVudElkKFwiY3JlYXRlT3JSZXBsYWNlXCIsIGRvYyk7XG4gIHJldHVybiBfY3JlYXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIGRvYywgXCJjcmVhdGVPclJlcGxhY2VcIiwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfZGVsZXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIHNlbGVjdGlvbiwgb3B0aW9ucykge1xuICByZXR1cm4gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIFwibXV0YXRlXCIsIHtcbiAgICBtdXRhdGlvbnM6IFt7XG4gICAgICBkZWxldGU6IGdldFNlbGVjdGlvbihzZWxlY3Rpb24pXG4gICAgfV1cbiAgfSwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBfbXV0YXRlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG11dGF0aW9ucywgb3B0aW9ucykge1xuICBsZXQgbXV0O1xuICBpZiAobXV0YXRpb25zIGluc3RhbmNlb2YgUGF0Y2ggfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVBhdGNoKSB7XG4gICAgbXV0ID0ge1xuICAgICAgcGF0Y2g6IG11dGF0aW9ucy5zZXJpYWxpemUoKVxuICAgIH07XG4gIH0gZWxzZSBpZiAobXV0YXRpb25zIGluc3RhbmNlb2YgVHJhbnNhY3Rpb24gfHwgbXV0YXRpb25zIGluc3RhbmNlb2YgT2JzZXJ2YWJsZVRyYW5zYWN0aW9uKSB7XG4gICAgbXV0ID0gbXV0YXRpb25zLnNlcmlhbGl6ZSgpO1xuICB9IGVsc2Uge1xuICAgIG11dCA9IG11dGF0aW9ucztcbiAgfVxuICBjb25zdCBtdXRzID0gQXJyYXkuaXNBcnJheShtdXQpID8gbXV0IDogW211dF07XG4gIGNvbnN0IHRyYW5zYWN0aW9uSWQgPSBvcHRpb25zICYmIG9wdGlvbnMudHJhbnNhY3Rpb25JZCB8fCB2b2lkIDA7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwge1xuICAgIG11dGF0aW9uczogbXV0cyxcbiAgICB0cmFuc2FjdGlvbklkXG4gIH0sIG9wdGlvbnMpO1xufVxuZnVuY3Rpb24gX2RhdGFSZXF1ZXN0KGNsaWVudCwgaHR0cFJlcXVlc3QsIGVuZHBvaW50LCBib2R5KSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgY29uc3QgaXNNdXRhdGlvbiA9IGVuZHBvaW50ID09PSBcIm11dGF0ZVwiO1xuICBjb25zdCBpc1F1ZXJ5ID0gZW5kcG9pbnQgPT09IFwicXVlcnlcIjtcbiAgY29uc3Qgc3RyUXVlcnkgPSBpc011dGF0aW9uID8gXCJcIiA6IGVuY29kZVF1ZXJ5U3RyaW5nKGJvZHkpO1xuICBjb25zdCB1c2VHZXQgPSAhaXNNdXRhdGlvbiAmJiBzdHJRdWVyeS5sZW5ndGggPCBnZXRRdWVyeVNpemVMaW1pdDtcbiAgY29uc3Qgc3RyaW5nUXVlcnkgPSB1c2VHZXQgPyBzdHJRdWVyeSA6IFwiXCI7XG4gIGNvbnN0IHJldHVybkZpcnN0ID0gb3B0aW9ucy5yZXR1cm5GaXJzdDtcbiAgY29uc3Qge1xuICAgIHRpbWVvdXQsXG4gICAgdG9rZW4sXG4gICAgdGFnLFxuICAgIGhlYWRlcnNcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHVyaSA9IF9nZXREYXRhVXJsKGNsaWVudCwgZW5kcG9pbnQsIHN0cmluZ1F1ZXJ5KTtcbiAgY29uc3QgcmVxT3B0aW9ucyA9IHtcbiAgICBtZXRob2Q6IHVzZUdldCA/IFwiR0VUXCIgOiBcIlBPU1RcIixcbiAgICB1cmksXG4gICAganNvbjogdHJ1ZSxcbiAgICBib2R5OiB1c2VHZXQgPyB2b2lkIDAgOiBib2R5LFxuICAgIHF1ZXJ5OiBpc011dGF0aW9uICYmIGdldE11dGF0aW9uUXVlcnkob3B0aW9ucyksXG4gICAgdGltZW91dCxcbiAgICBoZWFkZXJzLFxuICAgIHRva2VuLFxuICAgIHRhZyxcbiAgICBwZXJzcGVjdGl2ZTogb3B0aW9ucy5wZXJzcGVjdGl2ZSxcbiAgICByZXN1bHRTb3VyY2VNYXA6IG9wdGlvbnMucmVzdWx0U291cmNlTWFwLFxuICAgIGNhblVzZUNkbjogaXNRdWVyeSxcbiAgICBzaWduYWw6IG9wdGlvbnMuc2lnbmFsLFxuICAgIGZldGNoOiBvcHRpb25zLmZldGNoLFxuICAgIHVzZUFib3J0U2lnbmFsOiBvcHRpb25zLnVzZUFib3J0U2lnbmFsXG4gIH07XG4gIHJldHVybiBfcmVxdWVzdE9ic2VydmFibGUoY2xpZW50LCBodHRwUmVxdWVzdCwgcmVxT3B0aW9ucykucGlwZShmaWx0ZXIoaXNSZXNwb25zZSksIG1hcChnZXRCb2R5KSwgbWFwKHJlcyA9PiB7XG4gICAgaWYgKCFpc011dGF0aW9uKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHRzID0gcmVzLnJlc3VsdHMgfHwgW107XG4gICAgaWYgKG9wdGlvbnMucmV0dXJuRG9jdW1lbnRzKSB7XG4gICAgICByZXR1cm4gcmV0dXJuRmlyc3QgPyByZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uZG9jdW1lbnQgOiByZXN1bHRzLm1hcChtdXQgPT4gbXV0LmRvY3VtZW50KTtcbiAgICB9XG4gICAgY29uc3Qga2V5ID0gcmV0dXJuRmlyc3QgPyBcImRvY3VtZW50SWRcIiA6IFwiZG9jdW1lbnRJZHNcIjtcbiAgICBjb25zdCBpZHMgPSByZXR1cm5GaXJzdCA/IHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5pZCA6IHJlc3VsdHMubWFwKG11dCA9PiBtdXQuaWQpO1xuICAgIHJldHVybiB7XG4gICAgICB0cmFuc2FjdGlvbklkOiByZXMudHJhbnNhY3Rpb25JZCxcbiAgICAgIHJlc3VsdHMsXG4gICAgICBba2V5XTogaWRzXG4gICAgfTtcbiAgfSkpO1xufVxuZnVuY3Rpb24gX2NyZWF0ZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBkb2MsIG9wKSB7XG4gIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiB7fTtcbiAgY29uc3QgbXV0YXRpb24gPSB7XG4gICAgW29wXTogZG9jXG4gIH07XG4gIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICByZXR1cm5GaXJzdDogdHJ1ZSxcbiAgICByZXR1cm5Eb2N1bWVudHM6IHRydWVcbiAgfSwgb3B0aW9ucyk7XG4gIHJldHVybiBfZGF0YVJlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgXCJtdXRhdGVcIiwge1xuICAgIG11dGF0aW9uczogW211dGF0aW9uXVxuICB9LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCBvcHRpb25zKSB7XG4gIHZhciBfYTtcbiAgY29uc3QgdXJpID0gb3B0aW9ucy51cmwgfHwgb3B0aW9ucy51cmk7XG4gIGNvbnN0IGNvbmZpZyA9IGNsaWVudC5jb25maWcoKTtcbiAgY29uc3QgY2FuVXNlQ2RuID0gdHlwZW9mIG9wdGlvbnMuY2FuVXNlQ2RuID09PSBcInVuZGVmaW5lZFwiID8gW1wiR0VUXCIsIFwiSEVBRFwiXS5pbmRleE9mKG9wdGlvbnMubWV0aG9kIHx8IFwiR0VUXCIpID49IDAgJiYgdXJpLmluZGV4T2YoXCIvZGF0YS9cIikgPT09IDAgOiBvcHRpb25zLmNhblVzZUNkbjtcbiAgbGV0IHVzZUNkbiA9IGNvbmZpZy51c2VDZG4gJiYgY2FuVXNlQ2RuO1xuICBjb25zdCB0YWcgPSBvcHRpb25zLnRhZyAmJiBjb25maWcucmVxdWVzdFRhZ1ByZWZpeCA/IFtjb25maWcucmVxdWVzdFRhZ1ByZWZpeCwgb3B0aW9ucy50YWddLmpvaW4oXCIuXCIpIDogb3B0aW9ucy50YWcgfHwgY29uZmlnLnJlcXVlc3RUYWdQcmVmaXg7XG4gIGlmICh0YWcgJiYgb3B0aW9ucy50YWcgIT09IG51bGwpIHtcbiAgICBvcHRpb25zLnF1ZXJ5ID0ge1xuICAgICAgdGFnOiByZXF1ZXN0VGFnKHRhZyksXG4gICAgICAuLi5vcHRpb25zLnF1ZXJ5XG4gICAgfTtcbiAgfVxuICBpZiAoW1wiR0VUXCIsIFwiSEVBRFwiLCBcIlBPU1RcIl0uaW5kZXhPZihvcHRpb25zLm1ldGhvZCB8fCBcIkdFVFwiKSA+PSAwICYmIHVyaS5pbmRleE9mKFwiL2RhdGEvcXVlcnkvXCIpID09PSAwKSB7XG4gICAgY29uc3QgcmVzdWx0U291cmNlTWFwID0gKF9hID0gb3B0aW9ucy5yZXN1bHRTb3VyY2VNYXApICE9IG51bGwgPyBfYSA6IGNvbmZpZy5yZXN1bHRTb3VyY2VNYXA7XG4gICAgaWYgKHJlc3VsdFNvdXJjZU1hcCAhPT0gdm9pZCAwICYmIHJlc3VsdFNvdXJjZU1hcCAhPT0gZmFsc2UpIHtcbiAgICAgIG9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgIHJlc3VsdFNvdXJjZU1hcCxcbiAgICAgICAgLi4ub3B0aW9ucy5xdWVyeVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcGVyc3BlY3RpdmUgPSBvcHRpb25zLnBlcnNwZWN0aXZlIHx8IGNvbmZpZy5wZXJzcGVjdGl2ZTtcbiAgICBpZiAodHlwZW9mIHBlcnNwZWN0aXZlID09PSBcInN0cmluZ1wiICYmIHBlcnNwZWN0aXZlICE9PSBcInJhd1wiKSB7XG4gICAgICB2YWxpZGF0ZUFwaVBlcnNwZWN0aXZlKHBlcnNwZWN0aXZlKTtcbiAgICAgIG9wdGlvbnMucXVlcnkgPSB7XG4gICAgICAgIHBlcnNwZWN0aXZlLFxuICAgICAgICAuLi5vcHRpb25zLnF1ZXJ5XG4gICAgICB9O1xuICAgICAgaWYgKHBlcnNwZWN0aXZlID09PSBcInByZXZpZXdEcmFmdHNcIiAmJiB1c2VDZG4pIHtcbiAgICAgICAgdXNlQ2RuID0gZmFsc2U7XG4gICAgICAgIHByaW50Q2RuUHJldmlld0RyYWZ0c1dhcm5pbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgcmVxT3B0aW9ucyA9IHJlcXVlc3RPcHRpb25zKGNvbmZpZywgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgIHVybDogX2dldFVybChjbGllbnQsIHVyaSwgdXNlQ2RuKVxuICB9KSk7XG4gIGNvbnN0IHJlcXVlc3QgPSBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVyID0+IGh0dHBSZXF1ZXN0KHJlcU9wdGlvbnMsIGNvbmZpZy5yZXF1ZXN0ZXIpLnN1YnNjcmliZShzdWJzY3JpYmVyKSk7XG4gIHJldHVybiBvcHRpb25zLnNpZ25hbCA/IHJlcXVlc3QucGlwZShfd2l0aEFib3J0U2lnbmFsKG9wdGlvbnMuc2lnbmFsKSkgOiByZXF1ZXN0O1xufVxuZnVuY3Rpb24gX3JlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwgb3B0aW9ucykge1xuICBjb25zdCBvYnNlcnZhYmxlID0gX3JlcXVlc3RPYnNlcnZhYmxlKGNsaWVudCwgaHR0cFJlcXVlc3QsIG9wdGlvbnMpLnBpcGUoZmlsdGVyKGV2ZW50ID0+IGV2ZW50LnR5cGUgPT09IFwicmVzcG9uc2VcIiksIG1hcChldmVudCA9PiBldmVudC5ib2R5KSk7XG4gIHJldHVybiBvYnNlcnZhYmxlO1xufVxuZnVuY3Rpb24gX2dldERhdGFVcmwoY2xpZW50LCBvcGVyYXRpb24sIHBhdGgpIHtcbiAgY29uc3QgY29uZmlnID0gY2xpZW50LmNvbmZpZygpO1xuICBjb25zdCBjYXRhbG9nID0gaGFzRGF0YXNldChjb25maWcpO1xuICBjb25zdCBiYXNlVXJpID0gXCIvXCIuY29uY2F0KG9wZXJhdGlvbiwgXCIvXCIpLmNvbmNhdChjYXRhbG9nKTtcbiAgY29uc3QgdXJpID0gcGF0aCA/IFwiXCIuY29uY2F0KGJhc2VVcmksIFwiL1wiKS5jb25jYXQocGF0aCkgOiBiYXNlVXJpO1xuICByZXR1cm4gXCIvZGF0YVwiLmNvbmNhdCh1cmkpLnJlcGxhY2UoL1xcLygkfFxcPykvLCBcIiQxXCIpO1xufVxuZnVuY3Rpb24gX2dldFVybChjbGllbnQsIHVyaSkge1xuICBsZXQgY2FuVXNlQ2RuID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgY29uc3Qge1xuICAgIHVybCxcbiAgICBjZG5VcmxcbiAgfSA9IGNsaWVudC5jb25maWcoKTtcbiAgY29uc3QgYmFzZSA9IGNhblVzZUNkbiA/IGNkblVybCA6IHVybDtcbiAgcmV0dXJuIFwiXCIuY29uY2F0KGJhc2UsIFwiL1wiKS5jb25jYXQodXJpLnJlcGxhY2UoL15cXC8vLCBcIlwiKSk7XG59XG5mdW5jdGlvbiBfd2l0aEFib3J0U2lnbmFsKHNpZ25hbCkge1xuICByZXR1cm4gaW5wdXQgPT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgICBjb25zdCBhYm9ydCA9ICgpID0+IG9ic2VydmVyLmVycm9yKF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkpO1xuICAgICAgaWYgKHNpZ25hbCAmJiBzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBhYm9ydCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBpbnB1dC5zdWJzY3JpYmUob2JzZXJ2ZXIpO1xuICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBhYm9ydCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIGFib3J0KTtcbiAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xufVxuY29uc3QgaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQgPSBCb29sZWFuKGdsb2JhbFRoaXMuRE9NRXhjZXB0aW9uKTtcbmZ1bmN0aW9uIF9jcmVhdGVBYm9ydEVycm9yKHNpZ25hbCkge1xuICB2YXIgX2EsIF9iO1xuICBpZiAoaXNEb21FeGNlcHRpb25TdXBwb3J0ZWQpIHtcbiAgICByZXR1cm4gbmV3IERPTUV4Y2VwdGlvbigoX2EgPSBzaWduYWwgPT0gbnVsbCA/IHZvaWQgMCA6IHNpZ25hbC5yZWFzb24pICE9IG51bGwgPyBfYSA6IFwiVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZC5cIiwgXCJBYm9ydEVycm9yXCIpO1xuICB9XG4gIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKChfYiA9IHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLnJlYXNvbikgIT0gbnVsbCA/IF9iIDogXCJUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLlwiKTtcbiAgZXJyb3IubmFtZSA9IFwiQWJvcnRFcnJvclwiO1xuICByZXR1cm4gZXJyb3I7XG59XG52YXIgX19hY2Nlc3NDaGVjayQ0ID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCQ0ID0gKG9iaiwgbWVtYmVyLCBnZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayQ0KG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkJDQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQkNCA9IChvYmosIG1lbWJlciwgdmFsdWUsIHNldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDQob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9jbGllbnQkMywgX2h0dHBSZXF1ZXN0JDQsIF9jbGllbnQyJDMsIF9odHRwUmVxdWVzdDIkNDtcbmNsYXNzIE9ic2VydmFibGVBc3NldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2NsaWVudCQzLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQ0KHRoaXMsIF9odHRwUmVxdWVzdCQ0LCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCQ0KHRoaXMsIF9jbGllbnQkMywgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QkNCwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIHVwbG9hZChhc3NldFR5cGUsIGJvZHksIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX3VwbG9hZChfX3ByaXZhdGVHZXQkNCh0aGlzLCBfY2xpZW50JDMpLCBfX3ByaXZhdGVHZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QkNCksIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gIH1cbn1cbl9jbGllbnQkMyA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkNCA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBBc3NldHNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDQodGhpcywgX2NsaWVudDIkMywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkNCh0aGlzLCBfaHR0cFJlcXVlc3QyJDQsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0JDQodGhpcywgX2NsaWVudDIkMywgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkNCh0aGlzLCBfaHR0cFJlcXVlc3QyJDQsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICB1cGxvYWQoYXNzZXRUeXBlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JzZXJ2YWJsZSA9IF91cGxvYWQoX19wcml2YXRlR2V0JDQodGhpcywgX2NsaWVudDIkMyksIF9fcHJpdmF0ZUdldCQ0KHRoaXMsIF9odHRwUmVxdWVzdDIkNCksIGFzc2V0VHlwZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20ob2JzZXJ2YWJsZS5waXBlKGZpbHRlcihldmVudCA9PiBldmVudC50eXBlID09PSBcInJlc3BvbnNlXCIpLCBtYXAoZXZlbnQgPT4gZXZlbnQuYm9keS5kb2N1bWVudCkpKTtcbiAgfVxufVxuX2NsaWVudDIkMyA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QyJDQgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gX3VwbG9hZChjbGllbnQsIGh0dHBSZXF1ZXN0LCBhc3NldFR5cGUsIGJvZHkpIHtcbiAgbGV0IG9wdHMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHt9O1xuICB2YWxpZGF0ZUFzc2V0VHlwZShhc3NldFR5cGUpO1xuICBsZXQgbWV0YSA9IG9wdHMuZXh0cmFjdCB8fCB2b2lkIDA7XG4gIGlmIChtZXRhICYmICFtZXRhLmxlbmd0aCkge1xuICAgIG1ldGEgPSBbXCJub25lXCJdO1xuICB9XG4gIGNvbnN0IGRhdGFzZXQgPSBoYXNEYXRhc2V0KGNsaWVudC5jb25maWcoKSk7XG4gIGNvbnN0IGFzc2V0RW5kcG9pbnQgPSBhc3NldFR5cGUgPT09IFwiaW1hZ2VcIiA/IFwiaW1hZ2VzXCIgOiBcImZpbGVzXCI7XG4gIGNvbnN0IG9wdGlvbnMgPSBvcHRpb25zRnJvbUZpbGUob3B0cywgYm9keSk7XG4gIGNvbnN0IHtcbiAgICB0YWcsXG4gICAgbGFiZWwsXG4gICAgdGl0bGUsXG4gICAgZGVzY3JpcHRpb24sXG4gICAgY3JlZGl0TGluZSxcbiAgICBmaWxlbmFtZSxcbiAgICBzb3VyY2VcbiAgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IHF1ZXJ5ID0ge1xuICAgIGxhYmVsLFxuICAgIHRpdGxlLFxuICAgIGRlc2NyaXB0aW9uLFxuICAgIGZpbGVuYW1lLFxuICAgIG1ldGEsXG4gICAgY3JlZGl0TGluZVxuICB9O1xuICBpZiAoc291cmNlKSB7XG4gICAgcXVlcnkuc291cmNlSWQgPSBzb3VyY2UuaWQ7XG4gICAgcXVlcnkuc291cmNlTmFtZSA9IHNvdXJjZS5uYW1lO1xuICAgIHF1ZXJ5LnNvdXJjZVVybCA9IHNvdXJjZS51cmw7XG4gIH1cbiAgcmV0dXJuIF9yZXF1ZXN0T2JzZXJ2YWJsZShjbGllbnQsIGh0dHBSZXF1ZXN0LCB7XG4gICAgdGFnLFxuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdGltZW91dDogb3B0aW9ucy50aW1lb3V0IHx8IDAsXG4gICAgdXJpOiBcIi9hc3NldHMvXCIuY29uY2F0KGFzc2V0RW5kcG9pbnQsIFwiL1wiKS5jb25jYXQoZGF0YXNldCksXG4gICAgaGVhZGVyczogb3B0aW9ucy5jb250ZW50VHlwZSA/IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IG9wdGlvbnMuY29udGVudFR5cGVcbiAgICB9IDoge30sXG4gICAgcXVlcnksXG4gICAgYm9keVxuICB9KTtcbn1cbmZ1bmN0aW9uIG9wdGlvbnNGcm9tRmlsZShvcHRzLCBmaWxlKSB7XG4gIGlmICh0eXBlb2YgRmlsZSA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhKGZpbGUgaW5zdGFuY2VvZiBGaWxlKSkge1xuICAgIHJldHVybiBvcHRzO1xuICB9XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICBmaWxlbmFtZTogb3B0cy5wcmVzZXJ2ZUZpbGVuYW1lID09PSBmYWxzZSA/IHZvaWQgMCA6IGZpbGUubmFtZSxcbiAgICBjb250ZW50VHlwZTogZmlsZS50eXBlXG4gIH0sIG9wdHMpO1xufVxudmFyIGRlZmF1bHRzID0gKG9iaiwgZGVmYXVsdHMpID0+IE9iamVjdC5rZXlzKGRlZmF1bHRzKS5jb25jYXQoT2JqZWN0LmtleXMob2JqKSkucmVkdWNlKCh0YXJnZXQsIHByb3ApID0+IHtcbiAgdGFyZ2V0W3Byb3BdID0gdHlwZW9mIG9ialtwcm9wXSA9PT0gXCJ1bmRlZmluZWRcIiA/IGRlZmF1bHRzW3Byb3BdIDogb2JqW3Byb3BdO1xuICByZXR1cm4gdGFyZ2V0O1xufSwge30pO1xuY29uc3QgcGljayA9IChvYmosIHByb3BzKSA9PiBwcm9wcy5yZWR1Y2UoKHNlbGVjdGlvbiwgcHJvcCkgPT4ge1xuICBpZiAodHlwZW9mIG9ialtwcm9wXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiBzZWxlY3Rpb247XG4gIH1cbiAgc2VsZWN0aW9uW3Byb3BdID0gb2JqW3Byb3BdO1xuICByZXR1cm4gc2VsZWN0aW9uO1xufSwge30pO1xuY29uc3QgTUFYX1VSTF9MRU5HVEggPSAxNmUzIC0gMTIwMDtcbmNvbnN0IHBvc3NpYmxlT3B0aW9ucyA9IFtcImluY2x1ZGVQcmV2aW91c1JldmlzaW9uXCIsIFwiaW5jbHVkZVJlc3VsdFwiLCBcInZpc2liaWxpdHlcIiwgXCJlZmZlY3RGb3JtYXRcIiwgXCJ0YWdcIl07XG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgaW5jbHVkZVJlc3VsdDogdHJ1ZVxufTtcbmZ1bmN0aW9uIF9saXN0ZW4ocXVlcnksIHBhcmFtcykge1xuICBsZXQgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIGNvbnN0IHtcbiAgICB1cmwsXG4gICAgdG9rZW4sXG4gICAgd2l0aENyZWRlbnRpYWxzLFxuICAgIHJlcXVlc3RUYWdQcmVmaXhcbiAgfSA9IHRoaXMuY29uZmlnKCk7XG4gIGNvbnN0IHRhZyA9IG9wdHMudGFnICYmIHJlcXVlc3RUYWdQcmVmaXggPyBbcmVxdWVzdFRhZ1ByZWZpeCwgb3B0cy50YWddLmpvaW4oXCIuXCIpIDogb3B0cy50YWc7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgLi4uZGVmYXVsdHMob3B0cywgZGVmYXVsdE9wdGlvbnMpLFxuICAgIHRhZ1xuICB9O1xuICBjb25zdCBsaXN0ZW5PcHRzID0gcGljayhvcHRpb25zLCBwb3NzaWJsZU9wdGlvbnMpO1xuICBjb25zdCBxcyA9IGVuY29kZVF1ZXJ5U3RyaW5nKHtcbiAgICBxdWVyeSxcbiAgICBwYXJhbXMsXG4gICAgb3B0aW9uczoge1xuICAgICAgdGFnLFxuICAgICAgLi4ubGlzdGVuT3B0c1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IHVyaSA9IFwiXCIuY29uY2F0KHVybCkuY29uY2F0KF9nZXREYXRhVXJsKHRoaXMsIFwibGlzdGVuXCIsIHFzKSk7XG4gIGlmICh1cmkubGVuZ3RoID4gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUob2JzZXJ2ZXIgPT4gb2JzZXJ2ZXIuZXJyb3IobmV3IEVycm9yKFwiUXVlcnkgdG9vIGxhcmdlIGZvciBsaXN0ZW5lclwiKSkpO1xuICB9XG4gIGNvbnN0IGxpc3RlbkZvciA9IG9wdGlvbnMuZXZlbnRzID8gb3B0aW9ucy5ldmVudHMgOiBbXCJtdXRhdGlvblwiXTtcbiAgY29uc3Qgc2hvdWxkRW1pdFJlY29ubmVjdCA9IGxpc3RlbkZvci5pbmRleE9mKFwicmVjb25uZWN0XCIpICE9PSAtMTtcbiAgY29uc3QgZXNPcHRpb25zID0ge307XG4gIGlmICh0b2tlbiB8fCB3aXRoQ3JlZGVudGlhbHMpIHtcbiAgICBlc09wdGlvbnMud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgfVxuICBpZiAodG9rZW4pIHtcbiAgICBlc09wdGlvbnMuaGVhZGVycyA9IHtcbiAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiLmNvbmNhdCh0b2tlbilcbiAgICB9O1xuICB9XG4gIHJldHVybiBuZXcgT2JzZXJ2YWJsZShvYnNlcnZlciA9PiB7XG4gICAgbGV0IGVzO1xuICAgIGdldEV2ZW50U291cmNlKCkudGhlbihldmVudFNvdXJjZSA9PiB7XG4gICAgICBlcyA9IGV2ZW50U291cmNlO1xuICAgIH0pLmNhdGNoKHJlYXNvbiA9PiB7XG4gICAgICBvYnNlcnZlci5lcnJvcihyZWFzb24pO1xuICAgICAgc3RvcCgpO1xuICAgIH0pO1xuICAgIGxldCByZWNvbm5lY3RUaW1lcjtcbiAgICBsZXQgc3RvcHBlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbWl0UmVjb25uZWN0KCk7XG4gICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXMucmVhZHlTdGF0ZSA9PT0gZXMuQ0xPU0VEKSB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lcik7XG4gICAgICAgIHJlY29ubmVjdFRpbWVyID0gc2V0VGltZW91dChvcGVuLCAxMDApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNoYW5uZWxFcnJvcihlcnIpIHtcbiAgICAgIG9ic2VydmVyLmVycm9yKGNvb2VyY2VFcnJvcihlcnIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25NZXNzYWdlKGV2dCkge1xuICAgICAgY29uc3QgZXZlbnQgPSBwYXJzZUV2ZW50KGV2dCk7XG4gICAgICByZXR1cm4gZXZlbnQgaW5zdGFuY2VvZiBFcnJvciA/IG9ic2VydmVyLmVycm9yKGV2ZW50KSA6IG9ic2VydmVyLm5leHQoZXZlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghZXMpIHJldHVybjtcbiAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBvbkVycm9yKTtcbiAgICAgIGVzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFubmVsRXJyb3JcIiwgb25DaGFubmVsRXJyb3IpO1xuICAgICAgZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RcIiwgb25EaXNjb25uZWN0KTtcbiAgICAgIGxpc3RlbkZvci5mb3JFYWNoKHR5cGUgPT4gZXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBvbk1lc3NhZ2UpKTtcbiAgICAgIGVzLmNsb3NlKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVtaXRSZWNvbm5lY3QoKSB7XG4gICAgICBpZiAoc2hvdWxkRW1pdFJlY29ubmVjdCkge1xuICAgICAgICBvYnNlcnZlci5uZXh0KHtcbiAgICAgICAgICB0eXBlOiBcInJlY29ubmVjdFwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBnZXRFdmVudFNvdXJjZSgpIHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgZGVmYXVsdDogRXZlbnRTb3VyY2VcbiAgICAgIH0gPSBhd2FpdCBpbXBvcnQoJ0BzYW5pdHkvZXZlbnRzb3VyY2UnKTtcbiAgICAgIGNvbnN0IGV2cyA9IG5ldyBFdmVudFNvdXJjZSh1cmksIGVzT3B0aW9ucyk7XG4gICAgICBldnMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIG9uRXJyb3IpO1xuICAgICAgZXZzLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFubmVsRXJyb3JcIiwgb25DaGFubmVsRXJyb3IpO1xuICAgICAgZXZzLmFkZEV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0XCIsIG9uRGlzY29ubmVjdCk7XG4gICAgICBsaXN0ZW5Gb3IuZm9yRWFjaCh0eXBlID0+IGV2cy5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uTWVzc2FnZSkpO1xuICAgICAgcmV0dXJuIGV2cztcbiAgICB9XG4gICAgZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgIGdldEV2ZW50U291cmNlKCkudGhlbihldmVudFNvdXJjZSA9PiB7XG4gICAgICAgIGVzID0gZXZlbnRTb3VyY2U7XG4gICAgICB9KS5jYXRjaChyZWFzb24gPT4ge1xuICAgICAgICBvYnNlcnZlci5lcnJvcihyZWFzb24pO1xuICAgICAgICBzdG9wKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0b3A7XG4gIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VFdmVudChldmVudCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGEgPSBldmVudC5kYXRhICYmIEpTT04ucGFyc2UoZXZlbnQuZGF0YSkgfHwge307XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe1xuICAgICAgdHlwZTogZXZlbnQudHlwZVxuICAgIH0sIGRhdGEpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZXJyO1xuICB9XG59XG5mdW5jdGlvbiBjb29lcmNlRXJyb3IoZXJyKSB7XG4gIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHJldHVybiBlcnI7XG4gIH1cbiAgY29uc3QgZXZ0ID0gcGFyc2VFdmVudChlcnIpO1xuICByZXR1cm4gZXZ0IGluc3RhbmNlb2YgRXJyb3IgPyBldnQgOiBuZXcgRXJyb3IoZXh0cmFjdEVycm9yTWVzc2FnZShldnQpKTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RFcnJvck1lc3NhZ2UoZXJyKSB7XG4gIGlmICghZXJyLmVycm9yKSB7XG4gICAgcmV0dXJuIGVyci5tZXNzYWdlIHx8IFwiVW5rbm93biBsaXN0ZW5lciBlcnJvclwiO1xuICB9XG4gIGlmIChlcnIuZXJyb3IuZGVzY3JpcHRpb24pIHtcbiAgICByZXR1cm4gZXJyLmVycm9yLmRlc2NyaXB0aW9uO1xuICB9XG4gIHJldHVybiB0eXBlb2YgZXJyLmVycm9yID09PSBcInN0cmluZ1wiID8gZXJyLmVycm9yIDogSlNPTi5zdHJpbmdpZnkoZXJyLmVycm9yLCBudWxsLCAyKTtcbn1cbnZhciBfX2FjY2Vzc0NoZWNrJDMgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDMgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDMob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkMyA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQzID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMyhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQyLCBfaHR0cFJlcXVlc3QkMywgX2NsaWVudDIkMiwgX2h0dHBSZXF1ZXN0MiQzO1xuY2xhc3MgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9jbGllbnQkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMyh0aGlzLCBfY2xpZW50JDIsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gY3JlYXRlXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGNyZWF0ZShuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCBcIlBVVFwiLCBuYW1lLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogRWRpdCBhIGRhdGFzZXQgd2l0aCB0aGUgZ2l2ZW4gbmFtZVxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSAtIE5hbWUgb2YgdGhlIGRhdGFzZXQgdG8gZWRpdFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIE5ldyBvcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgZWRpdChuYW1lLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudCQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0JDMpLCBcIlBBVENIXCIsIG5hbWUsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKG5hbWUpIHtcbiAgICByZXR1cm4gX21vZGlmeShfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50JDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QkMyksIFwiREVMRVRFXCIsIG5hbWUpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIGxpc3Qgb2YgZGF0YXNldHMgZm9yIHRoZSBjb25maWd1cmVkIHByb2plY3RcbiAgICovXG4gIGxpc3QoKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdCQzKSwge1xuICAgICAgdXJpOiBcIi9kYXRhc2V0c1wiLFxuICAgICAgdGFnOiBudWxsXG4gICAgfSk7XG4gIH1cbn1cbl9jbGllbnQkMiA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkMyA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBEYXRhc2V0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMyh0aGlzLCBfY2xpZW50MiQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMywgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMyh0aGlzLCBfY2xpZW50MiQyLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMywgaHR0cFJlcXVlc3QpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgZGF0YXNldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZGF0YXNldCB0byBjcmVhdGVcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25zIGZvciB0aGUgZGF0YXNldFxuICAgKi9cbiAgY3JlYXRlKG5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCBcIlBVVFwiLCBuYW1lLCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEVkaXQgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGVkaXRcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBOZXcgb3B0aW9ucyBmb3IgdGhlIGRhdGFzZXRcbiAgICovXG4gIGVkaXQobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9tb2RpZnkoX19wcml2YXRlR2V0JDModGhpcywgX2NsaWVudDIkMiksIF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9odHRwUmVxdWVzdDIkMyksIFwiUEFUQ0hcIiwgbmFtZSwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBEZWxldGUgYSBkYXRhc2V0IHdpdGggdGhlIGdpdmVuIG5hbWVcbiAgICpcbiAgICogQHBhcmFtIG5hbWUgLSBOYW1lIG9mIHRoZSBkYXRhc2V0IHRvIGRlbGV0ZVxuICAgKi9cbiAgZGVsZXRlKG5hbWUpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfbW9kaWZ5KF9fcHJpdmF0ZUdldCQzKHRoaXMsIF9jbGllbnQyJDIpLCBfX3ByaXZhdGVHZXQkMyh0aGlzLCBfaHR0cFJlcXVlc3QyJDMpLCBcIkRFTEVURVwiLCBuYW1lKSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBkYXRhc2V0cyBmb3IgdGhlIGNvbmZpZ3VyZWQgcHJvamVjdFxuICAgKi9cbiAgbGlzdCgpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMyh0aGlzLCBfY2xpZW50MiQyKSwgX19wcml2YXRlR2V0JDModGhpcywgX2h0dHBSZXF1ZXN0MiQzKSwge1xuICAgICAgdXJpOiBcIi9kYXRhc2V0c1wiLFxuICAgICAgdGFnOiBudWxsXG4gICAgfSkpO1xuICB9XG59XG5fY2xpZW50MiQyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIkMyA9IG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBfbW9kaWZ5KGNsaWVudCwgaHR0cFJlcXVlc3QsIG1ldGhvZCwgbmFtZSwgb3B0aW9ucykge1xuICBkYXRhc2V0KG5hbWUpO1xuICByZXR1cm4gX3JlcXVlc3QoY2xpZW50LCBodHRwUmVxdWVzdCwge1xuICAgIG1ldGhvZCxcbiAgICB1cmk6IFwiL2RhdGFzZXRzL1wiLmNvbmNhdChuYW1lKSxcbiAgICBib2R5OiBvcHRpb25zLFxuICAgIHRhZzogbnVsbFxuICB9KTtcbn1cbnZhciBfX2FjY2Vzc0NoZWNrJDIgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDIgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDIob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkMiA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQyID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMihvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCQxLCBfaHR0cFJlcXVlc3QkMiwgX2NsaWVudDIkMSwgX2h0dHBSZXF1ZXN0MiQyO1xuY2xhc3MgT2JzZXJ2YWJsZVByb2plY3RzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9jbGllbnQkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfaHR0cFJlcXVlc3QkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfY2xpZW50JDEsIGNsaWVudCk7XG4gICAgX19wcml2YXRlU2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICBsaXN0KG9wdGlvbnMpIHtcbiAgICBjb25zdCB1cmkgPSAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5pbmNsdWRlTWVtYmVycykgPT09IGZhbHNlID8gXCIvcHJvamVjdHM/aW5jbHVkZU1lbWJlcnM9ZmFsc2VcIiA6IFwiL3Byb2plY3RzXCI7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9jbGllbnQkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdCQyKSwge1xuICAgICAgdXJpXG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgcHJvamVjdCBieSBwcm9qZWN0IElEXG4gICAqXG4gICAqIEBwYXJhbSBwcm9qZWN0SWQgLSBJRCBvZiB0aGUgcHJvamVjdCB0byBmZXRjaFxuICAgKi9cbiAgZ2V0QnlJZChwcm9qZWN0SWQpIHtcbiAgICByZXR1cm4gX3JlcXVlc3QoX19wcml2YXRlR2V0JDIodGhpcywgX2NsaWVudCQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0JDIpLCB7XG4gICAgICB1cmk6IFwiL3Byb2plY3RzL1wiLmNvbmNhdChwcm9qZWN0SWQpXG4gICAgfSk7XG4gIH1cbn1cbl9jbGllbnQkMSA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QkMiA9IG5ldyBXZWFrTWFwKCk7XG5jbGFzcyBQcm9qZWN0c0NsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGNsaWVudCwgaHR0cFJlcXVlc3QpIHtcbiAgICBfX3ByaXZhdGVBZGQkMih0aGlzLCBfY2xpZW50MiQxLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMih0aGlzLCBfY2xpZW50MiQxLCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiwgaHR0cFJlcXVlc3QpO1xuICB9XG4gIGxpc3Qob3B0aW9ucykge1xuICAgIGNvbnN0IHVyaSA9IChvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmluY2x1ZGVNZW1iZXJzKSA9PT0gZmFsc2UgPyBcIi9wcm9qZWN0cz9pbmNsdWRlTWVtYmVycz1mYWxzZVwiIDogXCIvcHJvamVjdHNcIjtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMih0aGlzLCBfY2xpZW50MiQxKSwgX19wcml2YXRlR2V0JDIodGhpcywgX2h0dHBSZXF1ZXN0MiQyKSwge1xuICAgICAgdXJpXG4gICAgfSkpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHByb2plY3QgYnkgcHJvamVjdCBJRFxuICAgKlxuICAgKiBAcGFyYW0gcHJvamVjdElkIC0gSUQgb2YgdGhlIHByb2plY3QgdG8gZmV0Y2hcbiAgICovXG4gIGdldEJ5SWQocHJvamVjdElkKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX3JlcXVlc3QoX19wcml2YXRlR2V0JDIodGhpcywgX2NsaWVudDIkMSksIF9fcHJpdmF0ZUdldCQyKHRoaXMsIF9odHRwUmVxdWVzdDIkMiksIHtcbiAgICAgIHVyaTogXCIvcHJvamVjdHMvXCIuY29uY2F0KHByb2plY3RJZClcbiAgICB9KSk7XG4gIH1cbn1cbl9jbGllbnQyJDEgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQyID0gbmV3IFdlYWtNYXAoKTtcbnZhciBfX2FjY2Vzc0NoZWNrJDEgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4ge1xuICBpZiAoIW1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbn07XG52YXIgX19wcml2YXRlR2V0JDEgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrJDEob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQkMSA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IHtcbiAgaWYgKG1lbWJlci5oYXMob2JqKSkgdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKTtcbiAgbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG59O1xudmFyIF9fcHJpdmF0ZVNldCQxID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2skMShvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudCwgX2h0dHBSZXF1ZXN0JDEsIF9jbGllbnQyLCBfaHR0cFJlcXVlc3QyJDE7XG5jbGFzcyBPYnNlcnZhYmxlVXNlcnNDbGllbnQge1xuICBjb25zdHJ1Y3RvcihjbGllbnQsIGh0dHBSZXF1ZXN0KSB7XG4gICAgX19wcml2YXRlQWRkJDEodGhpcywgX2NsaWVudCwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQkMSh0aGlzLCBfaHR0cFJlcXVlc3QkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfY2xpZW50LCBjbGllbnQpO1xuICAgIF9fcHJpdmF0ZVNldCQxKHRoaXMsIF9odHRwUmVxdWVzdCQxLCBodHRwUmVxdWVzdCk7XG4gIH1cbiAgLyoqXG4gICAqIEZldGNoIGEgdXNlciBieSB1c2VyIElEXG4gICAqXG4gICAqIEBwYXJhbSBpZCAtIFVzZXIgSUQgb2YgdGhlIHVzZXIgdG8gZmV0Y2guIElmIGBtZWAgaXMgcHJvdmlkZWQsIGEgbWluaW1hbCByZXNwb25zZSBpbmNsdWRpbmcgdGhlIHVzZXJzIHJvbGUgaXMgcmV0dXJuZWQuXG4gICAqL1xuICBnZXRCeUlkKGlkKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9jbGllbnQpLCBfX3ByaXZhdGVHZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QkMSksIHtcbiAgICAgIHVyaTogXCIvdXNlcnMvXCIuY29uY2F0KGlkKVxuICAgIH0pO1xuICB9XG59XG5fY2xpZW50ID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdCQxID0gbmV3IFdlYWtNYXAoKTtcbmNsYXNzIFVzZXJzQ2xpZW50IHtcbiAgY29uc3RydWN0b3IoY2xpZW50LCBodHRwUmVxdWVzdCkge1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9jbGllbnQyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZUFkZCQxKHRoaXMsIF9odHRwUmVxdWVzdDIkMSwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfY2xpZW50MiwgY2xpZW50KTtcbiAgICBfX3ByaXZhdGVTZXQkMSh0aGlzLCBfaHR0cFJlcXVlc3QyJDEsIGh0dHBSZXF1ZXN0KTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggYSB1c2VyIGJ5IHVzZXIgSURcbiAgICpcbiAgICogQHBhcmFtIGlkIC0gVXNlciBJRCBvZiB0aGUgdXNlciB0byBmZXRjaC4gSWYgYG1lYCBpcyBwcm92aWRlZCwgYSBtaW5pbWFsIHJlc3BvbnNlIGluY2x1ZGluZyB0aGUgdXNlcnMgcm9sZSBpcyByZXR1cm5lZC5cbiAgICovXG4gIGdldEJ5SWQoaWQpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfcmVxdWVzdChfX3ByaXZhdGVHZXQkMSh0aGlzLCBfY2xpZW50MiksIF9fcHJpdmF0ZUdldCQxKHRoaXMsIF9odHRwUmVxdWVzdDIkMSksIHtcbiAgICAgIHVyaTogXCIvdXNlcnMvXCIuY29uY2F0KGlkKVxuICAgIH0pKTtcbiAgfVxufVxuX2NsaWVudDIgPSBuZXcgV2Vha01hcCgpO1xuX2h0dHBSZXF1ZXN0MiQxID0gbmV3IFdlYWtNYXAoKTtcbnZhciBfX2FjY2Vzc0NoZWNrID0gKG9iaiwgbWVtYmVyLCBtc2cpID0+IHtcbiAgaWYgKCFtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBcIiArIG1zZyk7XG59O1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIik7XG4gIHJldHVybiBnZXR0ZXIgPyBnZXR0ZXIuY2FsbChvYmopIDogbWVtYmVyLmdldChvYmopO1xufTtcbnZhciBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiB7XG4gIGlmIChtZW1iZXIuaGFzKG9iaikpIHRocm93IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIik7XG4gIG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xufTtcbnZhciBfX3ByaXZhdGVTZXQgPSAob2JqLCBtZW1iZXIsIHZhbHVlLCBzZXR0ZXIpID0+IHtcbiAgX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpO1xuICBzZXR0ZXIgPyBzZXR0ZXIuY2FsbChvYmosIHZhbHVlKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgX2NsaWVudENvbmZpZywgX2h0dHBSZXF1ZXN0LCBfY2xpZW50Q29uZmlnMiwgX2h0dHBSZXF1ZXN0MjtcbmNvbnN0IF9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50ID0gY2xhc3MgX09ic2VydmFibGVTYW5pdHlDbGllbnQge1xuICBjb25zdHJ1Y3RvcihodHRwUmVxdWVzdCkge1xuICAgIGxldCBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRDb25maWc7XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9jbGllbnRDb25maWcsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9odHRwUmVxdWVzdCwgdm9pZCAwKTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgdGhpcy5saXN0ZW4gPSBfbGlzdGVuO1xuICAgIHRoaXMuY29uZmlnKGNvbmZpZyk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9odHRwUmVxdWVzdCwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuYXNzZXRzID0gbmV3IE9ic2VydmFibGVBc3NldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICAgIHRoaXMuZGF0YXNldHMgPSBuZXcgT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpKTtcbiAgICB0aGlzLnByb2plY3RzID0gbmV3IE9ic2VydmFibGVQcm9qZWN0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSk7XG4gICAgdGhpcy51c2VycyA9IG5ldyBPYnNlcnZhYmxlVXNlcnNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCkpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVNhbml0eUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgdGhpcy5jb25maWcoKSk7XG4gIH1cbiAgY29uZmlnKG5ld0NvbmZpZykge1xuICAgIGlmIChuZXdDb25maWcgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcpICYmIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnKS5hbGxvd1JlY29uZmlndXJlID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhpc3RpbmcgY2xpZW50IGluc3RhbmNlIGNhbm5vdCBiZSByZWNvbmZpZ3VyZWQgLSB1c2UgYHdpdGhDb25maWcobmV3Q29uZmlnKWAgdG8gcmV0dXJuIGEgbmV3IGNsaWVudFwiKTtcbiAgICB9XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9jbGllbnRDb25maWcsIGluaXRDb25maWcobmV3Q29uZmlnLCBfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZykgfHwge30pKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIHJldHVybiBuZXcgX09ic2VydmFibGVTYW5pdHlDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHtcbiAgICAgIC4uLnRoaXMuY29uZmlnKCksXG4gICAgICAuLi5uZXdDb25maWdcbiAgICB9KTtcbiAgfVxuICBmZXRjaChxdWVyeSwgcGFyYW1zKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHJldHVybiBfZmV0Y2godGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHNpbmdsZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gRG9jdW1lbnQgSUQgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50KGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9nZXREb2N1bWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgaWQsIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBkb2N1bWVudHMgaW4gb25lIHJlcXVlc3QuXG4gICAqIFNob3VsZCBiZSB1c2VkIHNwYXJpbmdseSAtIHBlcmZvcm1pbmcgYSBxdWVyeSBpcyB1c3VhbGx5IGEgYmV0dGVyIG9wdGlvbi5cbiAgICogVGhlIG9yZGVyL3Bvc2l0aW9uIG9mIGRvY3VtZW50cyBpcyBwcmVzZXJ2ZWQgYmFzZWQgb24gdGhlIG9yaWdpbmFsIGFycmF5IG9mIElEcy5cbiAgICogSWYgYW55IG9mIHRoZSBkb2N1bWVudHMgYXJlIG1pc3NpbmcsIHRoZXkgd2lsbCBiZSByZXBsYWNlZCBieSBhIGBudWxsYCBlbnRyeSBpbiB0aGUgcmV0dXJuZWQgYXJyYXlcbiAgICpcbiAgICogQHBhcmFtIGlkcyAtIERvY3VtZW50IElEcyB0byBmZXRjaFxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgZ2V0RG9jdW1lbnRzKGlkcywgb3B0aW9ucykge1xuICAgIHJldHVybiBfZ2V0RG9jdW1lbnRzKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBpZHMsIG9wdGlvbnMpO1xuICB9XG4gIGNyZWF0ZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBfY3JlYXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBkb2N1bWVudCwgXCJjcmVhdGVcIiwgb3B0aW9ucyk7XG4gIH1cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX2NyZWF0ZUlmTm90RXhpc3RzKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBkb2N1bWVudCwgb3B0aW9ucyk7XG4gIH1cbiAgY3JlYXRlT3JSZXBsYWNlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVPclJlcGxhY2UodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIGRvY3VtZW50LCBvcHRpb25zKTtcbiAgfVxuICBkZWxldGUoc2VsZWN0aW9uLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9kZWxldGUodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHNlbGVjdGlvbiwgb3B0aW9ucyk7XG4gIH1cbiAgbXV0YXRlKG9wZXJhdGlvbnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gX211dGF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0KSwgb3BlcmF0aW9ucywgb3B0aW9ucyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBidWlsZGFibGUgcGF0Y2ggb2Ygb3BlcmF0aW9ucyB0byBwZXJmb3JtXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3Rpb24gLSBEb2N1bWVudCBJRCwgYW4gYXJyYXkgb2YgZG9jdW1lbnQgSURzLCBvciBhbiBvYmplY3Qgd2l0aCBgcXVlcnlgIGFuZCBvcHRpb25hbCBgcGFyYW1zYCwgZGVmaW5pbmcgd2hpY2ggZG9jdW1lbnQocykgdG8gcGF0Y2hcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBvYmplY3Qgb2YgcGF0Y2ggb3BlcmF0aW9ucyB0byBpbml0aWFsaXplIHRoZSBwYXRjaCBpbnN0YW5jZSB3aXRoXG4gICAqIEByZXR1cm5zIFBhdGNoIGluc3RhbmNlIC0gY2FsbCBgLmNvbW1pdCgpYCB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb25zIGRlZmluZWRcbiAgICovXG4gIHBhdGNoKHNlbGVjdGlvbiwgb3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZVBhdGNoKHNlbGVjdGlvbiwgb3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyB0cmFuc2FjdGlvbiBvZiBtdXRhdGlvbnNcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbnMgLSBPcHRpb25hbCBhcnJheSBvZiBtdXRhdGlvbiBvcGVyYXRpb25zIHRvIGluaXRpYWxpemUgdGhlIHRyYW5zYWN0aW9uIGluc3RhbmNlIHdpdGhcbiAgICovXG4gIHRyYW5zYWN0aW9uKG9wZXJhdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGVUcmFuc2FjdGlvbihvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUGVyZm9ybSBhbiBIVFRQIHJlcXVlc3QgYWdhaW5zdCB0aGUgU2FuaXR5IEFQSVxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyAtIFJlcXVlc3Qgb3B0aW9uc1xuICAgKi9cbiAgcmVxdWVzdChvcHRpb25zKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGEgU2FuaXR5IEFQSSBVUkwgZm9yIHRoZSBVUkkgcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIHVyaSAtIFVSSS9wYXRoIHRvIGJ1aWxkIFVSTCBmb3JcbiAgICogQHBhcmFtIGNhblVzZUNkbiAtIFdoZXRoZXIgb3Igbm90IHRvIGFsbG93IHVzaW5nIHRoZSBBUEkgQ0ROIGZvciB0aGlzIHJvdXRlXG4gICAqL1xuICBnZXRVcmwodXJpLCBjYW5Vc2VDZG4pIHtcbiAgICByZXR1cm4gX2dldFVybCh0aGlzLCB1cmksIGNhblVzZUNkbik7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgZGF0YSBvcGVyYXRpb24gYW5kIHBhdGggcHJvdmlkZWRcbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiAtIERhdGEgb3BlcmF0aW9uIChlZyBgcXVlcnlgLCBgbXV0YXRlYCwgYGxpc3RlbmAgb3Igc2ltaWxhcilcbiAgICogQHBhcmFtIHBhdGggLSBQYXRoIHRvIGFwcGVuZCBhZnRlciB0aGUgb3BlcmF0aW9uXG4gICAqL1xuICBnZXREYXRhVXJsKG9wZXJhdGlvbiwgcGF0aCkge1xuICAgIHJldHVybiBfZ2V0RGF0YVVybCh0aGlzLCBvcGVyYXRpb24sIHBhdGgpO1xuICB9XG59O1xuX2NsaWVudENvbmZpZyA9IG5ldyBXZWFrTWFwKCk7XG5faHR0cFJlcXVlc3QgPSBuZXcgV2Vha01hcCgpO1xubGV0IE9ic2VydmFibGVTYW5pdHlDbGllbnQgPSBfT2JzZXJ2YWJsZVNhbml0eUNsaWVudDtcbmNvbnN0IF9TYW5pdHlDbGllbnQgPSBjbGFzcyBfU2FuaXR5Q2xpZW50IHtcbiAgY29uc3RydWN0b3IoaHR0cFJlcXVlc3QpIHtcbiAgICBsZXQgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0Q29uZmlnO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfY2xpZW50Q29uZmlnMiwgdm9pZCAwKTtcbiAgICBfX3ByaXZhdGVBZGQodGhpcywgX2h0dHBSZXF1ZXN0Miwgdm9pZCAwKTtcbiAgICAvKipcbiAgICAgKiBJbnN0YW5jZSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgdGhpcy5saXN0ZW4gPSBfbGlzdGVuO1xuICAgIHRoaXMuY29uZmlnKGNvbmZpZyk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9odHRwUmVxdWVzdDIsIGh0dHBSZXF1ZXN0KTtcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBBc3NldHNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKTtcbiAgICB0aGlzLmRhdGFzZXRzID0gbmV3IERhdGFzZXRzQ2xpZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSk7XG4gICAgdGhpcy5wcm9qZWN0cyA9IG5ldyBQcm9qZWN0c0NsaWVudCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MikpO1xuICAgIHRoaXMudXNlcnMgPSBuZXcgVXNlcnNDbGllbnQodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpKTtcbiAgICB0aGlzLm9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZVNhbml0eUNsaWVudChodHRwUmVxdWVzdCwgY29uZmlnKTtcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCAtIHJldHVybnMgYSBuZXcgaW5zdGFuY2VcbiAgICovXG4gIGNsb25lKCkge1xuICAgIHJldHVybiBuZXcgX1Nhbml0eUNsaWVudChfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLl9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMilcbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX2NsaWVudENvbmZpZzIpICYmIF9fcHJpdmF0ZUdldCh0aGlzLCBfY2xpZW50Q29uZmlnMikuYWxsb3dSZWNvbmZpZ3VyZSA9PT0gZmFsc2UpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4aXN0aW5nIGNsaWVudCBpbnN0YW5jZSBjYW5ub3QgYmUgcmVjb25maWd1cmVkIC0gdXNlIGB3aXRoQ29uZmlnKG5ld0NvbmZpZylgIHRvIHJldHVybiBhIG5ldyBjbGllbnRcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLm9ic2VydmFibGUpIHtcbiAgICAgIHRoaXMub2JzZXJ2YWJsZS5jb25maWcobmV3Q29uZmlnKTtcbiAgICB9XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9jbGllbnRDb25maWcyLCBpbml0Q29uZmlnKG5ld0NvbmZpZywgX19wcml2YXRlR2V0KHRoaXMsIF9jbGllbnRDb25maWcyKSB8fCB7fSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IHdpdGggYSBuZXcgKHBhcnRpYWwpIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBuZXdDb25maWcgLSBOZXcgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydGllcywgc2hhbGxvd2x5IG1lcmdlZCB3aXRoIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICovXG4gIHdpdGhDb25maWcobmV3Q29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBfU2FuaXR5Q2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwge1xuICAgICAgLi4udGhpcy5jb25maWcoKSxcbiAgICAgIC4uLm5ld0NvbmZpZ1xuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2ZldGNoKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgcXVlcnksIHBhcmFtcywgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBGZXRjaCBhIHNpbmdsZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBJRC5cbiAgICpcbiAgICogQHBhcmFtIGlkIC0gRG9jdW1lbnQgSUQgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50KGlkLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2dldERvY3VtZW50KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgaWQsIG9wdGlvbnMpKTtcbiAgfVxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgZG9jdW1lbnRzIGluIG9uZSByZXF1ZXN0LlxuICAgKiBTaG91bGQgYmUgdXNlZCBzcGFyaW5nbHkgLSBwZXJmb3JtaW5nIGEgcXVlcnkgaXMgdXN1YWxseSBhIGJldHRlciBvcHRpb24uXG4gICAqIFRoZSBvcmRlci9wb3NpdGlvbiBvZiBkb2N1bWVudHMgaXMgcHJlc2VydmVkIGJhc2VkIG9uIHRoZSBvcmlnaW5hbCBhcnJheSBvZiBJRHMuXG4gICAqIElmIGFueSBvZiB0aGUgZG9jdW1lbnRzIGFyZSBtaXNzaW5nLCB0aGV5IHdpbGwgYmUgcmVwbGFjZWQgYnkgYSBgbnVsbGAgZW50cnkgaW4gdGhlIHJldHVybmVkIGFycmF5XG4gICAqXG4gICAqIEBwYXJhbSBpZHMgLSBEb2N1bWVudCBJRHMgdG8gZmV0Y2hcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICovXG4gIGdldERvY3VtZW50cyhpZHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZ2V0RG9jdW1lbnRzKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgaWRzLCBvcHRpb25zKSk7XG4gIH1cbiAgY3JlYXRlKGRvY3VtZW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGxhc3RWYWx1ZUZyb20oX2NyZWF0ZSh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGRvY3VtZW50LCBcImNyZWF0ZVwiLCBvcHRpb25zKSk7XG4gIH1cbiAgY3JlYXRlSWZOb3RFeGlzdHMoZG9jdW1lbnQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfY3JlYXRlSWZOb3RFeGlzdHModGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBkb2N1bWVudCwgb3B0aW9ucykpO1xuICB9XG4gIGNyZWF0ZU9yUmVwbGFjZShkb2N1bWVudCwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9jcmVhdGVPclJlcGxhY2UodGhpcywgX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCBkb2N1bWVudCwgb3B0aW9ucykpO1xuICB9XG4gIGRlbGV0ZShzZWxlY3Rpb24sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfZGVsZXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgc2VsZWN0aW9uLCBvcHRpb25zKSk7XG4gIH1cbiAgbXV0YXRlKG9wZXJhdGlvbnMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbGFzdFZhbHVlRnJvbShfbXV0YXRlKHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgb3BlcmF0aW9ucywgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgYnVpbGRhYmxlIHBhdGNoIG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0aW9uIC0gRG9jdW1lbnQgSUQsIGFuIGFycmF5IG9mIGRvY3VtZW50IElEcywgb3IgYW4gb2JqZWN0IHdpdGggYHF1ZXJ5YCBhbmQgb3B0aW9uYWwgYHBhcmFtc2AsIGRlZmluaW5nIHdoaWNoIGRvY3VtZW50KHMpIHRvIHBhdGNoXG4gICAqIEBwYXJhbSBvcGVyYXRpb25zIC0gT3B0aW9uYWwgb2JqZWN0IG9mIHBhdGNoIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgcGF0Y2ggaW5zdGFuY2Ugd2l0aFxuICAgKiBAcmV0dXJucyBQYXRjaCBpbnN0YW5jZSAtIGNhbGwgYC5jb21taXQoKWAgdG8gcGVyZm9ybSB0aGUgb3BlcmF0aW9ucyBkZWZpbmVkXG4gICAqL1xuICBwYXRjaChkb2N1bWVudElkLCBvcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQYXRjaChkb2N1bWVudElkLCBvcGVyYXRpb25zLCB0aGlzKTtcbiAgfVxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHRyYW5zYWN0aW9uIG9mIG11dGF0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9ucyAtIE9wdGlvbmFsIGFycmF5IG9mIG11dGF0aW9uIG9wZXJhdGlvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdHJhbnNhY3Rpb24gaW5zdGFuY2Ugd2l0aFxuICAgKi9cbiAgdHJhbnNhY3Rpb24ob3BlcmF0aW9ucykge1xuICAgIHJldHVybiBuZXcgVHJhbnNhY3Rpb24ob3BlcmF0aW9ucywgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFBlcmZvcm0gYSByZXF1ZXN0IGFnYWluc3QgdGhlIFNhbml0eSBBUElcbiAgICogTk9URTogT25seSB1c2UgdGhpcyBmb3IgU2FuaXR5IEFQSSBlbmRwb2ludHMsIG5vdCBmb3IgeW91ciBvd24gQVBJcyFcbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQHJldHVybnMgUHJvbWlzZSByZXNvbHZpbmcgdG8gdGhlIHJlc3BvbnNlIGJvZHlcbiAgICovXG4gIHJlcXVlc3Qob3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9yZXF1ZXN0KHRoaXMsIF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwgb3B0aW9ucykpO1xuICB9XG4gIC8qKlxuICAgKiBQZXJmb3JtIGFuIEhUVFAgcmVxdWVzdCBhIGAvZGF0YWAgc3ViLWVuZHBvaW50XG4gICAqIE5PVEU6IENvbnNpZGVyZWQgaW50ZXJuYWwsIHRodXMgbWFya2VkIGFzIGRlcHJlY2F0ZWQuIFVzZSBgcmVxdWVzdGAgaW5zdGVhZC5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgLSBVc2UgYHJlcXVlc3QoKWAgb3IgeW91ciBvd24gSFRUUCBsaWJyYXJ5IGluc3RlYWRcbiAgICogQHBhcmFtIGVuZHBvaW50IC0gRW5kcG9pbnQgdG8gaGl0IChtdXRhdGUsIHF1ZXJ5IGV0YylcbiAgICogQHBhcmFtIGJvZHkgLSBSZXF1ZXN0IGJvZHlcbiAgICogQHBhcmFtIG9wdGlvbnMgLSBSZXF1ZXN0IG9wdGlvbnNcbiAgICogQGludGVybmFsXG4gICAqL1xuICBkYXRhUmVxdWVzdChlbmRwb2ludCwgYm9keSwgb3B0aW9ucykge1xuICAgIHJldHVybiBsYXN0VmFsdWVGcm9tKF9kYXRhUmVxdWVzdCh0aGlzLCBfX3ByaXZhdGVHZXQodGhpcywgX2h0dHBSZXF1ZXN0MiksIGVuZHBvaW50LCBib2R5LCBvcHRpb25zKSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhIFNhbml0eSBBUEkgVVJMIGZvciB0aGUgVVJJIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSB1cmkgLSBVUkkvcGF0aCB0byBidWlsZCBVUkwgZm9yXG4gICAqIEBwYXJhbSBjYW5Vc2VDZG4gLSBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyB1c2luZyB0aGUgQVBJIENETiBmb3IgdGhpcyByb3V0ZVxuICAgKi9cbiAgZ2V0VXJsKHVyaSwgY2FuVXNlQ2RuKSB7XG4gICAgcmV0dXJuIF9nZXRVcmwodGhpcywgdXJpLCBjYW5Vc2VDZG4pO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBTYW5pdHkgQVBJIFVSTCBmb3IgdGhlIGRhdGEgb3BlcmF0aW9uIGFuZCBwYXRoIHByb3ZpZGVkXG4gICAqXG4gICAqIEBwYXJhbSBvcGVyYXRpb24gLSBEYXRhIG9wZXJhdGlvbiAoZWcgYHF1ZXJ5YCwgYG11dGF0ZWAsIGBsaXN0ZW5gIG9yIHNpbWlsYXIpXG4gICAqIEBwYXJhbSBwYXRoIC0gUGF0aCB0byBhcHBlbmQgYWZ0ZXIgdGhlIG9wZXJhdGlvblxuICAgKi9cbiAgZ2V0RGF0YVVybChvcGVyYXRpb24sIHBhdGgpIHtcbiAgICByZXR1cm4gX2dldERhdGFVcmwodGhpcywgb3BlcmF0aW9uLCBwYXRoKTtcbiAgfVxufTtcbl9jbGllbnRDb25maWcyID0gbmV3IFdlYWtNYXAoKTtcbl9odHRwUmVxdWVzdDIgPSBuZXcgV2Vha01hcCgpO1xubGV0IFNhbml0eUNsaWVudCA9IF9TYW5pdHlDbGllbnQ7XG5mdW5jdGlvbiBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUsIENsYXNzQ29uc3RydWN0b3IpIHtcbiAgY29uc3QgaHR0cFJlcXVlc3QgPSBkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlLCB7fSk7XG4gIGNvbnN0IHJlcXVlc3RlciA9IGh0dHBSZXF1ZXN0LmRlZmF1bHRSZXF1ZXN0ZXI7XG4gIGNvbnN0IGNyZWF0ZUNsaWVudCA9IGNvbmZpZyA9PiBuZXcgQ2xhc3NDb25zdHJ1Y3RvcihkZWZpbmVIdHRwUmVxdWVzdChlbnZNaWRkbGV3YXJlLCB7XG4gICAgbWF4UmV0cmllczogY29uZmlnLm1heFJldHJpZXMsXG4gICAgcmV0cnlEZWxheTogY29uZmlnLnJldHJ5RGVsYXlcbiAgfSksIGNvbmZpZyk7XG4gIHJldHVybiB7XG4gICAgcmVxdWVzdGVyLFxuICAgIGNyZWF0ZUNsaWVudFxuICB9O1xufVxudmFyIGVudk1pZGRsZXdhcmUgPSBbXTtcbmV4cG9ydCB7IEJhc2VQYXRjaCwgQmFzZVRyYW5zYWN0aW9uLCBDbGllbnRFcnJvciwgT2JzZXJ2YWJsZVBhdGNoLCBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50LCBPYnNlcnZhYmxlVHJhbnNhY3Rpb24sIFBhdGNoLCBTYW5pdHlDbGllbnQsIFNlcnZlckVycm9yLCBUcmFuc2FjdGlvbiwgZGVmYXVsdENvbmZpZywgZGVmaW5lQ3JlYXRlQ2xpZW50RXhwb3J0cywgZW52TWlkZGxld2FyZSwgcHJpbnROb0RlZmF1bHRFeHBvcnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJNaWRkbGV3YXJlLU1hZkI1VG1JLmpzLm1hcFxuIl0sIm5hbWVzIjpbImdldEl0IiwicmV0cnkiLCJqc29uUmVxdWVzdCIsImpzb25SZXNwb25zZSIsInByb2dyZXNzIiwib2JzZXJ2YWJsZSIsIk9ic2VydmFibGUiLCJsYXN0VmFsdWVGcm9tIiwibWFwIiwiZmlsdGVyIiwiTUFYX0lURU1TX0lOX0VSUk9SX01FU1NBR0UiLCJDbGllbnRFcnJvciIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJyZXMiLCJwcm9wcyIsImV4dHJhY3RFcnJvclByb3BzIiwibWVzc2FnZSIsInN0YXR1c0NvZGUiLCJPYmplY3QiLCJhc3NpZ24iLCJTZXJ2ZXJFcnJvciIsImJvZHkiLCJyZXNwb25zZSIsInJlc3BvbnNlQm9keSIsInN0cmluZ2lmeUJvZHkiLCJkZXRhaWxzIiwiZXJyb3IiLCJjb25jYXQiLCJpc011dGF0aW9uRXJyb3IiLCJhbGxJdGVtcyIsIml0ZW1zIiwic2xpY2UiLCJpdGVtIiwiX2EiLCJkZXNjcmlwdGlvbiIsIkJvb2xlYW4iLCJpdGVtc1N0ciIsImxlbmd0aCIsImpvaW4iLCJodHRwRXJyb3JNZXNzYWdlIiwiaXNQbGFpbk9iamVjdCIsInR5cGUiLCJvYmoiLCJBcnJheSIsImlzQXJyYXkiLCJzdGF0dXNNZXNzYWdlIiwibWV0aG9kIiwidXJsIiwiY29udGVudFR5cGUiLCJoZWFkZXJzIiwidG9Mb3dlckNhc2UiLCJpc0pzb24iLCJpbmRleE9mIiwiSlNPTiIsInN0cmluZ2lmeSIsImh0dHBFcnJvciIsIm9uUmVzcG9uc2UiLCJwcmludFdhcm5pbmdzIiwid2FybiIsIndhcm5pbmdzIiwiZm9yRWFjaCIsIm1zZyIsImNvbnNvbGUiLCJkZWZpbmVIdHRwUmVxdWVzdCIsImVudk1pZGRsZXdhcmUiLCJfcmVmIiwibWF4UmV0cmllcyIsInJldHJ5RGVsYXkiLCJyZXF1ZXN0Iiwic2hvdWxkUmV0cnkiLCJpbXBsZW1lbnRhdGlvbiIsImh0dHBSZXF1ZXN0Iiwib3B0aW9ucyIsInJlcXVlc3RlciIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsIm1heFJlZGlyZWN0cyIsImRlZmF1bHRSZXF1ZXN0ZXIiLCJlcnIiLCJhdHRlbXB0IiwiaXNTYWZlIiwidXJpIiwiaXNRdWVyeSIsInN0YXJ0c1dpdGgiLCJpc1JldHJpYWJsZVJlc3BvbnNlIiwiZ2V0U2VsZWN0aW9uIiwic2VsIiwiaWQiLCJxdWVyeSIsInBhcmFtcyIsInNlbGVjdGlvbk9wdHMiLCJWQUxJRF9BU1NFVF9UWVBFUyIsIlZBTElEX0lOU0VSVF9MT0NBVElPTlMiLCJkYXRhc2V0IiwibmFtZSIsInRlc3QiLCJwcm9qZWN0SWQiLCJ2YWxpZGF0ZUFzc2V0VHlwZSIsInZhbGlkYXRlT2JqZWN0Iiwib3AiLCJ2YWwiLCJ2YWxpZGF0ZURvY3VtZW50SWQiLCJpbmNsdWRlcyIsInJlcXVpcmVEb2N1bWVudElkIiwiZG9jIiwiX2lkIiwidmFsaWRhdGVJbnNlcnQiLCJhdCIsInNlbGVjdG9yIiwic2lnbmF0dXJlIiwidmFsaWQiLCJsb2MiLCJoYXNEYXRhc2V0IiwiY29uZmlnIiwicmVxdWVzdFRhZyIsInRhZyIsIl9fYWNjZXNzQ2hlY2skNiIsIm1lbWJlciIsImhhcyIsIlR5cGVFcnJvciIsIl9fcHJpdmF0ZUdldCQ2IiwiZ2V0dGVyIiwiY2FsbCIsImdldCIsIl9fcHJpdmF0ZUFkZCQ2IiwidmFsdWUiLCJXZWFrU2V0IiwiYWRkIiwic2V0IiwiX19wcml2YXRlU2V0JDYiLCJzZXR0ZXIiLCJfY2xpZW50JDUiLCJfY2xpZW50MiQ1IiwiQmFzZVBhdGNoIiwic2VsZWN0aW9uIiwib3BlcmF0aW9ucyIsImF0dHJzIiwiX2Fzc2lnbiIsInNldElmTWlzc2luZyIsImRpZmZNYXRjaFBhdGNoIiwidW5zZXQiLCJpbmMiLCJkZWMiLCJpbnNlcnQiLCJhcHBlbmQiLCJwcmVwZW5kIiwic3BsaWNlIiwic3RhcnQiLCJkZWxldGVDb3VudCIsImRlbEFsbCIsInN0YXJ0SW5kZXgiLCJkZWxDb3VudCIsIk1hdGgiLCJtYXgiLCJkZWxSYW5nZSIsInJhbmdlU2VsZWN0b3IiLCJpZlJldmlzaW9uSWQiLCJyZXYiLCJpZlJldmlzaW9uSUQiLCJzZXJpYWxpemUiLCJ0b0pTT04iLCJyZXNldCIsIm1lcmdlIiwiX3NldCIsIl9PYnNlcnZhYmxlUGF0Y2giLCJjbGllbnQiLCJjbG9uZSIsImNvbW1pdCIsInJldHVybkZpcnN0Iiwib3B0cyIsInJldHVybkRvY3VtZW50cyIsIm11dGF0ZSIsInBhdGNoIiwiV2Vha01hcCIsIk9ic2VydmFibGVQYXRjaCIsIl9QYXRjaCIsIlBhdGNoIiwiX19hY2Nlc3NDaGVjayQ1IiwiX19wcml2YXRlR2V0JDUiLCJfX3ByaXZhdGVBZGQkNSIsIl9fcHJpdmF0ZVNldCQ1IiwiX2NsaWVudCQ0IiwiX2NsaWVudDIkNCIsImRlZmF1bHRNdXRhdGVPcHRpb25zIiwiQmFzZVRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb25JZCIsInRyeElkIiwiY3JlYXRlIiwiX2FkZCIsImNyZWF0ZUlmTm90RXhpc3RzIiwiY3JlYXRlT3JSZXBsYWNlIiwiZGVsZXRlIiwiZG9jdW1lbnRJZCIsIm11dCIsInB1c2giLCJfVHJhbnNhY3Rpb24iLCJwYXRjaE9yRG9jdW1lbnRJZCIsInBhdGNoT3BzIiwiaXNCdWlsZGVyIiwiaXNQYXRjaCIsIlRyYW5zYWN0aW9uIiwiX09ic2VydmFibGVUcmFuc2FjdGlvbiIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIkJBU0VfVVJMIiwiZ2VuZXJhdGVIZWxwVXJsIiwic2x1ZyIsIm9uY2UiLCJmbiIsImRpZENhbGwiLCJyZXR1cm5WYWx1ZSIsImNyZWF0ZVdhcm5pbmdQcmludGVyIiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwicHJpbnRDZG5XYXJuaW5nIiwicHJpbnRDZG5QcmV2aWV3RHJhZnRzV2FybmluZyIsInByaW50QnJvd3NlclRva2VuV2FybmluZyIsInByaW50Tm9BcGlWZXJzaW9uU3BlY2lmaWVkV2FybmluZyIsInByaW50Tm9EZWZhdWx0RXhwb3J0IiwiZGVmYXVsdENkbkhvc3QiLCJkZWZhdWx0Q29uZmlnIiwiYXBpSG9zdCIsImFwaVZlcnNpb24iLCJ1c2VQcm9qZWN0SG9zdG5hbWUiLCJMT0NBTEhPU1RTIiwiaXNMb2NhbCIsImhvc3QiLCJ2YWxpZGF0ZUFwaVZlcnNpb24iLCJ2YWxpZGF0ZUFwaVZlcnNpb24yIiwiYXBpRGF0ZSIsIkRhdGUiLCJhcGlWZXJzaW9uVmFsaWQiLCJnZXRUaW1lIiwidmFsaWRhdGVBcGlQZXJzcGVjdGl2ZSIsInZhbGlkYXRlQXBpUGVyc3BlY3RpdmUyIiwicGVyc3BlY3RpdmUiLCJpbml0Q29uZmlnIiwicHJldkNvbmZpZyIsInNwZWNpZmllZENvbmZpZyIsIm5ld0NvbmZpZyIsInByb2plY3RCYXNlZCIsIlByb21pc2UiLCJoZWxwVXJsIiwiaXNCcm93c2VyIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImlzTG9jYWxob3N0IiwidG9rZW4iLCJpZ25vcmVCcm93c2VyVG9rZW5XYXJuaW5nIiwidXNlQ2RuIiwicmVxdWVzdFRhZ1ByZWZpeCIsInJlcGxhY2UiLCJpc0RlZmF1bHRBcGkiLCJ3aXRoQ3JlZGVudGlhbHMiLCJob3N0UGFydHMiLCJzcGxpdCIsInByb3RvY29sIiwiY2RuSG9zdCIsImNkblVybCIsInByb2plY3RIZWFkZXIiLCJyZXF1ZXN0T3B0aW9ucyIsIm92ZXJyaWRlcyIsIkF1dGhvcml6YXRpb24iLCJ1c2VHbG9iYWxBcGkiLCJ0aW1lb3V0IiwicHJveHkiLCJqc29uIiwiZmV0Y2giLCJlbmNvZGVRdWVyeVN0cmluZyIsIl9yZWYyIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwia2V5IiwiZW50cmllcyIsImV4Y2x1ZGVGYWxzZXkiLCJwYXJhbSIsImRlZlZhbHVlIiwiZ2V0TXV0YXRpb25RdWVyeSIsImRyeVJ1biIsInJldHVybklkcyIsInZpc2liaWxpdHkiLCJhdXRvR2VuZXJhdGVBcnJheUtleXMiLCJza2lwQ3Jvc3NEYXRhc2V0UmVmZXJlbmNlVmFsaWRhdGlvbiIsImlzUmVzcG9uc2UiLCJldmVudCIsImdldEJvZHkiLCJpbmRleEJ5IiwiZG9jcyIsImF0dHIiLCJyZWR1Y2UiLCJpbmRleGVkIiwiZ2V0UXVlcnlTaXplTGltaXQiLCJfZmV0Y2giLCJtYXBSZXNwb25zZSIsImZpbHRlclJlc3BvbnNlIiwicmVzdWx0IiwiY2FjaGUiLCJuZXh0IiwidXNlQWJvcnRTaWduYWwiLCJzaWduYWwiLCJyZXFPcHRzIiwiX2RhdGFSZXF1ZXN0IiwicGlwZSIsIl9nZXREb2N1bWVudCIsIl9nZXREYXRhVXJsIiwiX3JlcXVlc3RPYnNlcnZhYmxlIiwiZG9jdW1lbnRzIiwiX2dldERvY3VtZW50cyIsImlkcyIsIl9jcmVhdGVJZk5vdEV4aXN0cyIsIl9jcmVhdGUiLCJfY3JlYXRlT3JSZXBsYWNlIiwiX2RlbGV0ZSIsIm11dGF0aW9ucyIsIl9tdXRhdGUiLCJtdXRzIiwiZW5kcG9pbnQiLCJpc011dGF0aW9uIiwic3RyUXVlcnkiLCJ1c2VHZXQiLCJzdHJpbmdRdWVyeSIsInJlcU9wdGlvbnMiLCJyZXN1bHRTb3VyY2VNYXAiLCJjYW5Vc2VDZG4iLCJyZXN1bHRzIiwiZG9jdW1lbnQiLCJtdXRhdGlvbiIsIl9nZXRVcmwiLCJzdWJzY3JpYmVyIiwic3Vic2NyaWJlIiwiX3dpdGhBYm9ydFNpZ25hbCIsIl9yZXF1ZXN0Iiwib3BlcmF0aW9uIiwicGF0aCIsImNhdGFsb2ciLCJiYXNlVXJpIiwiYmFzZSIsImlucHV0Iiwib2JzZXJ2ZXIiLCJhYm9ydCIsIl9jcmVhdGVBYm9ydEVycm9yIiwiYWJvcnRlZCIsInN1YnNjcmlwdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidW5zdWJzY3JpYmUiLCJpc0RvbUV4Y2VwdGlvblN1cHBvcnRlZCIsImdsb2JhbFRoaXMiLCJET01FeGNlcHRpb24iLCJfYiIsInJlYXNvbiIsIl9fYWNjZXNzQ2hlY2skNCIsIl9fcHJpdmF0ZUdldCQ0IiwiX19wcml2YXRlQWRkJDQiLCJfX3ByaXZhdGVTZXQkNCIsIl9jbGllbnQkMyIsIl9odHRwUmVxdWVzdCQ0IiwiX2NsaWVudDIkMyIsIl9odHRwUmVxdWVzdDIkNCIsIk9ic2VydmFibGVBc3NldHNDbGllbnQiLCJ1cGxvYWQiLCJhc3NldFR5cGUiLCJfdXBsb2FkIiwiQXNzZXRzQ2xpZW50IiwibWV0YSIsImV4dHJhY3QiLCJhc3NldEVuZHBvaW50Iiwib3B0aW9uc0Zyb21GaWxlIiwibGFiZWwiLCJ0aXRsZSIsImNyZWRpdExpbmUiLCJmaWxlbmFtZSIsInNvdXJjZSIsInNvdXJjZUlkIiwic291cmNlTmFtZSIsInNvdXJjZVVybCIsImZpbGUiLCJGaWxlIiwicHJlc2VydmVGaWxlbmFtZSIsImRlZmF1bHRzIiwia2V5cyIsInRhcmdldCIsInByb3AiLCJwaWNrIiwiTUFYX1VSTF9MRU5HVEgiLCJwb3NzaWJsZU9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImluY2x1ZGVSZXN1bHQiLCJfbGlzdGVuIiwibGlzdGVuT3B0cyIsInFzIiwibGlzdGVuRm9yIiwiZXZlbnRzIiwic2hvdWxkRW1pdFJlY29ubmVjdCIsImVzT3B0aW9ucyIsImVzIiwiZ2V0RXZlbnRTb3VyY2UiLCJ0aGVuIiwiZXZlbnRTb3VyY2UiLCJjYXRjaCIsInN0b3AiLCJyZWNvbm5lY3RUaW1lciIsInN0b3BwZWQiLCJvbkVycm9yIiwiZW1pdFJlY29ubmVjdCIsInJlYWR5U3RhdGUiLCJDTE9TRUQiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwib3BlbiIsIm9uQ2hhbm5lbEVycm9yIiwiY29vZXJjZUVycm9yIiwib25NZXNzYWdlIiwiZXZ0IiwicGFyc2VFdmVudCIsIm9uRGlzY29ubmVjdCIsImNvbXBsZXRlIiwiY2xvc2UiLCJkZWZhdWx0IiwiRXZlbnRTb3VyY2UiLCJldnMiLCJkYXRhIiwicGFyc2UiLCJleHRyYWN0RXJyb3JNZXNzYWdlIiwiX19hY2Nlc3NDaGVjayQzIiwiX19wcml2YXRlR2V0JDMiLCJfX3ByaXZhdGVBZGQkMyIsIl9fcHJpdmF0ZVNldCQzIiwiX2NsaWVudCQyIiwiX2h0dHBSZXF1ZXN0JDMiLCJfY2xpZW50MiQyIiwiX2h0dHBSZXF1ZXN0MiQzIiwiT2JzZXJ2YWJsZURhdGFzZXRzQ2xpZW50IiwiX21vZGlmeSIsImVkaXQiLCJsaXN0IiwiRGF0YXNldHNDbGllbnQiLCJfX2FjY2Vzc0NoZWNrJDIiLCJfX3ByaXZhdGVHZXQkMiIsIl9fcHJpdmF0ZUFkZCQyIiwiX19wcml2YXRlU2V0JDIiLCJfY2xpZW50JDEiLCJfaHR0cFJlcXVlc3QkMiIsIl9jbGllbnQyJDEiLCJfaHR0cFJlcXVlc3QyJDIiLCJPYnNlcnZhYmxlUHJvamVjdHNDbGllbnQiLCJpbmNsdWRlTWVtYmVycyIsImdldEJ5SWQiLCJQcm9qZWN0c0NsaWVudCIsIl9fYWNjZXNzQ2hlY2skMSIsIl9fcHJpdmF0ZUdldCQxIiwiX19wcml2YXRlQWRkJDEiLCJfX3ByaXZhdGVTZXQkMSIsIl9jbGllbnQiLCJfaHR0cFJlcXVlc3QkMSIsIl9jbGllbnQyIiwiX2h0dHBSZXF1ZXN0MiQxIiwiT2JzZXJ2YWJsZVVzZXJzQ2xpZW50IiwiVXNlcnNDbGllbnQiLCJfX2FjY2Vzc0NoZWNrIiwiX19wcml2YXRlR2V0IiwiX19wcml2YXRlQWRkIiwiX19wcml2YXRlU2V0IiwiX2NsaWVudENvbmZpZyIsIl9odHRwUmVxdWVzdCIsIl9jbGllbnRDb25maWcyIiwiX2h0dHBSZXF1ZXN0MiIsIl9PYnNlcnZhYmxlU2FuaXR5Q2xpZW50IiwibGlzdGVuIiwiYXNzZXRzIiwiZGF0YXNldHMiLCJwcm9qZWN0cyIsInVzZXJzIiwiYWxsb3dSZWNvbmZpZ3VyZSIsIndpdGhDb25maWciLCJnZXREb2N1bWVudCIsImdldERvY3VtZW50cyIsInRyYW5zYWN0aW9uIiwiZ2V0VXJsIiwiZ2V0RGF0YVVybCIsIk9ic2VydmFibGVTYW5pdHlDbGllbnQiLCJfU2FuaXR5Q2xpZW50IiwiZGF0YVJlcXVlc3QiLCJTYW5pdHlDbGllbnQiLCJkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzIiwiQ2xhc3NDb25zdHJ1Y3RvciIsImNyZWF0ZUNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-MafB5TmI.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/index.browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@sanity/client/dist/index.browser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.BasePatch),\n/* harmony export */   BaseTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction),\n/* harmony export */   ClientError: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ClientError),\n/* harmony export */   ObservablePatch: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient),\n/* harmony export */   ObservableTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction),\n/* harmony export */   Patch: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.Patch),\n/* harmony export */   SanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient),\n/* harmony export */   ServerError: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ServerError),\n/* harmony export */   Transaction: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   \"default\": () => (/* binding */ deprecatedCreateClient),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_1__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_1__.environment)\n/* harmony export */ });\n/* harmony import */ var _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks/browserMiddleware-MafB5TmI.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-MafB5TmI.js\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n\n\n\nfunction defineDeprecatedCreateClient(createClient) {\n    return function deprecatedCreateClient(config) {\n        (0,_chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.printNoDefaultExport)();\n        return createClient(config);\n    };\n}\nconst exp = (0,_chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.defineCreateClientExports)(_chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.envMiddleware, _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\nconst deprecatedCreateClient = defineDeprecatedCreateClient(createClient);\n //# sourceMappingURL=index.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9pbmRleC5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVJO0FBQzREO0FBQ3ZHO0FBQzVGLFNBQVNpQiw2QkFBNkJDLFlBQVk7SUFDaEQsT0FBTyxTQUFTQyx1QkFBdUJDLE1BQU07UUFDM0NwQiwyRkFBb0JBO1FBQ3BCLE9BQU9rQixhQUFhRTtJQUN0QjtBQUNGO0FBQ0EsTUFBTUMsTUFBTXBCLGdHQUF5QkEsQ0FBQ0UsZ0ZBQWFBLEVBQUVELCtFQUFZQTtBQUNqRSxNQUFNb0IsWUFBWUQsSUFBSUMsU0FBUztBQUMvQixNQUFNSixlQUFlRyxJQUFJSCxZQUFZO0FBQ3JDLE1BQU1DLHlCQUF5QkYsNkJBQTZCQztBQUN3QixDQUNwRix5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qb2huLy4vbm9kZV9tb2R1bGVzL0BzYW5pdHkvY2xpZW50L2Rpc3QvaW5kZXguYnJvd3Nlci5qcz85OThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByaW50Tm9EZWZhdWx0RXhwb3J0LCBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzLCBTYW5pdHlDbGllbnQsIGVudk1pZGRsZXdhcmUgfSBmcm9tICcuL19jaHVua3MvYnJvd3Nlck1pZGRsZXdhcmUtTWFmQjVUbUkuanMnO1xuZXhwb3J0IHsgQmFzZVBhdGNoLCBCYXNlVHJhbnNhY3Rpb24sIENsaWVudEVycm9yLCBPYnNlcnZhYmxlUGF0Y2gsIE9ic2VydmFibGVTYW5pdHlDbGllbnQsIE9ic2VydmFibGVUcmFuc2FjdGlvbiwgUGF0Y2gsIFNlcnZlckVycm9yLCBUcmFuc2FjdGlvbiB9IGZyb20gJy4vX2NodW5rcy9icm93c2VyTWlkZGxld2FyZS1NYWZCNVRtSS5qcyc7XG5leHBvcnQgeyBhZGFwdGVyIGFzIHVuc3RhYmxlX19hZGFwdGVyLCBlbnZpcm9ubWVudCBhcyB1bnN0YWJsZV9fZW52aXJvbm1lbnQgfSBmcm9tICdnZXQtaXQnO1xuZnVuY3Rpb24gZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudChjcmVhdGVDbGllbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGRlcHJlY2F0ZWRDcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gICAgcHJpbnROb0RlZmF1bHRFeHBvcnQoKTtcbiAgICByZXR1cm4gY3JlYXRlQ2xpZW50KGNvbmZpZyk7XG4gIH07XG59XG5jb25zdCBleHAgPSBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUsIFNhbml0eUNsaWVudCk7XG5jb25zdCByZXF1ZXN0ZXIgPSBleHAucmVxdWVzdGVyO1xuY29uc3QgY3JlYXRlQ2xpZW50ID0gZXhwLmNyZWF0ZUNsaWVudDtcbmNvbnN0IGRlcHJlY2F0ZWRDcmVhdGVDbGllbnQgPSBkZWZpbmVEZXByZWNhdGVkQ3JlYXRlQ2xpZW50KGNyZWF0ZUNsaWVudCk7XG5leHBvcnQgeyBTYW5pdHlDbGllbnQsIGNyZWF0ZUNsaWVudCwgZGVwcmVjYXRlZENyZWF0ZUNsaWVudCBhcyBkZWZhdWx0LCByZXF1ZXN0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmJyb3dzZXIuanMubWFwXG4iXSwibmFtZXMiOlsicHJpbnROb0RlZmF1bHRFeHBvcnQiLCJkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzIiwiU2FuaXR5Q2xpZW50IiwiZW52TWlkZGxld2FyZSIsIkJhc2VQYXRjaCIsIkJhc2VUcmFuc2FjdGlvbiIsIkNsaWVudEVycm9yIiwiT2JzZXJ2YWJsZVBhdGNoIiwiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsIk9ic2VydmFibGVUcmFuc2FjdGlvbiIsIlBhdGNoIiwiU2VydmVyRXJyb3IiLCJUcmFuc2FjdGlvbiIsImFkYXB0ZXIiLCJ1bnN0YWJsZV9fYWRhcHRlciIsImVudmlyb25tZW50IiwidW5zdGFibGVfX2Vudmlyb25tZW50IiwiZGVmaW5lRGVwcmVjYXRlZENyZWF0ZUNsaWVudCIsImNyZWF0ZUNsaWVudCIsImRlcHJlY2F0ZWRDcmVhdGVDbGllbnQiLCJjb25maWciLCJleHAiLCJyZXF1ZXN0ZXIiLCJkZWZhdWx0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/index.browser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/client/dist/stega.browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@sanity/client/dist/stega.browser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasePatch: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.BasePatch),\n/* harmony export */   BaseTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.BaseTransaction),\n/* harmony export */   ClientError: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ClientError),\n/* harmony export */   ObservablePatch: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservablePatch),\n/* harmony export */   ObservableSanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient),\n/* harmony export */   ObservableSanityStegaClient: () => (/* binding */ ObservableSanityStegaClient),\n/* harmony export */   ObservableTransaction: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservableTransaction),\n/* harmony export */   Patch: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.Patch),\n/* harmony export */   SanityClient: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient),\n/* harmony export */   SanityStegaClient: () => (/* binding */ SanityStegaClient),\n/* harmony export */   ServerError: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ServerError),\n/* harmony export */   Transaction: () => (/* reexport safe */ _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.Transaction),\n/* harmony export */   createClient: () => (/* binding */ createClient),\n/* harmony export */   encodeIntoResult: () => (/* binding */ encodeIntoResult),\n/* harmony export */   requester: () => (/* binding */ requester),\n/* harmony export */   stegaEncodeSourceMap: () => (/* binding */ stegaEncodeSourceMap),\n/* harmony export */   unstable__adapter: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_2__.adapter),\n/* harmony export */   unstable__environment: () => (/* reexport safe */ get_it__WEBPACK_IMPORTED_MODULE_2__.environment),\n/* harmony export */   vercelStegaCleanAll: () => (/* binding */ vercelStegaCleanAll)\n/* harmony export */ });\n/* harmony import */ var _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_chunks/browserMiddleware-MafB5TmI.js */ \"(rsc)/./node_modules/@sanity/client/dist/_chunks/browserMiddleware-MafB5TmI.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ \"(rsc)/./node_modules/rxjs/dist/cjs/operators/index.js\");\n/* harmony import */ var _vercel_stega__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @vercel/stega */ \"(rsc)/./node_modules/@vercel/stega/dist/index.mjs\");\n/* harmony import */ var get_it__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! get-it */ \"(rsc)/./node_modules/get-it/dist/index.react-server.js\");\n\n\n\n\n\nconst defaultStegaConfig = {\n    enabled: false,\n    filter: (props)=>props.filterDefault(props)\n};\nfunction splitConfig(config) {\n    const { stega = {}, ...clientConfig } = config;\n    return {\n        clientConfig,\n        stegaConfig: typeof stega === \"boolean\" ? {\n            enabled: stega\n        } : stega\n    };\n}\nconst initStegaConfig = (config, prevConfig)=>{\n    const specifiedConfig = Object.assign({}, prevConfig, config);\n    const newConfig = Object.assign({}, defaultStegaConfig, specifiedConfig);\n    if (\"encodeSourceMap\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client/stega'. Did you mean 'enabled'?\");\n    }\n    if (\"encodeSourceMapAtPath\" in newConfig) {\n        throw new Error(\"It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client/stega'. Did you mean 'filter'?\");\n    }\n    if (typeof newConfig.enabled !== \"boolean\") {\n        throw new Error(\"config.enabled must be a boolean, received \".concat(newConfig.enabled));\n    }\n    if (newConfig.enabled && newConfig.studioUrl === void 0) {\n        throw new Error(\"config.studioUrl must be defined when config.enabled is true\");\n    }\n    if (newConfig.enabled && typeof newConfig.studioUrl !== \"string\" && typeof newConfig.studioUrl !== \"function\") {\n        throw new Error(\"config.studioUrl must be a string or a function, received \".concat(newConfig.studioUrl));\n    }\n    return newConfig;\n};\nconst DRAFTS_PREFIX = \"drafts.\";\nfunction getPublishedId(id) {\n    if (id.startsWith(DRAFTS_PREFIX)) {\n        return id.slice(DRAFTS_PREFIX.length);\n    }\n    return id;\n}\nconst reKeySegment = /_key\\s*==\\s*['\"](.*)['\"]/;\nfunction isKeySegment(segment) {\n    if (typeof segment === \"string\") {\n        return reKeySegment.test(segment.trim());\n    }\n    return typeof segment === \"object\" && \"_key\" in segment;\n}\nfunction toString(path) {\n    if (!Array.isArray(path)) {\n        throw new Error(\"Path is not an array\");\n    }\n    return path.reduce((target, segment, i)=>{\n        const segmentType = typeof segment;\n        if (segmentType === \"number\") {\n            return \"\".concat(target, \"[\").concat(segment, \"]\");\n        }\n        if (segmentType === \"string\") {\n            const separator = i === 0 ? \"\" : \".\";\n            return \"\".concat(target).concat(separator).concat(segment);\n        }\n        if (isKeySegment(segment) && segment._key) {\n            return \"\".concat(target, '[_key==\"').concat(segment._key, '\"]');\n        }\n        if (Array.isArray(segment)) {\n            const [from, to] = segment;\n            return \"\".concat(target, \"[\").concat(from, \":\").concat(to, \"]\");\n        }\n        throw new Error(\"Unsupported path segment `\".concat(JSON.stringify(segment), \"`\"));\n    }, \"\");\n}\nconst ESCAPE = {\n    \"\\f\": \"\\\\f\",\n    \"\\n\": \"\\\\n\",\n    \"\\r\": \"\\\\r\",\n    \"\t\": \"\\\\t\",\n    \"'\": \"\\\\'\",\n    \"\\\\\": \"\\\\\\\\\"\n};\nconst UNESCAPE = {\n    \"\\\\f\": \"\\f\",\n    \"\\\\n\": \"\\n\",\n    \"\\\\r\": \"\\r\",\n    \"\\\\t\": \"\t\",\n    \"\\\\'\": \"'\",\n    \"\\\\\\\\\": \"\\\\\"\n};\nfunction jsonPath(path) {\n    return \"$\".concat(path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            const escapedKey = segment.replace(/[\\f\\n\\r\\t'\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"['\".concat(escapedKey, \"']\");\n        }\n        if (typeof segment === \"number\") {\n            return \"[\".concat(segment, \"]\");\n        }\n        if (segment._key !== \"\") {\n            const escapedKey = segment._key.replace(/['\\\\]/g, (match)=>{\n                return ESCAPE[match];\n            });\n            return \"[?(@._key=='\".concat(escapedKey, \"')]\");\n        }\n        return \"[\".concat(segment._index, \"]\");\n    }).join(\"\"));\n}\nfunction parseJsonPath(path) {\n    const parsed = [];\n    const parseRe = /\\['(.*?)'\\]|\\[(\\d+)\\]|\\[\\?\\(@\\._key=='(.*?)'\\)\\]/g;\n    let match;\n    while((match = parseRe.exec(path)) !== null){\n        if (match[1] !== void 0) {\n            const key = match[1].replace(/\\\\(\\\\|f|n|r|t|')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push(key);\n            continue;\n        }\n        if (match[2] !== void 0) {\n            parsed.push(parseInt(match[2], 10));\n            continue;\n        }\n        if (match[3] !== void 0) {\n            const _key = match[3].replace(/\\\\(\\\\')/g, (m)=>{\n                return UNESCAPE[m];\n            });\n            parsed.push({\n                _key,\n                _index: -1\n            });\n            continue;\n        }\n    }\n    return parsed;\n}\nfunction jsonPathToStudioPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._key !== \"\") {\n            return {\n                _key: segment._key\n            };\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction jsonPathToMappingPath(path) {\n    return path.map((segment)=>{\n        if (typeof segment === \"string\") {\n            return segment;\n        }\n        if (typeof segment === \"number\") {\n            return segment;\n        }\n        if (segment._index !== -1) {\n            return segment._index;\n        }\n        throw new Error(\"invalid segment:\".concat(JSON.stringify(segment)));\n    });\n}\nfunction createEditUrl(options) {\n    const { baseUrl, workspace: _workspace = \"default\", tool: _tool = \"default\", id: _id, type, path } = options;\n    if (!baseUrl) {\n        throw new Error(\"baseUrl is required\");\n    }\n    if (!path) {\n        throw new Error(\"path is required\");\n    }\n    if (!_id) {\n        throw new Error(\"id is required\");\n    }\n    if (baseUrl !== \"/\" && baseUrl.endsWith(\"/\")) {\n        throw new Error(\"baseUrl must not end with a slash\");\n    }\n    const workspace = _workspace === \"default\" ? void 0 : _workspace;\n    const tool = _tool === \"default\" ? void 0 : _tool;\n    const id = getPublishedId(_id);\n    const stringifiedPath = Array.isArray(path) ? toString(jsonPathToStudioPath(path)) : path;\n    const searchParams = new URLSearchParams({\n        baseUrl,\n        id,\n        type,\n        path: stringifiedPath\n    });\n    if (workspace) {\n        searchParams.set(\"workspace\", workspace);\n    }\n    if (tool) {\n        searchParams.set(\"tool\", tool);\n    }\n    const segments = [\n        baseUrl === \"/\" ? \"\" : baseUrl\n    ];\n    if (workspace) {\n        segments.push(workspace);\n    }\n    const routerParams = [\n        \"id=\".concat(id),\n        \"type=\".concat(type),\n        \"path=\".concat(encodeURIComponent(stringifiedPath))\n    ];\n    if (tool) {\n        routerParams.push(\"tool=\".concat(tool));\n    }\n    segments.push(\"intent\", \"edit\", \"\".concat(routerParams.join(\";\"), \"?\").concat(searchParams));\n    return segments.join(\"/\");\n}\nfunction resolveMapping(resultPath, csm) {\n    if (!(csm == null ? void 0 : csm.mappings)) {\n        return void 0;\n    }\n    const resultMappingPath = jsonPath(jsonPathToMappingPath(resultPath));\n    if (csm.mappings[resultMappingPath] !== void 0) {\n        return {\n            mapping: csm.mappings[resultMappingPath],\n            matchedPath: resultMappingPath,\n            pathSuffix: \"\"\n        };\n    }\n    const mappings = Object.entries(csm.mappings).filter((_ref)=>{\n        let [key] = _ref;\n        return resultMappingPath.startsWith(key);\n    }).sort((_ref2, _ref3)=>{\n        let [key1] = _ref2;\n        let [key2] = _ref3;\n        return key2.length - key1.length;\n    });\n    if (mappings.length == 0) {\n        return void 0;\n    }\n    const [matchedPath, mapping] = mappings[0];\n    const pathSuffix = resultMappingPath.substring(matchedPath.length);\n    return {\n        mapping,\n        matchedPath,\n        pathSuffix\n    };\n}\nfunction resolveStudioBaseRoute(studioUrl) {\n    let baseUrl = typeof studioUrl === \"string\" ? studioUrl : studioUrl.baseUrl;\n    if (baseUrl !== \"/\") {\n        baseUrl = baseUrl.replace(/\\/$/, \"\");\n    }\n    if (typeof studioUrl === \"string\") {\n        return {\n            baseUrl\n        };\n    }\n    return {\n        ...studioUrl,\n        baseUrl\n    };\n}\nfunction isArray(value) {\n    return value !== null && Array.isArray(value);\n}\nfunction isRecord(value) {\n    return typeof value === \"object\" && value !== null;\n}\nfunction walkMap(value, mappingFn) {\n    let path = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (isArray(value)) {\n        return value.map((v, idx)=>{\n            if (isRecord(v)) {\n                const _key = v[\"_key\"];\n                if (typeof _key === \"string\") {\n                    return walkMap(v, mappingFn, path.concat({\n                        _key,\n                        _index: idx\n                    }));\n                }\n            }\n            return walkMap(v, mappingFn, path.concat(idx));\n        });\n    }\n    if (isRecord(value)) {\n        return Object.fromEntries(Object.entries(value).map((_ref4)=>{\n            let [k, v] = _ref4;\n            return [\n                k,\n                walkMap(v, mappingFn, path.concat(k))\n            ];\n        }));\n    }\n    return mappingFn(value, path);\n}\nfunction encodeIntoResult(result, csm, encoder) {\n    return walkMap(result, (value, path)=>{\n        if (typeof value !== \"string\") {\n            return value;\n        }\n        const resolveMappingResult = resolveMapping(path, csm);\n        if (!resolveMappingResult) {\n            return value;\n        }\n        const { mapping, matchedPath } = resolveMappingResult;\n        if (mapping.type !== \"value\") {\n            return value;\n        }\n        if (mapping.source.type !== \"documentValue\") {\n            return value;\n        }\n        const sourceDocument = csm.documents[mapping.source.document];\n        const sourcePath = csm.paths[mapping.source.path];\n        const matchPathSegments = parseJsonPath(matchedPath);\n        const sourcePathSegments = parseJsonPath(sourcePath);\n        const fullSourceSegments = sourcePathSegments.concat(path.slice(matchPathSegments.length));\n        return encoder({\n            sourcePath: fullSourceSegments,\n            sourceDocument,\n            resultPath: path,\n            value\n        });\n    });\n}\nconst filterDefault = (_ref5)=>{\n    let { sourcePath, value } = _ref5;\n    if (isValidDate(value) || isValidURL(value)) {\n        return false;\n    }\n    const endPath = sourcePath.at(-1);\n    if (sourcePath.at(-2) === \"slug\" && endPath === \"current\") {\n        return false;\n    }\n    if (typeof endPath === \"string\" && endPath.startsWith(\"_\")) {\n        return false;\n    }\n    if (typeof endPath === \"number\" && sourcePath.at(-2) === \"marks\") {\n        return false;\n    }\n    if (endPath === \"href\" && typeof sourcePath.at(-2) === \"number\" && sourcePath.at(-3) === \"markDefs\") {\n        return false;\n    }\n    if (endPath === \"style\" || endPath === \"listItem\") {\n        return false;\n    }\n    if (sourcePath.some((path)=>path === \"meta\" || path === \"metadata\" || path === \"openGraph\" || path === \"seo\")) {\n        return false;\n    }\n    if (typeof endPath === \"string\" && denylist.has(endPath)) {\n        return false;\n    }\n    return true;\n};\nconst denylist = /* @__PURE__ */ new Set([\n    \"color\",\n    \"colour\",\n    \"currency\",\n    \"email\",\n    \"format\",\n    \"gid\",\n    \"hex\",\n    \"href\",\n    \"hsl\",\n    \"hsla\",\n    \"icon\",\n    \"id\",\n    \"index\",\n    \"key\",\n    \"language\",\n    \"layout\",\n    \"link\",\n    \"linkAction\",\n    \"locale\",\n    \"lqip\",\n    \"page\",\n    \"path\",\n    \"ref\",\n    \"rgb\",\n    \"rgba\",\n    \"route\",\n    \"secret\",\n    \"slug\",\n    \"status\",\n    \"tag\",\n    \"template\",\n    \"theme\",\n    \"type\",\n    \"unit\",\n    \"url\",\n    \"username\",\n    \"variant\",\n    \"website\"\n]);\nfunction isValidDate(dateString) {\n    return Number.isNaN(Number(dateString)) ? Boolean(Date.parse(dateString)) : false;\n}\nfunction isValidURL(url) {\n    try {\n        new URL(url, url.startsWith(\"/\") ? \"https://acme.com\" : void 0);\n    } catch  {\n        return false;\n    }\n    return true;\n}\nconst TRUNCATE_LENGTH = 20;\nfunction stegaEncodeSourceMap(result, resultSourceMap, config) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { filter, logger, enabled } = config;\n    if (!enabled) {\n        const msg = \"config.enabled must be true, don't call this function otherwise\";\n        (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    if (!resultSourceMap) {\n        (_b = logger == null ? void 0 : logger.error) == null ? void 0 : _b.call(logger, \"[@sanity/client/stega]: Missing Content Source Map from response body\", {\n            result,\n            resultSourceMap,\n            config\n        });\n        return result;\n    }\n    if (!config.studioUrl) {\n        const msg = \"config.studioUrl must be defined\";\n        (_c = logger == null ? void 0 : logger.error) == null ? void 0 : _c.call(logger, \"[@sanity/client/stega]: \".concat(msg), {\n            result,\n            resultSourceMap,\n            config\n        });\n        throw new TypeError(msg);\n    }\n    const report = {\n        encoded: [],\n        skipped: []\n    };\n    const resultWithStega = encodeIntoResult(result, resultSourceMap, (_ref6)=>{\n        let { sourcePath, sourceDocument, resultPath, value } = _ref6;\n        if ((typeof filter === \"function\" ? filter({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        }) : filterDefault({\n            sourcePath,\n            resultPath,\n            filterDefault,\n            sourceDocument,\n            value\n        })) === false) {\n            if (logger) {\n                report.skipped.push({\n                    path: prettyPathForLogging(sourcePath),\n                    value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                    length: value.length\n                });\n            }\n            return value;\n        }\n        if (logger) {\n            report.encoded.push({\n                path: prettyPathForLogging(sourcePath),\n                value: \"\".concat(value.slice(0, TRUNCATE_LENGTH)).concat(value.length > TRUNCATE_LENGTH ? \"...\" : \"\"),\n                length: value.length\n            });\n        }\n        const { baseUrl, workspace, tool } = resolveStudioBaseRoute(typeof config.studioUrl === \"function\" ? config.studioUrl(sourceDocument) : config.studioUrl);\n        if (!baseUrl) return value;\n        const { _id: id, _type: type } = sourceDocument;\n        return (0,_vercel_stega__WEBPACK_IMPORTED_MODULE_1__.vercelStegaCombine)(value, {\n            origin: \"sanity.io\",\n            href: createEditUrl({\n                baseUrl,\n                workspace,\n                tool,\n                id,\n                type,\n                path: sourcePath\n            })\n        }, // We use custom logic to determine if we should skip encoding\n        false);\n    });\n    if (logger) {\n        const isSkipping = report.skipped.length;\n        const isEncoding = report.encoded.length;\n        if (isSkipping || isEncoding) {\n            (_d = (logger == null ? void 0 : logger.groupCollapsed) || logger.log) == null ? void 0 : _d(\"[@sanity/client/stega]: Encoding source map into result\");\n            (_e = logger.log) == null ? void 0 : _e.call(logger, \"[@sanity/client/stega]: Paths encoded: \".concat(report.encoded.length, \", skipped: \").concat(report.skipped.length));\n        }\n        if (report.encoded.length > 0) {\n            (_f = logger == null ? void 0 : logger.log) == null ? void 0 : _f.call(logger, \"[@sanity/client/stega]: Table of encoded paths\");\n            (_g = (logger == null ? void 0 : logger.table) || logger.log) == null ? void 0 : _g(report.encoded);\n        }\n        if (report.skipped.length > 0) {\n            const skipped = /* @__PURE__ */ new Set();\n            for (const { path } of report.skipped){\n                skipped.add(path.replace(reKeySegment, \"0\").replace(/\\[\\d+\\]/g, \"[]\"));\n            }\n            (_h = logger == null ? void 0 : logger.log) == null ? void 0 : _h.call(logger, \"[@sanity/client/stega]: List of skipped paths\", [\n                ...skipped.values()\n            ]);\n        }\n        if (isSkipping || isEncoding) {\n            (_i = logger == null ? void 0 : logger.groupEnd) == null ? void 0 : _i.call(logger);\n        }\n    }\n    return resultWithStega;\n}\nfunction prettyPathForLogging(path) {\n    return toString(jsonPathToStudioPath(path));\n}\nvar __accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter)=>{\n    __accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter)=>{\n    __accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar _httpRequest, _httpRequest2;\nconst _ObservableSanityStegaClient = class _ObservableSanityStegaClient extends _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.ObservableSanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.defaultConfig;\n        const { clientConfig, stegaConfig } = splitConfig(config);\n        super(httpRequest, clientConfig);\n        /**\n     * Private properties\n     */ __privateAdd(this, _httpRequest, void 0);\n        __privateSet(this, _httpRequest, httpRequest);\n        this.stegaConfig = initStegaConfig(stegaConfig, defaultStegaConfig);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _ObservableSanityStegaClient(__privateGet(this, _httpRequest), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...super.config(),\n                stega: {\n                    ...this.stegaConfig\n                }\n            };\n        }\n        const { clientConfig, stegaConfig } = splitConfig(newConfig);\n        super.config(clientConfig);\n        this.stegaConfig = initStegaConfig(stegaConfig, this.stegaConfig || {});\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        const { stegaConfig } = splitConfig(newConfig || {});\n        return new _ObservableSanityStegaClient(__privateGet(this, _httpRequest), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...stegaConfig || {}\n            }\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (!this.stegaConfig.enabled) {\n            return super.fetch(query, params, options);\n        }\n        const { filterResponse: originalFilterResponse = true } = options;\n        return super.fetch(query, params, Object.assign({}, options, {\n            filterResponse: false,\n            resultSourceMap: \"withKeyArraySelector\"\n        })).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.map)((res)=>{\n            const { result: _result, resultSourceMap } = res;\n            const result = stegaEncodeSourceMap(_result, resultSourceMap, this.stegaConfig);\n            return originalFilterResponse ? result : {\n                ...res,\n                result\n            };\n        }));\n    }\n};\n_httpRequest = new WeakMap();\nlet ObservableSanityStegaClient = _ObservableSanityStegaClient;\nconst _SanityStegaClient = class _SanityStegaClient extends _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.SanityClient {\n    constructor(httpRequest){\n        let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.defaultConfig;\n        const { clientConfig, stegaConfig } = splitConfig(config);\n        super(httpRequest, clientConfig);\n        /**\n     * Private properties\n     */ __privateAdd(this, _httpRequest2, void 0);\n        __privateSet(this, _httpRequest2, httpRequest);\n        this.stegaConfig = initStegaConfig(stegaConfig, defaultStegaConfig);\n        this.observable = new ObservableSanityStegaClient(httpRequest, config);\n    }\n    /**\n   * Clone the client - returns a new instance\n   */ clone() {\n        return new _SanityStegaClient(__privateGet(this, _httpRequest2), this.config());\n    }\n    config(newConfig) {\n        if (newConfig === void 0) {\n            return {\n                ...super.config(),\n                stega: {\n                    ...this.stegaConfig\n                }\n            };\n        }\n        const { clientConfig, stegaConfig } = splitConfig(newConfig);\n        super.config(clientConfig);\n        this.stegaConfig = initStegaConfig(stegaConfig, {\n            ...this.stegaConfig || {}\n        });\n        return this;\n    }\n    /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */ withConfig(newConfig) {\n        const thisConfig = this.config();\n        const { stegaConfig } = splitConfig(newConfig || {});\n        return new _SanityStegaClient(__privateGet(this, _httpRequest2), {\n            ...thisConfig,\n            ...newConfig,\n            stega: {\n                ...thisConfig.stega || {},\n                ...stegaConfig || {}\n            }\n        });\n    }\n    fetch(query, params) {\n        let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (!this.stegaConfig.enabled) {\n            return super.fetch(query, params, options);\n        }\n        const { filterResponse: originalFilterResponse = true } = options;\n        return super.fetch(query, params, Object.assign({}, options, {\n            filterResponse: false,\n            resultSourceMap: \"withKeyArraySelector\"\n        })).then((res)=>{\n            const { result: _result, resultSourceMap } = res;\n            const result = stegaEncodeSourceMap(_result, resultSourceMap, this.stegaConfig);\n            return originalFilterResponse ? result : {\n                ...res,\n                result\n            };\n        });\n    }\n};\n_httpRequest2 = new WeakMap();\nlet SanityStegaClient = _SanityStegaClient;\nfunction vercelStegaCleanAll(result) {\n    return JSON.parse(JSON.stringify(result, (key, value)=>{\n        if (typeof value !== \"string\") return value;\n        return (0,_vercel_stega__WEBPACK_IMPORTED_MODULE_1__.vercelStegaSplit)(value).cleaned;\n    }));\n}\nconst exp = (0,_chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.defineCreateClientExports)(_chunks_browserMiddleware_MafB5TmI_js__WEBPACK_IMPORTED_MODULE_0__.envMiddleware, SanityStegaClient);\nconst requester = exp.requester;\nconst createClient = exp.createClient;\n //# sourceMappingURL=stega.browser.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9jbGllbnQvZGlzdC9zdGVnYS5icm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXdKO0FBQ21CO0FBQ3RJO0FBQ2dDO0FBQ3VCO0FBQzVGLE1BQU1vQixxQkFBcUI7SUFDekJDLFNBQVM7SUFDVEMsUUFBUUMsQ0FBQUEsUUFBU0EsTUFBTUMsYUFBYSxDQUFDRDtBQUN2QztBQUNBLFNBQVNFLFlBQVlDLE1BQU07SUFDekIsTUFBTSxFQUNKQyxRQUFRLENBQUMsQ0FBQyxFQUNWLEdBQUdDLGNBQ0osR0FBR0Y7SUFDSixPQUFPO1FBQ0xFO1FBQ0FDLGFBQWEsT0FBT0YsVUFBVSxZQUFZO1lBQ3hDTixTQUFTTTtRQUNYLElBQUlBO0lBQ047QUFDRjtBQUNBLE1BQU1HLGtCQUFrQixDQUFDSixRQUFRSztJQUMvQixNQUFNQyxrQkFBa0JDLE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdILFlBQVlMO0lBQ3RELE1BQU1TLFlBQVlGLE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUdkLG9CQUFvQlk7SUFDeEQsSUFBSSxxQkFBcUJHLFdBQVc7UUFDbEMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSSwyQkFBMkJELFdBQVc7UUFDeEMsTUFBTSxJQUFJQyxNQUFNO0lBQ2xCO0lBQ0EsSUFBSSxPQUFPRCxVQUFVZCxPQUFPLEtBQUssV0FBVztRQUMxQyxNQUFNLElBQUllLE1BQU0sOENBQThDQyxNQUFNLENBQUNGLFVBQVVkLE9BQU87SUFDeEY7SUFDQSxJQUFJYyxVQUFVZCxPQUFPLElBQUljLFVBQVVHLFNBQVMsS0FBSyxLQUFLLEdBQUc7UUFDdkQsTUFBTSxJQUFJRixNQUFNO0lBQ2xCO0lBQ0EsSUFBSUQsVUFBVWQsT0FBTyxJQUFJLE9BQU9jLFVBQVVHLFNBQVMsS0FBSyxZQUFZLE9BQU9ILFVBQVVHLFNBQVMsS0FBSyxZQUFZO1FBQzdHLE1BQU0sSUFBSUYsTUFBTSw2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c291cmNlcyI6WyJ3ZWJwYWNrOi8vam9obi8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L2NsaWVudC9kaXN0L3N0ZWdhLmJyb3dzZXIuanM/ZmJhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYnNlcnZhYmxlU2FuaXR5Q2xpZW50LCBkZWZhdWx0Q29uZmlnLCBTYW5pdHlDbGllbnQsIGRlZmluZUNyZWF0ZUNsaWVudEV4cG9ydHMsIGVudk1pZGRsZXdhcmUgfSBmcm9tICcuL19jaHVua3MvYnJvd3Nlck1pZGRsZXdhcmUtTWFmQjVUbUkuanMnO1xuZXhwb3J0IHsgQmFzZVBhdGNoLCBCYXNlVHJhbnNhY3Rpb24sIENsaWVudEVycm9yLCBPYnNlcnZhYmxlUGF0Y2gsIE9ic2VydmFibGVUcmFuc2FjdGlvbiwgUGF0Y2gsIFNlcnZlckVycm9yLCBUcmFuc2FjdGlvbiB9IGZyb20gJy4vX2NodW5rcy9icm93c2VyTWlkZGxld2FyZS1NYWZCNVRtSS5qcyc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyB2ZXJjZWxTdGVnYUNvbWJpbmUsIHZlcmNlbFN0ZWdhU3BsaXQgfSBmcm9tICdAdmVyY2VsL3N0ZWdhJztcbmV4cG9ydCB7IGFkYXB0ZXIgYXMgdW5zdGFibGVfX2FkYXB0ZXIsIGVudmlyb25tZW50IGFzIHVuc3RhYmxlX19lbnZpcm9ubWVudCB9IGZyb20gJ2dldC1pdCc7XG5jb25zdCBkZWZhdWx0U3RlZ2FDb25maWcgPSB7XG4gIGVuYWJsZWQ6IGZhbHNlLFxuICBmaWx0ZXI6IHByb3BzID0+IHByb3BzLmZpbHRlckRlZmF1bHQocHJvcHMpXG59O1xuZnVuY3Rpb24gc3BsaXRDb25maWcoY29uZmlnKSB7XG4gIGNvbnN0IHtcbiAgICBzdGVnYSA9IHt9LFxuICAgIC4uLmNsaWVudENvbmZpZ1xuICB9ID0gY29uZmlnO1xuICByZXR1cm4ge1xuICAgIGNsaWVudENvbmZpZyxcbiAgICBzdGVnYUNvbmZpZzogdHlwZW9mIHN0ZWdhID09PSBcImJvb2xlYW5cIiA/IHtcbiAgICAgIGVuYWJsZWQ6IHN0ZWdhXG4gICAgfSA6IHN0ZWdhXG4gIH07XG59XG5jb25zdCBpbml0U3RlZ2FDb25maWcgPSAoY29uZmlnLCBwcmV2Q29uZmlnKSA9PiB7XG4gIGNvbnN0IHNwZWNpZmllZENvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIHByZXZDb25maWcsIGNvbmZpZyk7XG4gIGNvbnN0IG5ld0NvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRTdGVnYUNvbmZpZywgc3BlY2lmaWVkQ29uZmlnKTtcbiAgaWYgKFwiZW5jb2RlU291cmNlTWFwXCIgaW4gbmV3Q29uZmlnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgdXNpbmcgb3B0aW9ucyBtZWFudCBmb3IgJ0BzYW5pdHkvcHJldmlldy1raXQvY2xpZW50Jy4gJ2VuY29kZVNvdXJjZU1hcCcgaXMgbm90IHN1cHBvcnRlZCBpbiAnQHNhbml0eS9jbGllbnQvc3RlZ2EnLiBEaWQgeW91IG1lYW4gJ2VuYWJsZWQnP1wiKTtcbiAgfVxuICBpZiAoXCJlbmNvZGVTb3VyY2VNYXBBdFBhdGhcIiBpbiBuZXdDb25maWcpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJJdCBsb29rcyBsaWtlIHlvdSdyZSB1c2luZyBvcHRpb25zIG1lYW50IGZvciAnQHNhbml0eS9wcmV2aWV3LWtpdC9jbGllbnQnLiAnZW5jb2RlU291cmNlTWFwQXRQYXRoJyBpcyBub3Qgc3VwcG9ydGVkIGluICdAc2FuaXR5L2NsaWVudC9zdGVnYScuIERpZCB5b3UgbWVhbiAnZmlsdGVyJz9cIik7XG4gIH1cbiAgaWYgKHR5cGVvZiBuZXdDb25maWcuZW5hYmxlZCAhPT0gXCJib29sZWFuXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb25maWcuZW5hYmxlZCBtdXN0IGJlIGEgYm9vbGVhbiwgcmVjZWl2ZWQgXCIuY29uY2F0KG5ld0NvbmZpZy5lbmFibGVkKSk7XG4gIH1cbiAgaWYgKG5ld0NvbmZpZy5lbmFibGVkICYmIG5ld0NvbmZpZy5zdHVkaW9VcmwgPT09IHZvaWQgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvbmZpZy5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkIHdoZW4gY29uZmlnLmVuYWJsZWQgaXMgdHJ1ZVwiKTtcbiAgfVxuICBpZiAobmV3Q29uZmlnLmVuYWJsZWQgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdHVkaW9VcmwgIT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG5ld0NvbmZpZy5zdHVkaW9VcmwgIT09IFwiZnVuY3Rpb25cIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImNvbmZpZy5zdHVkaW9VcmwgbXVzdCBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uLCByZWNlaXZlZCBcIi5jb25jYXQobmV3Q29uZmlnLnN0dWRpb1VybCkpO1xuICB9XG4gIHJldHVybiBuZXdDb25maWc7XG59O1xuY29uc3QgRFJBRlRTX1BSRUZJWCA9IFwiZHJhZnRzLlwiO1xuZnVuY3Rpb24gZ2V0UHVibGlzaGVkSWQoaWQpIHtcbiAgaWYgKGlkLnN0YXJ0c1dpdGgoRFJBRlRTX1BSRUZJWCkpIHtcbiAgICByZXR1cm4gaWQuc2xpY2UoRFJBRlRTX1BSRUZJWC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBpZDtcbn1cbmNvbnN0IHJlS2V5U2VnbWVudCA9IC9fa2V5XFxzKj09XFxzKlsnXCJdKC4qKVsnXCJdLztcbmZ1bmN0aW9uIGlzS2V5U2VnbWVudChzZWdtZW50KSB7XG4gIGlmICh0eXBlb2Ygc2VnbWVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiByZUtleVNlZ21lbnQudGVzdChzZWdtZW50LnRyaW0oKSk7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBzZWdtZW50ID09PSBcIm9iamVjdFwiICYmIFwiX2tleVwiIGluIHNlZ21lbnQ7XG59XG5mdW5jdGlvbiB0b1N0cmluZyhwYXRoKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwYXRoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlBhdGggaXMgbm90IGFuIGFycmF5XCIpO1xuICB9XG4gIHJldHVybiBwYXRoLnJlZHVjZSgodGFyZ2V0LCBzZWdtZW50LCBpKSA9PiB7XG4gICAgY29uc3Qgc2VnbWVudFR5cGUgPSB0eXBlb2Ygc2VnbWVudDtcbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHJldHVybiBcIlwiLmNvbmNhdCh0YXJnZXQsIFwiW1wiKS5jb25jYXQoc2VnbWVudCwgXCJdXCIpO1xuICAgIH1cbiAgICBpZiAoc2VnbWVudFR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGkgPT09IDAgPyBcIlwiIDogXCIuXCI7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0KS5jb25jYXQoc2VwYXJhdG9yKS5jb25jYXQoc2VnbWVudCk7XG4gICAgfVxuICAgIGlmIChpc0tleVNlZ21lbnQoc2VnbWVudCkgJiYgc2VnbWVudC5fa2V5KSB7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0LCAnW19rZXk9PVwiJykuY29uY2F0KHNlZ21lbnQuX2tleSwgJ1wiXScpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzZWdtZW50KSkge1xuICAgICAgY29uc3QgW2Zyb20sIHRvXSA9IHNlZ21lbnQ7XG4gICAgICByZXR1cm4gXCJcIi5jb25jYXQodGFyZ2V0LCBcIltcIikuY29uY2F0KGZyb20sIFwiOlwiKS5jb25jYXQodG8sIFwiXVwiKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgcGF0aCBzZWdtZW50IGBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VnbWVudCksIFwiYFwiKSk7XG4gIH0sIFwiXCIpO1xufVxuY29uc3QgRVNDQVBFID0ge1xuICBcIlxcZlwiOiBcIlxcXFxmXCIsXG4gIFwiXFxuXCI6IFwiXFxcXG5cIixcbiAgXCJcXHJcIjogXCJcXFxcclwiLFxuICBcIlx0XCI6IFwiXFxcXHRcIixcbiAgXCInXCI6IFwiXFxcXCdcIixcbiAgXCJcXFxcXCI6IFwiXFxcXFxcXFxcIlxufTtcbmNvbnN0IFVORVNDQVBFID0ge1xuICBcIlxcXFxmXCI6IFwiXFxmXCIsXG4gIFwiXFxcXG5cIjogXCJcXG5cIixcbiAgXCJcXFxcclwiOiBcIlxcclwiLFxuICBcIlxcXFx0XCI6IFwiXHRcIixcbiAgXCJcXFxcJ1wiOiBcIidcIixcbiAgXCJcXFxcXFxcXFwiOiBcIlxcXFxcIlxufTtcbmZ1bmN0aW9uIGpzb25QYXRoKHBhdGgpIHtcbiAgcmV0dXJuIFwiJFwiLmNvbmNhdChwYXRoLm1hcChzZWdtZW50ID0+IHtcbiAgICBpZiAodHlwZW9mIHNlZ21lbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IGVzY2FwZWRLZXkgPSBzZWdtZW50LnJlcGxhY2UoL1tcXGZcXG5cXHJcXHQnXFxcXF0vZywgbWF0Y2ggPT4ge1xuICAgICAgICByZXR1cm4gRVNDQVBFW21hdGNoXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFwiWydcIi5jb25jYXQoZXNjYXBlZEtleSwgXCInXVwiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gXCJbXCIuY29uY2F0KHNlZ21lbnQsIFwiXVwiKTtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2tleSAhPT0gXCJcIikge1xuICAgICAgY29uc3QgZXNjYXBlZEtleSA9IHNlZ21lbnQuX2tleS5yZXBsYWNlKC9bJ1xcXFxdL2csIG1hdGNoID0+IHtcbiAgICAgICAgcmV0dXJuIEVTQ0FQRVttYXRjaF07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcIls/KEAuX2tleT09J1wiLmNvbmNhdChlc2NhcGVkS2V5LCBcIicpXVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwiW1wiLmNvbmNhdChzZWdtZW50Ll9pbmRleCwgXCJdXCIpO1xuICB9KS5qb2luKFwiXCIpKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSnNvblBhdGgocGF0aCkge1xuICBjb25zdCBwYXJzZWQgPSBbXTtcbiAgY29uc3QgcGFyc2VSZSA9IC9cXFsnKC4qPyknXFxdfFxcWyhcXGQrKVxcXXxcXFtcXD9cXChAXFwuX2tleT09JyguKj8pJ1xcKVxcXS9nO1xuICBsZXQgbWF0Y2g7XG4gIHdoaWxlICgobWF0Y2ggPSBwYXJzZVJlLmV4ZWMocGF0aCkpICE9PSBudWxsKSB7XG4gICAgaWYgKG1hdGNoWzFdICE9PSB2b2lkIDApIHtcbiAgICAgIGNvbnN0IGtleSA9IG1hdGNoWzFdLnJlcGxhY2UoL1xcXFwoXFxcXHxmfG58cnx0fCcpL2csIG0gPT4ge1xuICAgICAgICByZXR1cm4gVU5FU0NBUEVbbV07XG4gICAgICB9KTtcbiAgICAgIHBhcnNlZC5wdXNoKGtleSk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKG1hdGNoWzJdICE9PSB2b2lkIDApIHtcbiAgICAgIHBhcnNlZC5wdXNoKHBhcnNlSW50KG1hdGNoWzJdLCAxMCkpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChtYXRjaFszXSAhPT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCBfa2V5ID0gbWF0Y2hbM10ucmVwbGFjZSgvXFxcXChcXFxcJykvZywgbSA9PiB7XG4gICAgICAgIHJldHVybiBVTkVTQ0FQRVttXTtcbiAgICAgIH0pO1xuICAgICAgcGFyc2VkLnB1c2goe1xuICAgICAgICBfa2V5LFxuICAgICAgICBfaW5kZXg6IC0xXG4gICAgICB9KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGFyc2VkO1xufVxuZnVuY3Rpb24ganNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5tYXAoc2VnbWVudCA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2tleSAhPT0gXCJcIikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgX2tleTogc2VnbWVudC5fa2V5XG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoc2VnbWVudC5faW5kZXggIT09IC0xKSB7XG4gICAgICByZXR1cm4gc2VnbWVudC5faW5kZXg7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgc2VnbWVudDpcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoc2VnbWVudCkpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBqc29uUGF0aFRvTWFwcGluZ1BhdGgocGF0aCkge1xuICByZXR1cm4gcGF0aC5tYXAoc2VnbWVudCA9PiB7XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWdtZW50ID09PSBcIm51bWJlclwiKSB7XG4gICAgICByZXR1cm4gc2VnbWVudDtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnQuX2luZGV4ICE9PSAtMSkge1xuICAgICAgcmV0dXJuIHNlZ21lbnQuX2luZGV4O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHNlZ21lbnQ6XCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHNlZ21lbnQpKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlRWRpdFVybChvcHRpb25zKSB7XG4gIGNvbnN0IHtcbiAgICBiYXNlVXJsLFxuICAgIHdvcmtzcGFjZTogX3dvcmtzcGFjZSA9IFwiZGVmYXVsdFwiLFxuICAgIHRvb2w6IF90b29sID0gXCJkZWZhdWx0XCIsXG4gICAgaWQ6IF9pZCxcbiAgICB0eXBlLFxuICAgIHBhdGhcbiAgfSA9IG9wdGlvbnM7XG4gIGlmICghYmFzZVVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJhc2VVcmwgaXMgcmVxdWlyZWRcIik7XG4gIH1cbiAgaWYgKCFwYXRoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwicGF0aCBpcyByZXF1aXJlZFwiKTtcbiAgfVxuICBpZiAoIV9pZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImlkIGlzIHJlcXVpcmVkXCIpO1xuICB9XG4gIGlmIChiYXNlVXJsICE9PSBcIi9cIiAmJiBiYXNlVXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImJhc2VVcmwgbXVzdCBub3QgZW5kIHdpdGggYSBzbGFzaFwiKTtcbiAgfVxuICBjb25zdCB3b3Jrc3BhY2UgPSBfd29ya3NwYWNlID09PSBcImRlZmF1bHRcIiA/IHZvaWQgMCA6IF93b3Jrc3BhY2U7XG4gIGNvbnN0IHRvb2wgPSBfdG9vbCA9PT0gXCJkZWZhdWx0XCIgPyB2b2lkIDAgOiBfdG9vbDtcbiAgY29uc3QgaWQgPSBnZXRQdWJsaXNoZWRJZChfaWQpO1xuICBjb25zdCBzdHJpbmdpZmllZFBhdGggPSBBcnJheS5pc0FycmF5KHBhdGgpID8gdG9TdHJpbmcoanNvblBhdGhUb1N0dWRpb1BhdGgocGF0aCkpIDogcGF0aDtcbiAgY29uc3Qgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgYmFzZVVybCxcbiAgICBpZCxcbiAgICB0eXBlLFxuICAgIHBhdGg6IHN0cmluZ2lmaWVkUGF0aFxuICB9KTtcbiAgaWYgKHdvcmtzcGFjZSkge1xuICAgIHNlYXJjaFBhcmFtcy5zZXQoXCJ3b3Jrc3BhY2VcIiwgd29ya3NwYWNlKTtcbiAgfVxuICBpZiAodG9vbCkge1xuICAgIHNlYXJjaFBhcmFtcy5zZXQoXCJ0b29sXCIsIHRvb2wpO1xuICB9XG4gIGNvbnN0IHNlZ21lbnRzID0gW2Jhc2VVcmwgPT09IFwiL1wiID8gXCJcIiA6IGJhc2VVcmxdO1xuICBpZiAod29ya3NwYWNlKSB7XG4gICAgc2VnbWVudHMucHVzaCh3b3Jrc3BhY2UpO1xuICB9XG4gIGNvbnN0IHJvdXRlclBhcmFtcyA9IFtcImlkPVwiLmNvbmNhdChpZCksIFwidHlwZT1cIi5jb25jYXQodHlwZSksIFwicGF0aD1cIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmaWVkUGF0aCkpXTtcbiAgaWYgKHRvb2wpIHtcbiAgICByb3V0ZXJQYXJhbXMucHVzaChcInRvb2w9XCIuY29uY2F0KHRvb2wpKTtcbiAgfVxuICBzZWdtZW50cy5wdXNoKFwiaW50ZW50XCIsIFwiZWRpdFwiLCBcIlwiLmNvbmNhdChyb3V0ZXJQYXJhbXMuam9pbihcIjtcIiksIFwiP1wiKS5jb25jYXQoc2VhcmNoUGFyYW1zKSk7XG4gIHJldHVybiBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVNYXBwaW5nKHJlc3VsdFBhdGgsIGNzbSkge1xuICBpZiAoIShjc20gPT0gbnVsbCA/IHZvaWQgMCA6IGNzbS5tYXBwaW5ncykpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IHJlc3VsdE1hcHBpbmdQYXRoID0ganNvblBhdGgoanNvblBhdGhUb01hcHBpbmdQYXRoKHJlc3VsdFBhdGgpKTtcbiAgaWYgKGNzbS5tYXBwaW5nc1tyZXN1bHRNYXBwaW5nUGF0aF0gIT09IHZvaWQgMCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBwaW5nOiBjc20ubWFwcGluZ3NbcmVzdWx0TWFwcGluZ1BhdGhdLFxuICAgICAgbWF0Y2hlZFBhdGg6IHJlc3VsdE1hcHBpbmdQYXRoLFxuICAgICAgcGF0aFN1ZmZpeDogXCJcIlxuICAgIH07XG4gIH1cbiAgY29uc3QgbWFwcGluZ3MgPSBPYmplY3QuZW50cmllcyhjc20ubWFwcGluZ3MpLmZpbHRlcihfcmVmID0+IHtcbiAgICBsZXQgW2tleV0gPSBfcmVmO1xuICAgIHJldHVybiByZXN1bHRNYXBwaW5nUGF0aC5zdGFydHNXaXRoKGtleSk7XG4gIH0pLnNvcnQoKF9yZWYyLCBfcmVmMykgPT4ge1xuICAgIGxldCBba2V5MV0gPSBfcmVmMjtcbiAgICBsZXQgW2tleTJdID0gX3JlZjM7XG4gICAgcmV0dXJuIGtleTIubGVuZ3RoIC0ga2V5MS5sZW5ndGg7XG4gIH0pO1xuICBpZiAobWFwcGluZ3MubGVuZ3RoID09IDApIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGNvbnN0IFttYXRjaGVkUGF0aCwgbWFwcGluZ10gPSBtYXBwaW5nc1swXTtcbiAgY29uc3QgcGF0aFN1ZmZpeCA9IHJlc3VsdE1hcHBpbmdQYXRoLnN1YnN0cmluZyhtYXRjaGVkUGF0aC5sZW5ndGgpO1xuICByZXR1cm4ge1xuICAgIG1hcHBpbmcsXG4gICAgbWF0Y2hlZFBhdGgsXG4gICAgcGF0aFN1ZmZpeFxuICB9O1xufVxuZnVuY3Rpb24gcmVzb2x2ZVN0dWRpb0Jhc2VSb3V0ZShzdHVkaW9VcmwpIHtcbiAgbGV0IGJhc2VVcmwgPSB0eXBlb2Ygc3R1ZGlvVXJsID09PSBcInN0cmluZ1wiID8gc3R1ZGlvVXJsIDogc3R1ZGlvVXJsLmJhc2VVcmw7XG4gIGlmIChiYXNlVXJsICE9PSBcIi9cIikge1xuICAgIGJhc2VVcmwgPSBiYXNlVXJsLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbiAgfVxuICBpZiAodHlwZW9mIHN0dWRpb1VybCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiB7XG4gICAgICBiYXNlVXJsXG4gICAgfTtcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLnN0dWRpb1VybCxcbiAgICBiYXNlVXJsXG4gIH07XG59XG5mdW5jdGlvbiBpc0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiBBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzUmVjb3JkKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGw7XG59XG5mdW5jdGlvbiB3YWxrTWFwKHZhbHVlLCBtYXBwaW5nRm4pIHtcbiAgbGV0IHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IFtdO1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUubWFwKCh2LCBpZHgpID0+IHtcbiAgICAgIGlmIChpc1JlY29yZCh2KSkge1xuICAgICAgICBjb25zdCBfa2V5ID0gdltcIl9rZXlcIl07XG4gICAgICAgIGlmICh0eXBlb2YgX2tleSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHJldHVybiB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoe1xuICAgICAgICAgICAgX2tleSxcbiAgICAgICAgICAgIF9pbmRleDogaWR4XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gd2Fsa01hcCh2LCBtYXBwaW5nRm4sIHBhdGguY29uY2F0KGlkeCkpO1xuICAgIH0pO1xuICB9XG4gIGlmIChpc1JlY29yZCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHZhbHVlKS5tYXAoX3JlZjQgPT4ge1xuICAgICAgbGV0IFtrLCB2XSA9IF9yZWY0O1xuICAgICAgcmV0dXJuIFtrLCB3YWxrTWFwKHYsIG1hcHBpbmdGbiwgcGF0aC5jb25jYXQoaykpXTtcbiAgICB9KSk7XG4gIH1cbiAgcmV0dXJuIG1hcHBpbmdGbih2YWx1ZSwgcGF0aCk7XG59XG5mdW5jdGlvbiBlbmNvZGVJbnRvUmVzdWx0KHJlc3VsdCwgY3NtLCBlbmNvZGVyKSB7XG4gIHJldHVybiB3YWxrTWFwKHJlc3VsdCwgKHZhbHVlLCBwYXRoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCByZXNvbHZlTWFwcGluZ1Jlc3VsdCA9IHJlc29sdmVNYXBwaW5nKHBhdGgsIGNzbSk7XG4gICAgaWYgKCFyZXNvbHZlTWFwcGluZ1Jlc3VsdCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBtYXBwaW5nLFxuICAgICAgbWF0Y2hlZFBhdGhcbiAgICB9ID0gcmVzb2x2ZU1hcHBpbmdSZXN1bHQ7XG4gICAgaWYgKG1hcHBpbmcudHlwZSAhPT0gXCJ2YWx1ZVwiKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmIChtYXBwaW5nLnNvdXJjZS50eXBlICE9PSBcImRvY3VtZW50VmFsdWVcIikge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBjb25zdCBzb3VyY2VEb2N1bWVudCA9IGNzbS5kb2N1bWVudHNbbWFwcGluZy5zb3VyY2UuZG9jdW1lbnRdO1xuICAgIGNvbnN0IHNvdXJjZVBhdGggPSBjc20ucGF0aHNbbWFwcGluZy5zb3VyY2UucGF0aF07XG4gICAgY29uc3QgbWF0Y2hQYXRoU2VnbWVudHMgPSBwYXJzZUpzb25QYXRoKG1hdGNoZWRQYXRoKTtcbiAgICBjb25zdCBzb3VyY2VQYXRoU2VnbWVudHMgPSBwYXJzZUpzb25QYXRoKHNvdXJjZVBhdGgpO1xuICAgIGNvbnN0IGZ1bGxTb3VyY2VTZWdtZW50cyA9IHNvdXJjZVBhdGhTZWdtZW50cy5jb25jYXQocGF0aC5zbGljZShtYXRjaFBhdGhTZWdtZW50cy5sZW5ndGgpKTtcbiAgICByZXR1cm4gZW5jb2Rlcih7XG4gICAgICBzb3VyY2VQYXRoOiBmdWxsU291cmNlU2VnbWVudHMsXG4gICAgICBzb3VyY2VEb2N1bWVudCxcbiAgICAgIHJlc3VsdFBhdGg6IHBhdGgsXG4gICAgICB2YWx1ZVxuICAgIH0pO1xuICB9KTtcbn1cbmNvbnN0IGZpbHRlckRlZmF1bHQgPSBfcmVmNSA9PiB7XG4gIGxldCB7XG4gICAgc291cmNlUGF0aCxcbiAgICB2YWx1ZVxuICB9ID0gX3JlZjU7XG4gIGlmIChpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNWYWxpZFVSTCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgZW5kUGF0aCA9IHNvdXJjZVBhdGguYXQoLTEpO1xuICBpZiAoc291cmNlUGF0aC5hdCgtMikgPT09IFwic2x1Z1wiICYmIGVuZFBhdGggPT09IFwiY3VycmVudFwiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJzdHJpbmdcIiAmJiBlbmRQYXRoLnN0YXJ0c1dpdGgoXCJfXCIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2YgZW5kUGF0aCA9PT0gXCJudW1iZXJcIiAmJiBzb3VyY2VQYXRoLmF0KC0yKSA9PT0gXCJtYXJrc1wiKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChlbmRQYXRoID09PSBcImhyZWZcIiAmJiB0eXBlb2Ygc291cmNlUGF0aC5hdCgtMikgPT09IFwibnVtYmVyXCIgJiYgc291cmNlUGF0aC5hdCgtMykgPT09IFwibWFya0RlZnNcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoZW5kUGF0aCA9PT0gXCJzdHlsZVwiIHx8IGVuZFBhdGggPT09IFwibGlzdEl0ZW1cIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoc291cmNlUGF0aC5zb21lKHBhdGggPT4gcGF0aCA9PT0gXCJtZXRhXCIgfHwgcGF0aCA9PT0gXCJtZXRhZGF0YVwiIHx8IHBhdGggPT09IFwib3BlbkdyYXBoXCIgfHwgcGF0aCA9PT0gXCJzZW9cIikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBlbmRQYXRoID09PSBcInN0cmluZ1wiICYmIGRlbnlsaXN0LmhhcyhlbmRQYXRoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn07XG5jb25zdCBkZW55bGlzdCA9IC8qIEBfX1BVUkVfXyAqL25ldyBTZXQoW1wiY29sb3JcIiwgXCJjb2xvdXJcIiwgXCJjdXJyZW5jeVwiLCBcImVtYWlsXCIsIFwiZm9ybWF0XCIsIFwiZ2lkXCIsIFwiaGV4XCIsIFwiaHJlZlwiLCBcImhzbFwiLCBcImhzbGFcIiwgXCJpY29uXCIsIFwiaWRcIiwgXCJpbmRleFwiLCBcImtleVwiLCBcImxhbmd1YWdlXCIsIFwibGF5b3V0XCIsIFwibGlua1wiLCBcImxpbmtBY3Rpb25cIiwgXCJsb2NhbGVcIiwgXCJscWlwXCIsIFwicGFnZVwiLCBcInBhdGhcIiwgXCJyZWZcIiwgXCJyZ2JcIiwgXCJyZ2JhXCIsIFwicm91dGVcIiwgXCJzZWNyZXRcIiwgXCJzbHVnXCIsIFwic3RhdHVzXCIsIFwidGFnXCIsIFwidGVtcGxhdGVcIiwgXCJ0aGVtZVwiLCBcInR5cGVcIiwgXCJ1bml0XCIsIFwidXJsXCIsIFwidXNlcm5hbWVcIiwgXCJ2YXJpYW50XCIsIFwid2Vic2l0ZVwiXSk7XG5mdW5jdGlvbiBpc1ZhbGlkRGF0ZShkYXRlU3RyaW5nKSB7XG4gIHJldHVybiBOdW1iZXIuaXNOYU4oTnVtYmVyKGRhdGVTdHJpbmcpKSA/IEJvb2xlYW4oRGF0ZS5wYXJzZShkYXRlU3RyaW5nKSkgOiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRVUkwodXJsKSB7XG4gIHRyeSB7XG4gICAgbmV3IFVSTCh1cmwsIHVybC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiaHR0cHM6Ly9hY21lLmNvbVwiIDogdm9pZCAwKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuY29uc3QgVFJVTkNBVEVfTEVOR1RIID0gMjA7XG5mdW5jdGlvbiBzdGVnYUVuY29kZVNvdXJjZU1hcChyZXN1bHQsIHJlc3VsdFNvdXJjZU1hcCwgY29uZmlnKSB7XG4gIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9pO1xuICBjb25zdCB7XG4gICAgZmlsdGVyLFxuICAgIGxvZ2dlcixcbiAgICBlbmFibGVkXG4gIH0gPSBjb25maWc7XG4gIGlmICghZW5hYmxlZCkge1xuICAgIGNvbnN0IG1zZyA9IFwiY29uZmlnLmVuYWJsZWQgbXVzdCBiZSB0cnVlLCBkb24ndCBjYWxsIHRoaXMgZnVuY3Rpb24gb3RoZXJ3aXNlXCI7XG4gICAgKF9hID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBcIi5jb25jYXQobXNnKSwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSk7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGlmICghcmVzdWx0U291cmNlTWFwKSB7XG4gICAgKF9iID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBNaXNzaW5nIENvbnRlbnQgU291cmNlIE1hcCBmcm9tIHJlc3BvbnNlIGJvZHlcIiwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBpZiAoIWNvbmZpZy5zdHVkaW9VcmwpIHtcbiAgICBjb25zdCBtc2cgPSBcImNvbmZpZy5zdHVkaW9VcmwgbXVzdCBiZSBkZWZpbmVkXCI7XG4gICAgKF9jID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBcIi5jb25jYXQobXNnKSwge1xuICAgICAgcmVzdWx0LFxuICAgICAgcmVzdWx0U291cmNlTWFwLFxuICAgICAgY29uZmlnXG4gICAgfSk7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpO1xuICB9XG4gIGNvbnN0IHJlcG9ydCA9IHtcbiAgICBlbmNvZGVkOiBbXSxcbiAgICBza2lwcGVkOiBbXVxuICB9O1xuICBjb25zdCByZXN1bHRXaXRoU3RlZ2EgPSBlbmNvZGVJbnRvUmVzdWx0KHJlc3VsdCwgcmVzdWx0U291cmNlTWFwLCBfcmVmNiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIHNvdXJjZVBhdGgsXG4gICAgICBzb3VyY2VEb2N1bWVudCxcbiAgICAgIHJlc3VsdFBhdGgsXG4gICAgICB2YWx1ZVxuICAgIH0gPSBfcmVmNjtcbiAgICBpZiAoKHR5cGVvZiBmaWx0ZXIgPT09IFwiZnVuY3Rpb25cIiA/IGZpbHRlcih7XG4gICAgICBzb3VyY2VQYXRoLFxuICAgICAgcmVzdWx0UGF0aCxcbiAgICAgIGZpbHRlckRlZmF1bHQsXG4gICAgICBzb3VyY2VEb2N1bWVudCxcbiAgICAgIHZhbHVlXG4gICAgfSkgOiBmaWx0ZXJEZWZhdWx0KHtcbiAgICAgIHNvdXJjZVBhdGgsXG4gICAgICByZXN1bHRQYXRoLFxuICAgICAgZmlsdGVyRGVmYXVsdCxcbiAgICAgIHNvdXJjZURvY3VtZW50LFxuICAgICAgdmFsdWVcbiAgICB9KSkgPT09IGZhbHNlKSB7XG4gICAgICBpZiAobG9nZ2VyKSB7XG4gICAgICAgIHJlcG9ydC5za2lwcGVkLnB1c2goe1xuICAgICAgICAgIHBhdGg6IHByZXR0eVBhdGhGb3JMb2dnaW5nKHNvdXJjZVBhdGgpLFxuICAgICAgICAgIHZhbHVlOiBcIlwiLmNvbmNhdCh2YWx1ZS5zbGljZSgwLCBUUlVOQ0FURV9MRU5HVEgpKS5jb25jYXQodmFsdWUubGVuZ3RoID4gVFJVTkNBVEVfTEVOR1RIID8gXCIuLi5cIiA6IFwiXCIpLFxuICAgICAgICAgIGxlbmd0aDogdmFsdWUubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAobG9nZ2VyKSB7XG4gICAgICByZXBvcnQuZW5jb2RlZC5wdXNoKHtcbiAgICAgICAgcGF0aDogcHJldHR5UGF0aEZvckxvZ2dpbmcoc291cmNlUGF0aCksXG4gICAgICAgIHZhbHVlOiBcIlwiLmNvbmNhdCh2YWx1ZS5zbGljZSgwLCBUUlVOQ0FURV9MRU5HVEgpKS5jb25jYXQodmFsdWUubGVuZ3RoID4gVFJVTkNBVEVfTEVOR1RIID8gXCIuLi5cIiA6IFwiXCIpLFxuICAgICAgICBsZW5ndGg6IHZhbHVlLmxlbmd0aFxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGJhc2VVcmwsXG4gICAgICB3b3Jrc3BhY2UsXG4gICAgICB0b29sXG4gICAgfSA9IHJlc29sdmVTdHVkaW9CYXNlUm91dGUodHlwZW9mIGNvbmZpZy5zdHVkaW9VcmwgPT09IFwiZnVuY3Rpb25cIiA/IGNvbmZpZy5zdHVkaW9Vcmwoc291cmNlRG9jdW1lbnQpIDogY29uZmlnLnN0dWRpb1VybCk7XG4gICAgaWYgKCFiYXNlVXJsKSByZXR1cm4gdmFsdWU7XG4gICAgY29uc3Qge1xuICAgICAgX2lkOiBpZCxcbiAgICAgIF90eXBlOiB0eXBlXG4gICAgfSA9IHNvdXJjZURvY3VtZW50O1xuICAgIHJldHVybiB2ZXJjZWxTdGVnYUNvbWJpbmUodmFsdWUsIHtcbiAgICAgIG9yaWdpbjogXCJzYW5pdHkuaW9cIixcbiAgICAgIGhyZWY6IGNyZWF0ZUVkaXRVcmwoe1xuICAgICAgICBiYXNlVXJsLFxuICAgICAgICB3b3Jrc3BhY2UsXG4gICAgICAgIHRvb2wsXG4gICAgICAgIGlkLFxuICAgICAgICB0eXBlLFxuICAgICAgICBwYXRoOiBzb3VyY2VQYXRoXG4gICAgICB9KVxuICAgIH0sXG4gICAgLy8gV2UgdXNlIGN1c3RvbSBsb2dpYyB0byBkZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHNraXAgZW5jb2RpbmdcbiAgICBmYWxzZSk7XG4gIH0pO1xuICBpZiAobG9nZ2VyKSB7XG4gICAgY29uc3QgaXNTa2lwcGluZyA9IHJlcG9ydC5za2lwcGVkLmxlbmd0aDtcbiAgICBjb25zdCBpc0VuY29kaW5nID0gcmVwb3J0LmVuY29kZWQubGVuZ3RoO1xuICAgIGlmIChpc1NraXBwaW5nIHx8IGlzRW5jb2RpbmcpIHtcbiAgICAgIChfZCA9IChsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5ncm91cENvbGxhcHNlZCkgfHwgbG9nZ2VyLmxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9kKFwiW0BzYW5pdHkvY2xpZW50L3N0ZWdhXTogRW5jb2Rpbmcgc291cmNlIG1hcCBpbnRvIHJlc3VsdFwiKTtcbiAgICAgIChfZSA9IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZS5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBQYXRocyBlbmNvZGVkOiBcIi5jb25jYXQocmVwb3J0LmVuY29kZWQubGVuZ3RoLCBcIiwgc2tpcHBlZDogXCIpLmNvbmNhdChyZXBvcnQuc2tpcHBlZC5sZW5ndGgpKTtcbiAgICB9XG4gICAgaWYgKHJlcG9ydC5lbmNvZGVkLmxlbmd0aCA+IDApIHtcbiAgICAgIChfZiA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmxvZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNhbGwobG9nZ2VyLCBcIltAc2FuaXR5L2NsaWVudC9zdGVnYV06IFRhYmxlIG9mIGVuY29kZWQgcGF0aHNcIik7XG4gICAgICAoX2cgPSAobG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIudGFibGUpIHx8IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfZyhyZXBvcnQuZW5jb2RlZCk7XG4gICAgfVxuICAgIGlmIChyZXBvcnQuc2tpcHBlZC5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBza2lwcGVkID0gLyogQF9fUFVSRV9fICovbmV3IFNldCgpO1xuICAgICAgZm9yIChjb25zdCB7XG4gICAgICAgIHBhdGhcbiAgICAgIH0gb2YgcmVwb3J0LnNraXBwZWQpIHtcbiAgICAgICAgc2tpcHBlZC5hZGQocGF0aC5yZXBsYWNlKHJlS2V5U2VnbWVudCwgXCIwXCIpLnJlcGxhY2UoL1xcW1xcZCtcXF0vZywgXCJbXVwiKSk7XG4gICAgICB9XG4gICAgICAoX2ggPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5sb2cpID09IG51bGwgPyB2b2lkIDAgOiBfaC5jYWxsKGxvZ2dlciwgXCJbQHNhbml0eS9jbGllbnQvc3RlZ2FdOiBMaXN0IG9mIHNraXBwZWQgcGF0aHNcIiwgWy4uLnNraXBwZWQudmFsdWVzKCldKTtcbiAgICB9XG4gICAgaWYgKGlzU2tpcHBpbmcgfHwgaXNFbmNvZGluZykge1xuICAgICAgKF9pID0gbG9nZ2VyID09IG51bGwgPyB2b2lkIDAgOiBsb2dnZXIuZ3JvdXBFbmQpID09IG51bGwgPyB2b2lkIDAgOiBfaS5jYWxsKGxvZ2dlcik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRXaXRoU3RlZ2E7XG59XG5mdW5jdGlvbiBwcmV0dHlQYXRoRm9yTG9nZ2luZyhwYXRoKSB7XG4gIHJldHVybiB0b1N0cmluZyhqc29uUGF0aFRvU3R1ZGlvUGF0aChwYXRoKSk7XG59XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiB7XG4gIGlmICghbWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xufTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4ge1xuICBfX2FjY2Vzc0NoZWNrKG9iaiwgbWVtYmVyLCBcInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkXCIpO1xuICByZXR1cm4gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKTtcbn07XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4ge1xuICBpZiAobWVtYmVyLmhhcyhvYmopKSB0aHJvdyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpO1xuICBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKTtcbn07XG52YXIgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiB7XG4gIF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZFwiKTtcbiAgc2V0dGVyID8gc2V0dGVyLmNhbGwob2JqLCB2YWx1ZSkgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuICByZXR1cm4gdmFsdWU7XG59O1xudmFyIF9odHRwUmVxdWVzdCwgX2h0dHBSZXF1ZXN0MjtcbmNvbnN0IF9PYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQgPSBjbGFzcyBfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50IGV4dGVuZHMgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0KSB7XG4gICAgbGV0IGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdENvbmZpZztcbiAgICBjb25zdCB7XG4gICAgICBjbGllbnRDb25maWcsXG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhjb25maWcpO1xuICAgIHN1cGVyKGh0dHBSZXF1ZXN0LCBjbGllbnRDb25maWcpO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QsIHZvaWQgMCk7XG4gICAgX19wcml2YXRlU2V0KHRoaXMsIF9odHRwUmVxdWVzdCwgaHR0cFJlcXVlc3QpO1xuICAgIHRoaXMuc3RlZ2FDb25maWcgPSBpbml0U3RlZ2FDb25maWcoc3RlZ2FDb25maWcsIGRlZmF1bHRTdGVnYUNvbmZpZyk7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgLSByZXR1cm5zIGEgbmV3IGluc3RhbmNlXG4gICAqL1xuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IF9PYnNlcnZhYmxlU2FuaXR5U3RlZ2FDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdCksIHRoaXMuY29uZmlnKCkpO1xuICB9XG4gIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnID09PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN1cGVyLmNvbmZpZygpLFxuICAgICAgICBzdGVnYToge1xuICAgICAgICAgIC4uLnRoaXMuc3RlZ2FDb25maWdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgY2xpZW50Q29uZmlnLFxuICAgICAgc3RlZ2FDb25maWdcbiAgICB9ID0gc3BsaXRDb25maWcobmV3Q29uZmlnKTtcbiAgICBzdXBlci5jb25maWcoY2xpZW50Q29uZmlnKTtcbiAgICB0aGlzLnN0ZWdhQ29uZmlnID0gaW5pdFN0ZWdhQ29uZmlnKHN0ZWdhQ29uZmlnLCB0aGlzLnN0ZWdhQ29uZmlnIHx8IHt9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogQ2xvbmUgdGhlIGNsaWVudCB3aXRoIGEgbmV3IChwYXJ0aWFsKSBjb25maWd1cmF0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gbmV3Q29uZmlnIC0gTmV3IGNsaWVudCBjb25maWd1cmF0aW9uIHByb3BlcnRpZXMsIHNoYWxsb3dseSBtZXJnZWQgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9uXG4gICAqL1xuICB3aXRoQ29uZmlnKG5ld0NvbmZpZykge1xuICAgIGNvbnN0IHRoaXNDb25maWcgPSB0aGlzLmNvbmZpZygpO1xuICAgIGNvbnN0IHtcbiAgICAgIHN0ZWdhQ29uZmlnXG4gICAgfSA9IHNwbGl0Q29uZmlnKG5ld0NvbmZpZyB8fCB7fSk7XG4gICAgcmV0dXJuIG5ldyBfT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QpLCB7XG4gICAgICAuLi50aGlzQ29uZmlnLFxuICAgICAgLi4ubmV3Q29uZmlnLFxuICAgICAgc3RlZ2E6IHtcbiAgICAgICAgLi4uKHRoaXNDb25maWcuc3RlZ2EgfHwge30pLFxuICAgICAgICAuLi4oc3RlZ2FDb25maWcgfHwge30pXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZmV0Y2gocXVlcnksIHBhcmFtcykge1xuICAgIGxldCBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBpZiAoIXRoaXMuc3RlZ2FDb25maWcuZW5hYmxlZCkge1xuICAgICAgcmV0dXJuIHN1cGVyLmZldGNoKHF1ZXJ5LCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBmaWx0ZXJSZXNwb25zZTogb3JpZ2luYWxGaWx0ZXJSZXNwb25zZSA9IHRydWVcbiAgICB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gc3VwZXIuZmV0Y2gocXVlcnksIHBhcmFtcywgT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgZmlsdGVyUmVzcG9uc2U6IGZhbHNlLFxuICAgICAgcmVzdWx0U291cmNlTWFwOiBcIndpdGhLZXlBcnJheVNlbGVjdG9yXCJcbiAgICB9KSkucGlwZShtYXAocmVzID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdWx0OiBfcmVzdWx0LFxuICAgICAgICByZXN1bHRTb3VyY2VNYXBcbiAgICAgIH0gPSByZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChfcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIHRoaXMuc3RlZ2FDb25maWcpO1xuICAgICAgcmV0dXJuIG9yaWdpbmFsRmlsdGVyUmVzcG9uc2UgPyByZXN1bHQgOiB7XG4gICAgICAgIC4uLnJlcyxcbiAgICAgICAgcmVzdWx0XG4gICAgICB9O1xuICAgIH0pKTtcbiAgfVxufTtcbl9odHRwUmVxdWVzdCA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50ID0gX09ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudDtcbmNvbnN0IF9TYW5pdHlTdGVnYUNsaWVudCA9IGNsYXNzIF9TYW5pdHlTdGVnYUNsaWVudCBleHRlbmRzIFNhbml0eUNsaWVudCB7XG4gIGNvbnN0cnVjdG9yKGh0dHBSZXF1ZXN0KSB7XG4gICAgbGV0IGNvbmZpZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdENvbmZpZztcbiAgICBjb25zdCB7XG4gICAgICBjbGllbnRDb25maWcsXG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhjb25maWcpO1xuICAgIHN1cGVyKGh0dHBSZXF1ZXN0LCBjbGllbnRDb25maWcpO1xuICAgIC8qKlxuICAgICAqIFByaXZhdGUgcHJvcGVydGllc1xuICAgICAqL1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfaHR0cFJlcXVlc3QyLCB2b2lkIDApO1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfaHR0cFJlcXVlc3QyLCBodHRwUmVxdWVzdCk7XG4gICAgdGhpcy5zdGVnYUNvbmZpZyA9IGluaXRTdGVnYUNvbmZpZyhzdGVnYUNvbmZpZywgZGVmYXVsdFN0ZWdhQ29uZmlnKTtcbiAgICB0aGlzLm9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50KGh0dHBSZXF1ZXN0LCBjb25maWcpO1xuICB9XG4gIC8qKlxuICAgKiBDbG9uZSB0aGUgY2xpZW50IC0gcmV0dXJucyBhIG5ldyBpbnN0YW5jZVxuICAgKi9cbiAgY2xvbmUoKSB7XG4gICAgcmV0dXJuIG5ldyBfU2FuaXR5U3RlZ2FDbGllbnQoX19wcml2YXRlR2V0KHRoaXMsIF9odHRwUmVxdWVzdDIpLCB0aGlzLmNvbmZpZygpKTtcbiAgfVxuICBjb25maWcobmV3Q29uZmlnKSB7XG4gICAgaWYgKG5ld0NvbmZpZyA9PT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdXBlci5jb25maWcoKSxcbiAgICAgICAgc3RlZ2E6IHtcbiAgICAgICAgICAuLi50aGlzLnN0ZWdhQ29uZmlnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGNsaWVudENvbmZpZyxcbiAgICAgIHN0ZWdhQ29uZmlnXG4gICAgfSA9IHNwbGl0Q29uZmlnKG5ld0NvbmZpZyk7XG4gICAgc3VwZXIuY29uZmlnKGNsaWVudENvbmZpZyk7XG4gICAgdGhpcy5zdGVnYUNvbmZpZyA9IGluaXRTdGVnYUNvbmZpZyhzdGVnYUNvbmZpZywge1xuICAgICAgLi4uKHRoaXMuc3RlZ2FDb25maWcgfHwge30pXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIENsb25lIHRoZSBjbGllbnQgd2l0aCBhIG5ldyAocGFydGlhbCkgY29uZmlndXJhdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIG5ld0NvbmZpZyAtIE5ldyBjbGllbnQgY29uZmlndXJhdGlvbiBwcm9wZXJ0aWVzLCBzaGFsbG93bHkgbWVyZ2VkIHdpdGggZXhpc3RpbmcgY29uZmlndXJhdGlvblxuICAgKi9cbiAgd2l0aENvbmZpZyhuZXdDb25maWcpIHtcbiAgICBjb25zdCB0aGlzQ29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICBjb25zdCB7XG4gICAgICBzdGVnYUNvbmZpZ1xuICAgIH0gPSBzcGxpdENvbmZpZyhuZXdDb25maWcgfHwge30pO1xuICAgIHJldHVybiBuZXcgX1Nhbml0eVN0ZWdhQ2xpZW50KF9fcHJpdmF0ZUdldCh0aGlzLCBfaHR0cFJlcXVlc3QyKSwge1xuICAgICAgLi4udGhpc0NvbmZpZyxcbiAgICAgIC4uLm5ld0NvbmZpZyxcbiAgICAgIHN0ZWdhOiB7XG4gICAgICAgIC4uLih0aGlzQ29uZmlnLnN0ZWdhIHx8IHt9KSxcbiAgICAgICAgLi4uKHN0ZWdhQ29uZmlnIHx8IHt9KVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGZldGNoKHF1ZXJ5LCBwYXJhbXMpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgaWYgKCF0aGlzLnN0ZWdhQ29uZmlnLmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBzdXBlci5mZXRjaChxdWVyeSwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3Qge1xuICAgICAgZmlsdGVyUmVzcG9uc2U6IG9yaWdpbmFsRmlsdGVyUmVzcG9uc2UgPSB0cnVlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgcmV0dXJuIHN1cGVyLmZldGNoKHF1ZXJ5LCBwYXJhbXMsIE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMsIHtcbiAgICAgIGZpbHRlclJlc3BvbnNlOiBmYWxzZSxcbiAgICAgIHJlc3VsdFNvdXJjZU1hcDogXCJ3aXRoS2V5QXJyYXlTZWxlY3RvclwiXG4gICAgfSkpLnRoZW4ocmVzID0+IHtcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgcmVzdWx0OiBfcmVzdWx0LFxuICAgICAgICByZXN1bHRTb3VyY2VNYXBcbiAgICAgIH0gPSByZXM7XG4gICAgICBjb25zdCByZXN1bHQgPSBzdGVnYUVuY29kZVNvdXJjZU1hcChfcmVzdWx0LCByZXN1bHRTb3VyY2VNYXAsIHRoaXMuc3RlZ2FDb25maWcpO1xuICAgICAgcmV0dXJuIG9yaWdpbmFsRmlsdGVyUmVzcG9uc2UgPyByZXN1bHQgOiB7XG4gICAgICAgIC4uLnJlcyxcbiAgICAgICAgcmVzdWx0XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG59O1xuX2h0dHBSZXF1ZXN0MiA9IG5ldyBXZWFrTWFwKCk7XG5sZXQgU2FuaXR5U3RlZ2FDbGllbnQgPSBfU2FuaXR5U3RlZ2FDbGllbnQ7XG5mdW5jdGlvbiB2ZXJjZWxTdGVnYUNsZWFuQWxsKHJlc3VsdCkge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXN1bHQsIChrZXksIHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB2ZXJjZWxTdGVnYVNwbGl0KHZhbHVlKS5jbGVhbmVkO1xuICB9KSk7XG59XG5jb25zdCBleHAgPSBkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzKGVudk1pZGRsZXdhcmUsIFNhbml0eVN0ZWdhQ2xpZW50KTtcbmNvbnN0IHJlcXVlc3RlciA9IGV4cC5yZXF1ZXN0ZXI7XG5jb25zdCBjcmVhdGVDbGllbnQgPSBleHAuY3JlYXRlQ2xpZW50O1xuZXhwb3J0IHsgT2JzZXJ2YWJsZVNhbml0eUNsaWVudCwgT2JzZXJ2YWJsZVNhbml0eVN0ZWdhQ2xpZW50LCBTYW5pdHlDbGllbnQsIFNhbml0eVN0ZWdhQ2xpZW50LCBjcmVhdGVDbGllbnQsIGVuY29kZUludG9SZXN1bHQsIHJlcXVlc3Rlciwgc3RlZ2FFbmNvZGVTb3VyY2VNYXAsIHZlcmNlbFN0ZWdhQ2xlYW5BbGwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0ZWdhLmJyb3dzZXIuanMubWFwXG4iXSwibmFtZXMiOlsiT2JzZXJ2YWJsZVNhbml0eUNsaWVudCIsImRlZmF1bHRDb25maWciLCJTYW5pdHlDbGllbnQiLCJkZWZpbmVDcmVhdGVDbGllbnRFeHBvcnRzIiwiZW52TWlkZGxld2FyZSIsIkJhc2VQYXRjaCIsIkJhc2VUcmFuc2FjdGlvbiIsIkNsaWVudEVycm9yIiwiT2JzZXJ2YWJsZVBhdGNoIiwiT2JzZXJ2YWJsZVRyYW5zYWN0aW9uIiwiUGF0Y2giLCJTZXJ2ZXJFcnJvciIsIlRyYW5zYWN0aW9uIiwibWFwIiwidmVyY2VsU3RlZ2FDb21iaW5lIiwidmVyY2VsU3RlZ2FTcGxpdCIsImFkYXB0ZXIiLCJ1bnN0YWJsZV9fYWRhcHRlciIsImVudmlyb25tZW50IiwidW5zdGFibGVfX2Vudmlyb25tZW50IiwiZGVmYXVsdFN0ZWdhQ29uZmlnIiwiZW5hYmxlZCIsImZpbHRlciIsInByb3BzIiwiZmlsdGVyRGVmYXVsdCIsInNwbGl0Q29uZmlnIiwiY29uZmlnIiwic3RlZ2EiLCJjbGllbnRDb25maWciLCJzdGVnYUNvbmZpZyIsImluaXRTdGVnYUNvbmZpZyIsInByZXZDb25maWciLCJzcGVjaWZpZWRDb25maWciLCJPYmplY3QiLCJhc3NpZ24iLCJuZXdDb25maWciLCJFcnJvciIsImNvbmNhdCIsInN0dWRpb1VybCIsIkRSQUZUU19QUkVGSVgiLCJnZXRQdWJsaXNoZWRJZCIsImlkIiwic3RhcnRzV2l0aCIsInNsaWNlIiwibGVuZ3RoIiwicmVLZXlTZWdtZW50IiwiaXNLZXlTZWdtZW50Iiwic2VnbWVudCIsInRlc3QiLCJ0cmltIiwidG9TdHJpbmciLCJwYXRoIiwiQXJyYXkiLCJpc0FycmF5IiwicmVkdWNlIiwidGFyZ2V0IiwiaSIsInNlZ21lbnRUeXBlIiwic2VwYXJhdG9yIiwiX2tleSIsImZyb20iLCJ0byIsIkpTT04iLCJzdHJpbmdpZnkiLCJFU0NBUEUiLCJVTkVTQ0FQRSIsImpzb25QYXRoIiwiZXNjYXBlZEtleSIsInJlcGxhY2UiLCJtYXRjaCIsIl9pbmRleCIsImpvaW4iLCJwYXJzZUpzb25QYXRoIiwicGFyc2VkIiwicGFyc2VSZSIsImV4ZWMiLCJrZXkiLCJtIiwicHVzaCIsInBhcnNlSW50IiwianNvblBhdGhUb1N0dWRpb1BhdGgiLCJqc29uUGF0aFRvTWFwcGluZ1BhdGgiLCJjcmVhdGVFZGl0VXJsIiwib3B0aW9ucyIsImJhc2VVcmwiLCJ3b3Jrc3BhY2UiLCJfd29ya3NwYWNlIiwidG9vbCIsIl90b29sIiwiX2lkIiwidHlwZSIsImVuZHNXaXRoIiwic3RyaW5naWZpZWRQYXRoIiwic2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwic2V0Iiwic2VnbWVudHMiLCJyb3V0ZXJQYXJhbXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZXNvbHZlTWFwcGluZyIsInJlc3VsdFBhdGgiLCJjc20iLCJtYXBwaW5ncyIsInJlc3VsdE1hcHBpbmdQYXRoIiwibWFwcGluZyIsIm1hdGNoZWRQYXRoIiwicGF0aFN1ZmZpeCIsImVudHJpZXMiLCJfcmVmIiwic29ydCIsIl9yZWYyIiwiX3JlZjMiLCJrZXkxIiwia2V5MiIsInN1YnN0cmluZyIsInJlc29sdmVTdHVkaW9CYXNlUm91dGUiLCJ2YWx1ZSIsImlzUmVjb3JkIiwid2Fsa01hcCIsIm1hcHBpbmdGbiIsImFyZ3VtZW50cyIsInVuZGVmaW5lZCIsInYiLCJpZHgiLCJmcm9tRW50cmllcyIsIl9yZWY0IiwiayIsImVuY29kZUludG9SZXN1bHQiLCJyZXN1bHQiLCJlbmNvZGVyIiwicmVzb2x2ZU1hcHBpbmdSZXN1bHQiLCJzb3VyY2UiLCJzb3VyY2VEb2N1bWVudCIsImRvY3VtZW50cyIsImRvY3VtZW50Iiwic291cmNlUGF0aCIsInBhdGhzIiwibWF0Y2hQYXRoU2VnbWVudHMiLCJzb3VyY2VQYXRoU2VnbWVudHMiLCJmdWxsU291cmNlU2VnbWVudHMiLCJfcmVmNSIsImlzVmFsaWREYXRlIiwiaXNWYWxpZFVSTCIsImVuZFBhdGgiLCJhdCIsInNvbWUiLCJkZW55bGlzdCIsImhhcyIsIlNldCIsImRhdGVTdHJpbmciLCJOdW1iZXIiLCJpc05hTiIsIkJvb2xlYW4iLCJEYXRlIiwicGFyc2UiLCJ1cmwiLCJVUkwiLCJUUlVOQ0FURV9MRU5HVEgiLCJzdGVnYUVuY29kZVNvdXJjZU1hcCIsInJlc3VsdFNvdXJjZU1hcCIsIl9hIiwiX2IiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaSIsImxvZ2dlciIsIm1zZyIsImVycm9yIiwiY2FsbCIsIlR5cGVFcnJvciIsInJlcG9ydCIsImVuY29kZWQiLCJza2lwcGVkIiwicmVzdWx0V2l0aFN0ZWdhIiwiX3JlZjYiLCJwcmV0dHlQYXRoRm9yTG9nZ2luZyIsIl90eXBlIiwib3JpZ2luIiwiaHJlZiIsImlzU2tpcHBpbmciLCJpc0VuY29kaW5nIiwiZ3JvdXBDb2xsYXBzZWQiLCJsb2ciLCJ0YWJsZSIsImFkZCIsInZhbHVlcyIsImdyb3VwRW5kIiwiX19hY2Nlc3NDaGVjayIsIm9iaiIsIm1lbWJlciIsIl9fcHJpdmF0ZUdldCIsImdldHRlciIsImdldCIsIl9fcHJpdmF0ZUFkZCIsIldlYWtTZXQiLCJfX3ByaXZhdGVTZXQiLCJzZXR0ZXIiLCJfaHR0cFJlcXVlc3QiLCJfaHR0cFJlcXVlc3QyIiwiX09ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCIsImNvbnN0cnVjdG9yIiwiaHR0cFJlcXVlc3QiLCJjbG9uZSIsIndpdGhDb25maWciLCJ0aGlzQ29uZmlnIiwiZmV0Y2giLCJxdWVyeSIsInBhcmFtcyIsImZpbHRlclJlc3BvbnNlIiwib3JpZ2luYWxGaWx0ZXJSZXNwb25zZSIsInBpcGUiLCJyZXMiLCJfcmVzdWx0IiwiV2Vha01hcCIsIk9ic2VydmFibGVTYW5pdHlTdGVnYUNsaWVudCIsIl9TYW5pdHlTdGVnYUNsaWVudCIsIm9ic2VydmFibGUiLCJ0aGVuIiwiU2FuaXR5U3RlZ2FDbGllbnQiLCJ2ZXJjZWxTdGVnYUNsZWFuQWxsIiwiY2xlYW5lZCIsImV4cCIsInJlcXVlc3RlciIsImNyZWF0ZUNsaWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/client/dist/stega.browser.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@sanity/preview-kit/dist/client.js":
/*!*********************************************************!*\
  !*** ./node_modules/@sanity/preview-kit/dist/client.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createClient: () => (/* binding */ createClient)\n/* harmony export */ });\n/* harmony import */ var _sanity_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sanity/client */ \"(rsc)/./node_modules/@sanity/client/dist/index.browser.js\");\n/* harmony import */ var _sanity_client_stega__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sanity/client/stega */ \"(rsc)/./node_modules/@sanity/client/dist/stega.browser.js\");\n\n\nconst createClient = (config)=>{\n    var _a, _b;\n    const { encodeSourceMap = detectEnableSourceMap(), encodeSourceMapAtPath, studioUrl = detectStudioUrl(), logger, ...options } = config;\n    let shouldEncodeSourceMap = encodeSourceMap === true;\n    if (encodeSourceMap === \"auto\") {\n        shouldEncodeSourceMap = isVercelPreviewEnvironment();\n    }\n    if (typeof encodeSourceMap === \"string\" && encodeSourceMap !== \"auto\") {\n        throw new Error(\"Invalid value for encodeSourceMap: \".concat(encodeSourceMap, \". Did you mean 'auto'?\"));\n    }\n    try {\n        if (shouldEncodeSourceMap && config.resultSourceMap !== false) {\n            if (!studioUrl) {\n                (_a = logger == null ? void 0 : logger.error) == null ? void 0 : _a.call(logger, \"[@sanity/preview-kit]: Content source map enabled client is enabled, but no studioUrl is provided. Falling back to @sanity/client\");\n                return (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)(options);\n            }\n            (_b = logger == null ? void 0 : logger.debug) == null ? void 0 : _b.call(logger, \"[@sanity/preview-kit]: Creating source map enabled client\");\n            return (0,_sanity_client_stega__WEBPACK_IMPORTED_MODULE_1__.createClient)({\n                ...options,\n                // Source maps by Content Lake are required in order to know where to insert the encoded source maps into strings\n                resultSourceMap: config.resultSourceMap ? config.resultSourceMap : \"withKeyArraySelector\",\n                stega: {\n                    enabled: true,\n                    studioUrl,\n                    logger,\n                    filter: encodeSourceMapAtPath ? (props)=>encodeSourceMapAtPath({\n                            path: props.sourcePath,\n                            filterDefault: ()=>props.filterDefault(props)\n                        }) : void 0\n                }\n            });\n        }\n    } catch (err) {\n        console.error(\"[@sanity/preview-kit]: Error creating client\", err, \"falling back to non-embedded sourcemap mode\");\n    }\n    return (0,_sanity_client__WEBPACK_IMPORTED_MODULE_0__.createClient)(options);\n};\nfunction isVercelPreviewEnvironment() {\n    try {\n        return /* unsupported import.meta.env.VERCEL_ENV */ undefined.VERCEL_ENV === \"preview\";\n    } catch  {}\n    try {\n        return process.env.VERCEL_ENV === \"preview\";\n    } catch  {}\n    return false;\n}\nfunction detectEnableSourceMap() {\n    try {\n        return /* unsupported import.meta.env.SANITY_SOURCE_MAP */ undefined.SANITY_SOURCE_MAP === \"true\" || \"auto\";\n    } catch  {}\n    try {\n        return process.env.SANITY_SOURCE_MAP === \"true\" || \"auto\";\n    } catch  {}\n    return \"auto\";\n}\nfunction detectStudioUrl() {\n    try {\n        return /* unsupported import.meta.env.SANITY_STUDIO_URL */ undefined.SANITY_STUDIO_URL;\n    } catch  {}\n    try {\n        return process.env.SANITY_STUDIO_URL;\n    } catch  {}\n}\n //# sourceMappingURL=client.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHNhbml0eS9wcmV2aWV3LWtpdC9kaXN0L2NsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0U7QUFDTTtBQUN0RSxNQUFNQSxlQUFlRyxDQUFBQTtJQUNuQixJQUFJQyxJQUFJQztJQUNSLE1BQU0sRUFDSkMsa0JBQWtCQyx1QkFBdUIsRUFDekNDLHFCQUFxQixFQUNyQkMsWUFBWUMsaUJBQWlCLEVBQzdCQyxNQUFNLEVBQ04sR0FBR0MsU0FDSixHQUFHVDtJQUNKLElBQUlVLHdCQUF3QlAsb0JBQW9CO0lBQ2hELElBQUlBLG9CQUFvQixRQUFRO1FBQzlCTyx3QkFBd0JDO0lBQzFCO0lBQ0EsSUFBSSxPQUFPUixvQkFBb0IsWUFBWUEsb0JBQW9CLFFBQVE7UUFDckUsTUFBTSxJQUFJUyxNQUFNLHNDQUFzQ0MsTUFBTSxDQUFDVixpQkFBaUI7SUFDaEY7SUFDQSxJQUFJO1FBQ0YsSUFBSU8seUJBQXlCVixPQUFPYyxlQUFlLEtBQUssT0FBTztZQUM3RCxJQUFJLENBQUNSLFdBQVc7Z0JBQ2JMLENBQUFBLEtBQUtPLFVBQVUsT0FBTyxLQUFLLElBQUlBLE9BQU9PLEtBQUssS0FBSyxPQUFPLEtBQUssSUFBSWQsR0FBR2UsSUFBSSxDQUFDUixRQUFRO2dCQUNqRixPQUFPViw0REFBY0EsQ0FBQ1c7WUFDeEI7WUFDQ1AsQ0FBQUEsS0FBS00sVUFBVSxPQUFPLEtBQUssSUFBSUEsT0FBT1MsS0FBSyxLQUFLLE9BQU8sS0FBSyxJQUFJZixHQUFHYyxJQUFJLENBQUNSLFFBQVE7WUFDakYsT0FBT1Qsa0VBQWNBLENBQUM7Z0JBQ3BCLEdBQUdVLE9BQU87Z0JBQ1YsaUhBQWlIO2dCQUNqSEssaUJBQWlCZCxPQUFPYyxlQUFlLEdBQUdkLE9BQU9jLGVBQWUsR0FBRztnQkFDbkVJLE9BQU87b0JBQ0xDLFNBQVM7b0JBQ1RiO29CQUNBRTtvQkFDQVksUUFBUWYsd0JBQXdCZ0IsQ0FBQUEsUUFBU2hCLHNCQUFzQjs0QkFDN0RpQixNQUFNRCxNQUFNRSxVQUFVOzRCQUN0QkMsZUFBZSxJQUFNSCxNQUFNRyxhQUFhLENBQUNIO3dCQUMzQyxLQUFLLEtBQUs7Z0JBQ1o7WUFDRjtRQUNGO0lBQ0YsRUFBRSxPQUFPSSxLQUFLO1FBQ1pDLFFBQVFYLEtBQUssQ0FBQyxnREFBZ0RVLEtBQUs7SUFDckU7SUFDQSxPQUFPM0IsNERBQWNBLENBQUNXO0FBQ3hCO0FBQ0EsU0FBU0U7SUFDUCxJQUFJO1FBQ0YsT0FBTyxpRUFBMEIsS0FBSztJQUN4QyxFQUFFLE9BQU0sQ0FBQztJQUNULElBQUk7UUFDRixPQUFPa0IsUUFBUUYsR0FBRyxDQUFDQyxVQUFVLEtBQUs7SUFDcEMsRUFBRSxPQUFNLENBQUM7SUFDVCxPQUFPO0FBQ1Q7QUFDQSxTQUFTeEI7SUFDUCxJQUFJO1FBQ0YsT0FBTywrRUFBaUMsS0FBSyxVQUFVO0lBQ3pELEVBQUUsT0FBTSxDQUFDO0lBQ1QsSUFBSTtRQUNGLE9BQU95QixRQUFRRixHQUFHLENBQUNHLGlCQUFpQixLQUFLLFVBQVU7SUFDckQsRUFBRSxPQUFNLENBQUM7SUFDVCxPQUFPO0FBQ1Q7QUFDQSxTQUFTdkI7SUFDUCxJQUFJO1FBQ0YsT0FBTywrRUFBaUM7SUFDMUMsRUFBRSxPQUFNLENBQUM7SUFDVCxJQUFJO1FBQ0YsT0FBT3NCLFFBQVFGLEdBQUcsQ0FBQ0ksaUJBQWlCO0lBQ3RDLEVBQUUsT0FBTSxDQUFDO0FBQ1g7QUFDd0IsQ0FDeEIsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9obi8uL25vZGVfbW9kdWxlcy9Ac2FuaXR5L3ByZXZpZXcta2l0L2Rpc3QvY2xpZW50LmpzP2RlYzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IGFzIGNyZWF0ZUNsaWVudCQxIH0gZnJvbSAnQHNhbml0eS9jbGllbnQnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IGFzIGNyZWF0ZUNsaWVudCQyIH0gZnJvbSAnQHNhbml0eS9jbGllbnQvc3RlZ2EnO1xuY29uc3QgY3JlYXRlQ2xpZW50ID0gY29uZmlnID0+IHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3Qge1xuICAgIGVuY29kZVNvdXJjZU1hcCA9IGRldGVjdEVuYWJsZVNvdXJjZU1hcCgpLFxuICAgIGVuY29kZVNvdXJjZU1hcEF0UGF0aCxcbiAgICBzdHVkaW9VcmwgPSBkZXRlY3RTdHVkaW9VcmwoKSxcbiAgICBsb2dnZXIsXG4gICAgLi4ub3B0aW9uc1xuICB9ID0gY29uZmlnO1xuICBsZXQgc2hvdWxkRW5jb2RlU291cmNlTWFwID0gZW5jb2RlU291cmNlTWFwID09PSB0cnVlO1xuICBpZiAoZW5jb2RlU291cmNlTWFwID09PSBcImF1dG9cIikge1xuICAgIHNob3VsZEVuY29kZVNvdXJjZU1hcCA9IGlzVmVyY2VsUHJldmlld0Vudmlyb25tZW50KCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBlbmNvZGVTb3VyY2VNYXAgPT09IFwic3RyaW5nXCIgJiYgZW5jb2RlU291cmNlTWFwICE9PSBcImF1dG9cIikge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVuY29kZVNvdXJjZU1hcDogXCIuY29uY2F0KGVuY29kZVNvdXJjZU1hcCwgXCIuIERpZCB5b3UgbWVhbiAnYXV0byc/XCIpKTtcbiAgfVxuICB0cnkge1xuICAgIGlmIChzaG91bGRFbmNvZGVTb3VyY2VNYXAgJiYgY29uZmlnLnJlc3VsdFNvdXJjZU1hcCAhPT0gZmFsc2UpIHtcbiAgICAgIGlmICghc3R1ZGlvVXJsKSB7XG4gICAgICAgIChfYSA9IGxvZ2dlciA9PSBudWxsID8gdm9pZCAwIDogbG9nZ2VyLmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChsb2dnZXIsIFwiW0BzYW5pdHkvcHJldmlldy1raXRdOiBDb250ZW50IHNvdXJjZSBtYXAgZW5hYmxlZCBjbGllbnQgaXMgZW5hYmxlZCwgYnV0IG5vIHN0dWRpb1VybCBpcyBwcm92aWRlZC4gRmFsbGluZyBiYWNrIHRvIEBzYW5pdHkvY2xpZW50XCIpO1xuICAgICAgICByZXR1cm4gY3JlYXRlQ2xpZW50JDEob3B0aW9ucyk7XG4gICAgICB9XG4gICAgICAoX2IgPSBsb2dnZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGxvZ2dlci5kZWJ1ZykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwobG9nZ2VyLCBcIltAc2FuaXR5L3ByZXZpZXcta2l0XTogQ3JlYXRpbmcgc291cmNlIG1hcCBlbmFibGVkIGNsaWVudFwiKTtcbiAgICAgIHJldHVybiBjcmVhdGVDbGllbnQkMih7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIC8vIFNvdXJjZSBtYXBzIGJ5IENvbnRlbnQgTGFrZSBhcmUgcmVxdWlyZWQgaW4gb3JkZXIgdG8ga25vdyB3aGVyZSB0byBpbnNlcnQgdGhlIGVuY29kZWQgc291cmNlIG1hcHMgaW50byBzdHJpbmdzXG4gICAgICAgIHJlc3VsdFNvdXJjZU1hcDogY29uZmlnLnJlc3VsdFNvdXJjZU1hcCA/IGNvbmZpZy5yZXN1bHRTb3VyY2VNYXAgOiBcIndpdGhLZXlBcnJheVNlbGVjdG9yXCIsXG4gICAgICAgIHN0ZWdhOiB7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBzdHVkaW9VcmwsXG4gICAgICAgICAgbG9nZ2VyLFxuICAgICAgICAgIGZpbHRlcjogZW5jb2RlU291cmNlTWFwQXRQYXRoID8gcHJvcHMgPT4gZW5jb2RlU291cmNlTWFwQXRQYXRoKHtcbiAgICAgICAgICAgIHBhdGg6IHByb3BzLnNvdXJjZVBhdGgsXG4gICAgICAgICAgICBmaWx0ZXJEZWZhdWx0OiAoKSA9PiBwcm9wcy5maWx0ZXJEZWZhdWx0KHByb3BzKVxuICAgICAgICAgIH0pIDogdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihcIltAc2FuaXR5L3ByZXZpZXcta2l0XTogRXJyb3IgY3JlYXRpbmcgY2xpZW50XCIsIGVyciwgXCJmYWxsaW5nIGJhY2sgdG8gbm9uLWVtYmVkZGVkIHNvdXJjZW1hcCBtb2RlXCIpO1xuICB9XG4gIHJldHVybiBjcmVhdGVDbGllbnQkMShvcHRpb25zKTtcbn07XG5mdW5jdGlvbiBpc1ZlcmNlbFByZXZpZXdFbnZpcm9ubWVudCgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaW1wb3J0Lm1ldGEuZW52LlZFUkNFTF9FTlYgPT09IFwicHJldmlld1wiO1xuICB9IGNhdGNoIHt9XG4gIHRyeSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09IFwicHJldmlld1wiO1xuICB9IGNhdGNoIHt9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGRldGVjdEVuYWJsZVNvdXJjZU1hcCgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gaW1wb3J0Lm1ldGEuZW52LlNBTklUWV9TT1VSQ0VfTUFQID09PSBcInRydWVcIiB8fCBcImF1dG9cIjtcbiAgfSBjYXRjaCB7fVxuICB0cnkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5TQU5JVFlfU09VUkNFX01BUCA9PT0gXCJ0cnVlXCIgfHwgXCJhdXRvXCI7XG4gIH0gY2F0Y2gge31cbiAgcmV0dXJuIFwiYXV0b1wiO1xufVxuZnVuY3Rpb24gZGV0ZWN0U3R1ZGlvVXJsKCkge1xuICB0cnkge1xuICAgIHJldHVybiBpbXBvcnQubWV0YS5lbnYuU0FOSVRZX1NUVURJT19VUkw7XG4gIH0gY2F0Y2gge31cbiAgdHJ5IHtcbiAgICByZXR1cm4gcHJvY2Vzcy5lbnYuU0FOSVRZX1NUVURJT19VUkw7XG4gIH0gY2F0Y2gge31cbn1cbmV4cG9ydCB7IGNyZWF0ZUNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xpZW50LmpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImNyZWF0ZUNsaWVudCQxIiwiY3JlYXRlQ2xpZW50JDIiLCJjb25maWciLCJfYSIsIl9iIiwiZW5jb2RlU291cmNlTWFwIiwiZGV0ZWN0RW5hYmxlU291cmNlTWFwIiwiZW5jb2RlU291cmNlTWFwQXRQYXRoIiwic3R1ZGlvVXJsIiwiZGV0ZWN0U3R1ZGlvVXJsIiwibG9nZ2VyIiwib3B0aW9ucyIsInNob3VsZEVuY29kZVNvdXJjZU1hcCIsImlzVmVyY2VsUHJldmlld0Vudmlyb25tZW50IiwiRXJyb3IiLCJjb25jYXQiLCJyZXN1bHRTb3VyY2VNYXAiLCJlcnJvciIsImNhbGwiLCJkZWJ1ZyIsInN0ZWdhIiwiZW5hYmxlZCIsImZpbHRlciIsInByb3BzIiwicGF0aCIsInNvdXJjZVBhdGgiLCJmaWx0ZXJEZWZhdWx0IiwiZXJyIiwiY29uc29sZSIsImVudiIsIlZFUkNFTF9FTlYiLCJwcm9jZXNzIiwiU0FOSVRZX1NPVVJDRV9NQVAiLCJTQU5JVFlfU1RVRElPX1VSTCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@sanity/preview-kit/dist/client.js\n");

/***/ })

};
;